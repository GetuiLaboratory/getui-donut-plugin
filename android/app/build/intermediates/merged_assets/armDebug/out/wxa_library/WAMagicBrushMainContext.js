this.__wxLibrary={fileName:"WAMagicBrushMainContext.js",envType:"Service",contextType:"MagicBrush:MainContext",execStart:Date.now(),mayHaveSnapshot:!1};var __WAMagicBrushMainContextStartTime__=this.__wxLibrary.execStart;!function(e){var t={updateTime:"2024.8.7 14:49:07",version:"3.2.5",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,wkFeatureVersion:4,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,expt:["clicfg_appbrand_ios_native_download_new","clicfg_appbrand_native_download","clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_appbrand_android_tcp_buffer","clicfg_appbrand_ios_tcp_buffer","clicfg_weapp_weak_net_predict_local","clicfg_wa_ar_iosurface_switch","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_free_httpdns_sdk_cache","clicfg_appbrand_android_free_httpdns_sdk_cache","clicfg_appbrand_ios_inneraudio2webaudio","clicfg_appbrand_android_inneraudio2webaudio","clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio","clicfg_appbrand_android_inneraudio2webaudio_usewebaudio","clicfg_appbrand_ios_allow_multi_context_worker","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_game_split_multi_plugincode","clicfg_appbrand_game_split_multi_plugincode","clicfg_appbrand_ios_arkit2wevision_usewevision","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_enable_async_create_request_task","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_android_inneraudio2webaudio_stream","clicfg_appbrand_ios_inneraudio2webaudio_stream","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_android_product_recommand_new","clicfg_appbrand_ios_product_recommand_new","clicfg_appbrand_android_xnet_binding","clicfg_appbrand_ios_paymentad_expose_after_click","clicfg_appbrand_android_paymentad_expose_after_click","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_ting_weapp_audio_switch","clicfg_ting_android_weapp_audio_switch"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}}},debugOptions:{}},r=e.Function,n=r;void 0===e.__wxConfig&&(e.__wxConfig={}),e.__wxConfig.platform=e.mb.env&&e.mb.env.platform||"",e.NativeGlobal&&e.NativeGlobal.WeixinJSContext&&(e.WeixinJSContext=e.NativeGlobal.WeixinJSContext);var o={};(()=>{var e={8908:(e,t,r)=>{var n={"./applyDecoratedDescriptor":9980,"./asyncToGenerator":7566,"./initializerDefineProperty":2644,"./initializerWarningHelper":3840,"./objectSpread2":3519};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=8908},9980:(e,t,r)=>{"use strict";function n(e,t,r,n,o){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(e,t,a),null):a}r.r(t),r.d(t,{default:()=>n})},7566:(e,t,r)=>{"use strict";function n(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,c,"next",e)}function c(e){n(i,o,a,s,c,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>o})},2644:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},3840:(e,t,r)=>{"use strict";function n(e,t){throw Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},3519:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function a(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},697:(e,t,r)=>{var n=r(242),o=r(8671),a=r(1337),i=r(3638),s=a.data,c=a.normalize,u="USE_FUNCTION_CONSTRUCTOR",l="AsyncIteratorPrototype",p=function(e,t){if(o(e))for(var r=0;r<e.length;r++)s[c(e[r])]=t};e.exports=function(e){"object"==typeof e&&(p(e.useNative,a.NATIVE),p(e.usePolyfill,a.POLYFILL),p(e.useFeatureDetection,null),n(e,u)&&(i[u]=!!e[u]),n(e,l)&&(i[u]=e[l]))}},8273:(e,t,r)=>{var n=r(8668),o=r(2902),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not a function")}},7217:(e,t,r)=>{var n=r(6306),o=r(2902),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not a constructor")}},249:(e,t,r)=>{var n=r(8668),o=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},857:(e,t,r)=>{var n=r(7083).has;e.exports=function(e){return n(e),e}},1496:(e,t,r)=>{var n=r(1825),o=r(8173),a=r(4874),i=r(3230),s=r(5729),c=r(3450),u=c("asyncDispose"),l=c("dispose"),p=n([].push),f=function(e,t,r){return o(r||function(e,t){return"async-dispose"==t&&s(e,u)||s(e,l)}(e,t),e)};e.exports=function(e,t,r,n){var o;if(n)o=i(t)?f(void 0,r,n):f(a(t),r,n);else{if(i(t))return;o=f(t,r)}p(e.stack,o)}},4402:(e,t,r)=>{var n=r(3450),o=r(9353),a=r(2898).f,i=n("unscopables"),s=Array.prototype;null==s[i]&&a(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},5178:(e,t,r)=>{"use strict";var n=r(7636).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7358:(e,t,r)=>{var n=r(3842),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},4874:(e,t,r)=>{var n=r(2223),o=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(o(e)+" is not an object")}},8732:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9831:(e,t,r)=>{"use strict";var o,a,i,s=r(8732),c=r(1629),u=r(3008),l=r(8668),p=r(2223),f=r(242),d=r(6238),h=r(2902),g=r(6472),v=r(5621),y=r(6037),m=r(3842),_=r(1114),b=r(2334),S=r(3450),w=r(209),C=r(1038),x=C.enforce,k=C.get,I=u.Int8Array,P=I&&I.prototype,A=u.Uint8ClampedArray,E=A&&A.prototype,T=I&&_(I),R=P&&_(P),M=Object.prototype,L=u.TypeError,O=S("toStringTag"),D=w("TYPED_ARRAY_TAG"),B="TypedArrayConstructor",j=s&&!!b&&"Opera"!==d(u.opera),N=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=_(e);if(p(t)){var r=k(t);return r&&f(r,B)?r[B]:U(t)}},$=function(e){if(!p(e))return!1;var t=d(e);return f(F,t)||f(W,t)};for(o in F)(i=(a=u[o])&&a.prototype)?x(i)[B]=a:j=!1;for(o in W)(i=(a=u[o])&&a.prototype)&&(x(i)[B]=a);if((!j||!l(T)||T===n.prototype)&&(T=function(){throw L("Incorrect invocation")},j))for(o in F)u[o]&&b(u[o],T);if((!j||!R||R===M)&&(R=T.prototype,j))for(o in F)u[o]&&b(u[o].prototype,R);if(j&&_(E)!==R&&b(E,R),c&&!f(R,O))for(o in N=!0,y(R,O,{configurable:!0,get:function(){return p(this)?this[D]:void 0}}),F)u[o]&&g(u[o],D,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:N&&D,aTypedArray:function(e){if($(e))return e;throw L("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!b||m(T,e)))return e;throw L(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(c){if(r)for(var o in F){var a=u[o];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}R[e]&&!r||v(R,e,r?t:j&&P[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(c){if(b){if(r)for(n in F)if((o=u[n])&&f(o,e))try{delete o[e]}catch(e){}if(T[e]&&!r)return;try{return v(T,e,r?t:j&&T[e]||t)}catch(e){}}for(n in F)!(o=u[n])||o[e]&&!r||v(o,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!p(e))return!1;var t=d(e);return"DataView"===t||f(F,t)||f(W,t)},isTypedArray:$,TypedArray:T,TypedArrayPrototype:R}},4777:(e,t,r)=>{"use strict";var n=r(3008),o=r(1825),a=r(1629),i=r(8732),s=r(6847),c=r(6472),u=r(6037),l=r(4432),p=r(8498),f=r(7358),d=r(1832),h=r(5867),g=r(7139),v=r(695),y=r(1114),m=r(2334),_=r(7741).f,b=r(854),S=r(224),w=r(1418),C=r(1038),x=s.PROPER,k=s.CONFIGURABLE,I="ArrayBuffer",P="DataView",A="prototype",E="Wrong index",T=C.getterFor(I),R=C.getterFor(P),M=C.set,L=n[I],O=L,D=O&&O[A],B=n[P],j=B&&B[A],N=Object.prototype,F=n.Array,W=n.RangeError,U=o(b),$=o([].reverse),q=v.pack,V=v.unpack,G=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},J=function(e){return q(e,23,4)},X=function(e){return q(e,52,8)},Q=function(e,t,r){u(e[A],t,{configurable:!0,get:function(){return r(this)[t]}})},Y=function(e,t,r,n){var o=g(r),a=R(e);if(o+t>a.byteLength)throw W(E);var i=a.bytes,s=o+a.byteOffset,c=S(i,s,s+t);return n?c:$(c)},Z=function(e,t,r,n,o,a){var i=g(r),s=R(e);if(i+t>s.byteLength)throw W(E);for(var c=s.bytes,u=i+s.byteOffset,l=n(+o),p=0;p<t;p++)c[u+p]=l[a?p:t-p-1]};if(i){var ee=x&&L.name!==I;if(p((function(){L(1)}))&&p((function(){new L(-1)}))&&!p((function(){return new L,new L(1.5),new L(NaN),1!=L.length||ee&&!k})))ee&&k&&c(L,"name",I);else{(O=function(e){return f(this,D),new L(g(e))})[A]=D;for(var te,re=_(L),ne=0;re.length>ne;)(te=re[ne++])in O||c(O,te,L[te]);D.constructor=O}m&&y(j)!==N&&m(j,N);var oe=new B(new O(2)),ae=o(j.setInt8);oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||l(j,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else D=(O=function(e){f(this,D);var t=g(e);M(this,{type:I,bytes:U(F(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[A],j=(B=function(e,t,r){f(this,j),f(e,D);var n=T(e),o=n.byteLength,i=d(t);if(i<0||i>o)throw W("Wrong offset");if(i+(r=void 0===r?o-i:h(r))>o)throw W("Wrong length");M(this,{type:P,buffer:e,byteLength:r,byteOffset:i,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=i)})[A],a&&(Q(O,"byteLength",T),Q(B,"buffer",R),Q(B,"byteLength",R),Q(B,"byteOffset",R)),l(j,{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(Y(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(Y(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V(Y(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V(Y(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Z(this,1,e,G,t)},setUint8:function(e,t){Z(this,1,e,G,t)},setInt16:function(e,t){Z(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Z(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Z(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Z(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Z(this,4,e,J,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Z(this,8,e,X,t,arguments.length>2?arguments[2]:void 0)}});w(O,I),w(B,P),e.exports={ArrayBuffer:O,DataView:B}},854:(e,t,r)=>{"use strict";var n=r(5468),o=r(1251),a=r(541);e.exports=function(e){for(var t=n(this),r=a(t),i=arguments.length,s=o(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,u=void 0===c?r:o(c,r);u>s;)t[s++]=e;return t}},4814:(e,t,r)=>{"use strict";var n=r(8173),o=r(1825),a=r(5468),i=r(6306),s=r(737),c=r(2030),u=r(8434),l=r(2482),p=r(5729),f=r(869),d=r(2404),h=r(3450),g=r(7385),v=r(1460).toArray,y=h("asyncIterator"),m=o(f("Array").values),_=o(m([]).next),b=function(){return new S(this)},S=function(e){this.iterator=m(e)};S.prototype.next=function(){return _(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,o=r>1?arguments[1]:void 0,f=r>2?arguments[2]:void 0;return new(d("Promise"))((function(r){var d=a(e);void 0!==o&&(o=n(o,f));var h=p(d,y),m=h?void 0:l(d)||b,_=i(t)?new t:[],S=h?s(d,h):new g(u(c(d,m)));r(v(S,o,_))}))}},7223:(e,t,r)=>{var n=r(541);e.exports=function(e,t){for(var r=0,o=n(t),a=new e(o);o>r;)a[r]=t[r++];return a}},8683:(e,t,r)=>{"use strict";var n=r(8173),o=r(1825),a=r(9040),i=r(5468),s=r(541),c=r(29),u=c.Map,l=c.get,p=c.has,f=c.set,d=o([].push);e.exports=function(e){for(var t,r,o=i(this),c=a(o),h=n(e,arguments.length>1?arguments[1]:void 0),g=new u,v=s(c),y=0;v>y;y++)t=h(r=c[y],y,o),p(g,t)?d(l(g,t),r):f(g,t,[r]);return g}},5220:(e,t,r)=>{var n=r(8173),o=r(1825),a=r(9040),i=r(5468),s=r(4088),c=r(541),u=r(9353),l=r(7223),p=Array,f=o([].push);e.exports=function(e,t,r,o){for(var d,h,g,v=i(e),y=a(v),m=n(t,r),_=u(null),b=c(y),S=0;b>S;S++)g=y[S],(h=s(m(g,S,v)))in _?f(_[h],g):_[h]=[g];if(o&&(d=o(v))!==p)for(h in _)_[h]=l(d,_[h]);return _}},4133:(e,t,r)=>{var n=r(3996),o=r(1251),a=r(541),i=function(e){return function(t,r,i){var s,c=n(t),u=a(c),l=o(i,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},7926:(e,t,r)=>{var n=r(8173),o=r(9040),a=r(5468),i=r(541),s=function(e){var t=1==e;return function(r,s,c){for(var u,l=a(r),p=o(l),f=n(s,c),d=i(p);d-- >0;)if(f(u=p[d],d,l))switch(e){case 0:return u;case 1:return d}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},280:(e,t,r)=>{var n=r(8173),o=r(1825),a=r(9040),i=r(5468),s=r(541),c=r(1438),u=o([].push),l=function(e){var t=1==e,r=2==e,o=3==e,l=4==e,p=6==e,f=7==e,d=5==e||p;return function(h,g,v,y){for(var m,_,b=i(h),S=a(b),w=n(g,v),C=s(S),x=0,k=y||c,I=t?k(h,C):r||f?k(h,0):void 0;C>x;x++)if((d||x in S)&&(_=w(m=S[x],x,b),e))if(t)I[x]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:u(I,m)}else switch(e){case 4:return!1;case 7:u(I,m)}return p?-1:o||l?l:I}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},9189:(e,t,r)=>{"use strict";var n=r(8498);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},7152:(e,t,r)=>{"use strict";var n=r(1629),o=r(8671),a=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!i(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},224:(e,t,r)=>{var n=r(1251),o=r(541),a=r(5713),i=Array,s=Math.max;e.exports=function(e,t,r){for(var c=o(e),u=n(t,c),l=n(void 0===r?c:r,c),p=i(s(l-u,0)),f=0;u<l;u++,f++)a(p,f,e[u]);return p.length=f,p}},8849:(e,t,r)=>{var n=r(1825);e.exports=n([].slice)},5727:(e,t,r)=>{var n=r(224),o=Math.floor,a=function(e,t){var r=e.length,c=o(r/2);return r<8?i(e,t):s(e,a(n(e,0,c),t),a(n(e,c),t),t)},i=function(e,t){for(var r,n,o=e.length,a=1;a<o;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var o=t.length,a=r.length,i=0,s=0;i<o||s<a;)e[i+s]=i<o&&s<a?n(t[i],r[s])<=0?t[i++]:r[s++]:i<o?t[i++]:r[s++];return e};e.exports=a},7756:(e,t,r)=>{var n=r(8671),o=r(6306),a=r(2223),i=r(3450)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(o(t)&&(t===s||n(t.prototype))||a(t)&&null===(t=t[i]))&&(t=void 0)),void 0===t?s:t}},1438:(e,t,r)=>{var n=r(7756);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},6281:(e,t,r)=>{var n=r(541);e.exports=function(e,t){for(var r=n(e),o=new t(r),a=0;a<r;a++)o[a]=e[r-a-1];return o}},2611:(e,t,r)=>{var n=r(541),o=r(1832),a=RangeError;e.exports=function(e,t,r,i){var s=n(e),c=o(r),u=c<0?s+c:c;if(u>=s||u<0)throw a("Incorrect index");for(var l=new t(s),p=0;p<s;p++)l[p]=p===u?i:e[p];return l}},7385:(e,t,r)=>{"use strict";var n=r(3080),o=r(4874),a=r(9353),i=r(5729),s=r(4432),c=r(1038),u=r(2404),l=r(4745),p=r(5824),f=u("Promise"),d="AsyncFromSyncIterator",h=c.set,g=c.getterFor(d),v=function(e,t,r){var n=e.done;f.resolve(e.value).then((function(e){t(p(e,n))}),r)},y=function(e){e.type=d,h(this,e)};y.prototype=s(a(l),{next:function(){var e=g(this);return new f((function(t,r){var a=o(n(e.next,e.iterator));v(a,t,r)}))},return:function(){var e=g(this).iterator;return new f((function(t,r){var a=i(e,"return");if(void 0===a)return t(p(void 0,!0));var s=o(n(a,e));v(s,t,r)}))}}),e.exports=y},6595:(e,t,r)=>{var n=r(3080),o=r(2404),a=r(5729);e.exports=function(e,t,r,i){try{var s=a(e,"return");if(s)return o("Promise").resolve(n(s,e)).then((function(){t(r)}),(function(e){i(e)}))}catch(e){return i(e)}t(r)}},5654:(e,t,r)=>{"use strict";var n=r(3080),o=r(5898),a=r(4874),i=r(9353),s=r(6472),c=r(4432),u=r(3450),l=r(1038),p=r(2404),f=r(5729),d=r(4745),h=r(5824),g=r(7172),v=p("Promise"),y=u("toStringTag"),m="AsyncIteratorHelper",_="WrapForValidAsyncIterator",b=l.set,S=function(e){var t=!e,r=l.getterFor(e?_:m),s=function(e){var n=o((function(){return r(e)})),a=n.error,i=n.value;return a||t&&i.done?{exit:!0,value:a?v.reject(i):v.resolve(h(void 0,!0))}:{exit:!1,value:i}};return c(i(d),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=o((function(){return a(t.nextHandler(v))})),n=r.error,i=r.value;return n&&(t.done=!0),n?v.reject(i):v.resolve(i)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var i,c,u=r.iterator,l=o((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(e){return g(u,"throw",e)}return f(u,"return")}));return i=c=l.value,l.error?v.reject(c):void 0===i?v.resolve(h(void 0,!0)):(c=(l=o((function(){return n(i,u)}))).value,l.error?v.reject(c):e?v.resolve(c):v.resolve(c).then((function(e){return a(e),h(void 0,!0)})))}})},w=S(!0),C=S(!1);s(C,y,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?_:m,n.nextHandler=e,n.counter=0,n.done=!1,b(this,n)};return r.prototype=t?w:C,r}},1460:(e,t,r)=>{"use strict";var n=r(3080),o=r(8273),a=r(4874),i=r(2223),s=r(114),c=r(2404),u=r(8434),l=r(6595),p=function(e){var t=0==e,r=1==e,p=2==e,f=3==e;return function(e,d,h){var g=u(e),v=c("Promise"),y=g.iterator,m=g.next,_=0,b=void 0!==d;return!b&&t||o(d),new v((function(e,o){var c=function(e){l(y,o,e,o)},u=function(){try{if(b)try{s(_)}catch(e){c(e)}v.resolve(a(n(m,y))).then((function(n){try{if(a(n).done)t?(h.length=_,e(h)):e(!f&&(p||void 0));else{var s=n.value;try{if(b){var g=d(s,_),m=function(n){if(r)u();else if(p)n?u():l(y,e,!1,o);else if(t)try{h[_++]=n,u()}catch(e){c(e)}else n?l(y,e,f||s,o):u()};i(g)?v.resolve(g).then(m,c):m(g)}else h[_++]=s,u()}catch(e){c(e)}}}catch(e){o(e)}}),o)}catch(e){o(e)}};u()}))}};e.exports={toArray:p(0),forEach:p(1),every:p(2),some:p(3),find:p(4)}},1241:(e,t,r)=>{"use strict";var n=r(3080),o=r(8273),a=r(4874),i=r(2223),s=r(8434),c=r(5654),u=r(5824),l=r(6595),p=c((function(e){var t=this,r=t.iterator,o=t.mapper;return new e((function(s,c){var p=function(e){t.done=!0,c(e)},f=function(e){l(r,p,e,p)};e.resolve(a(n(t.next,r))).then((function(r){try{if(a(r).done)t.done=!0,s(u(void 0,!0));else{var n=r.value;try{var c=o(n,t.counter++),l=function(e){s(u(e,!1))};i(c)?e.resolve(c).then(l,f):l(c)}catch(e){f(e)}}}catch(e){p(e)}}),p)}))}));e.exports=function(e){return new p(s(this),{mapper:o(e)})}},4745:(e,t,r)=>{var o,a,i=r(3008),s=r(3638),c=r(8668),u=r(9353),l=r(1114),p=r(5621),f=r(3450),d=r(6262),h="USE_FUNCTION_CONSTRUCTOR",g=f("asyncIterator"),v=i.AsyncIterator,y=s.AsyncIteratorPrototype;if(y)o=y;else if(c(v))o=v.prototype;else if(s[h]||i[h])try{a=l(l(l(n("return async function*(){}()")()))),l(a)===Object.prototype&&(o=a)}catch(e){}o?d&&(o=u(o)):o={},c(o[g])||p(o,g,(function(){return this})),e.exports=o},555:(e,t,r)=>{var n=r(3080),o=r(5654);e.exports=o((function(){return n(this.next,this.iterator)}),!0)},1180:(e,t,r)=>{var n=r(4874),o=r(7172);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},2275:(e,t,r)=>{var n=r(3450)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[n]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},9953:(e,t,r)=>{var n=r(1825),o=n({}.toString),a=n("".slice);e.exports=function(e){return a(o(e),8,-1)}},6238:(e,t,r)=>{var n=r(9473),o=r(8668),a=r(9953),i=r(3450)("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?r:c?a(t):"Object"==(n=a(t))&&o(t.callee)?"Arguments":n}},1137:(e,t,r)=>{var n=r(242),o=r(9920),a=r(1128),i=r(2898);e.exports=function(e,t,r){for(var s=o(t),c=i.f,u=a.f,l=0;l<s.length;l++){var p=s[l];n(e,p)||r&&n(r,p)||c(e,p,u(t,p))}}},4744:(e,t,r)=>{var n=r(8498);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},5824:e=>{e.exports=function(e,t){return{value:e,done:t}}},6472:(e,t,r)=>{var n=r(1629),o=r(2898),a=r(5587);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},5587:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5713:(e,t,r)=>{"use strict";var n=r(4088),o=r(2898),a=r(5587);e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},6037:(e,t,r)=>{var n=r(6514),o=r(2898);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},5621:(e,t,r)=>{var n=r(8668),o=r(2898),a=r(6514),i=r(302);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(n(r)&&a(r,u,s),s.global)c?e[t]=r:i(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},4432:(e,t,r)=>{var n=r(5621);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},302:(e,t,r)=>{var n=r(3008),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},1257:(e,t,r)=>{"use strict";var n=r(2902),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+n(t)+" of "+n(e))}},1629:(e,t,r)=>{var n=r(8498);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6832:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},4614:(e,t,r)=>{var n=r(3008),o=r(2223),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},114:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7031:(e,t,r)=>{var n=r(3021).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},5139:(e,t,r)=>{var n=r(5275),o=r(8127);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},5275:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},8813:(e,t,r)=>{var n=r(3021);e.exports=/MSIE|Trident/.test(n)},8855:(e,t,r)=>{var n=r(3021);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},2810:(e,t,r)=>{var n=r(3021);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},8127:(e,t,r)=>{var n=r(9953);e.exports="undefined"!=typeof process&&"process"==n(process)},1942:(e,t,r)=>{var n=r(3021);e.exports=/web0s(?!.*chrome)/i.test(n)},3021:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},9893:(e,t,r)=>{var n,o,a=r(3008),i=r(3021),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},6789:(e,t,r)=>{var n=r(3021).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},869:(e,t,r)=>{var n=r(3008);e.exports=function(e){return n[e].prototype}},682:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8300:(e,t,r)=>{var n=r(1825),o=Error,a=n("".replace),i=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},7750:(e,t,r)=>{var n=r(6472),o=r(8300),a=r(694),i=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(i?i(e,t):n(e,"stack",o(r,s)))}},694:(e,t,r)=>{var n=r(8498),o=r(5587);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},333:(e,t,r)=>{var n=r(3008),o=r(1128).f,a=r(6472),i=r(5621),s=r(302),c=r(1137),u=r(1337);e.exports=function(e,t){var r,l,p,f,d,h=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(f=t[l],p=e.dontCallGetSet?(d=o(r,l))&&d.value:r[l],!u(g?l:h+(v?".":"#")+l,e.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(e.sham||p&&p.sham)&&a(f,"sham",!0),i(r,l,f,e)}}},8498:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2387:(e,t,r)=>{"use strict";r(4472);var n=r(2747),o=r(5621),a=r(4030),i=r(8498),s=r(3450),c=r(6472),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,p){var f=s(e),d=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=d&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!d||!h||r){var g=n(/./[f]),v=t(f,""[e],(function(e,t,r,o,i){var s=n(e),c=t.exec;return c===a||c===l.exec?d&&!i?{done:!0,value:g(t,r,o)}:{done:!0,value:s(r,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(l,f,v[1])}p&&c(l[f],"sham",!0)}},3222:(e,t,r)=>{var o=r(9007),a=n.prototype,i=a.apply,s=a.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(i):function(){return s.apply(i,arguments)})},8173:(e,t,r)=>{var n=r(2747),o=r(8273),a=r(9007),i=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},9007:(e,t,r)=>{var n=r(8498);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3080:(e,t,r)=>{var o=r(9007),a=n.prototype.call;e.exports=o?a.bind(a):function(){return a.apply(a,arguments)}},6847:(e,t,r)=>{var o=r(1629),a=r(242),i=n.prototype,s=o&&Object.getOwnPropertyDescriptor,c=a(i,"name"),u=c&&"something"===function(){}.name,l=c&&(!o||o&&s(i,"name").configurable);e.exports={EXISTS:c,PROPER:u,CONFIGURABLE:l}},9809:(e,t,r)=>{var n=r(1825),o=r(8273);e.exports=function(e,t,r){try{return n(o(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},2747:(e,t,r)=>{var n=r(9953),o=r(1825);e.exports=function(e){if("Function"===n(e))return o(e)}},1825:(e,t,r)=>{var o=r(9007),a=n.prototype,i=a.call,s=o&&a.bind.bind(i,i);e.exports=o?s:function(e){return function(){return i.apply(e,arguments)}}},4630:(e,t,r)=>{var n=r(3080),o=r(8668),a=r(4874),i=r(8434),s=r(2482),c=r(5729),u=r(3450),l=r(7385),p=u("asyncIterator");e.exports=function(e){var t,r=a(e),u=!0,f=c(r,p);return o(f)||(f=s(r),u=!1),o(f)?t=n(f,r):(t=r,u=!0),a(t),i(u?t:new l(i(t)))}},737:(e,t,r)=>{var n=r(3080),o=r(7385),a=r(4874),i=r(2030),s=r(8434),c=r(5729),u=r(3450)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?c(e,u):t;return r?a(n(r,e)):new o(s(i(e)))}},2404:(e,t,r)=>{var n=r(3008),o=r(8668);e.exports=function(e,t){return arguments.length<2?(r=n[e],o(r)?r:void 0):n[e]&&n[e][t];var r}},8434:(e,t,r)=>{var n=r(8273),o=r(4874);e.exports=function(e){return{iterator:e,next:n(o(e).next)}}},4821:(e,t,r)=>{var n=r(3080),o=r(8668),a=r(4874),i=r(8434),s=r(2482);e.exports=function(e){var t=a(e),r=s(t);return i(a(o(r)?n(r,t):t))}},2482:(e,t,r)=>{var n=r(6238),o=r(5729),a=r(3230),i=r(5996),s=r(3450)("iterator");e.exports=function(e){if(!a(e))return o(e,s)||o(e,"@@iterator")||i[n(e)]}},2030:(e,t,r)=>{var n=r(3080),o=r(8273),a=r(4874),i=r(2902),s=r(2482),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(o(r))return a(n(r,e));throw c(i(e)+" is not iterable")}},7502:(e,t,r)=>{var n=r(1825),o=r(8671),a=r(8668),i=r(9953),s=r(1994),c=n([].push);e.exports=function(e){if(a(e))return e;if(o(e)){for(var t=e.length,r=[],n=0;n<t;n++){var u=e[n];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!=i(u)&&"String"!=i(u)||c(r,s(u))}var l=r.length,p=!0;return function(e,t){if(p)return p=!1,t;if(o(this))return t;for(var n=0;n<l;n++)if(r[n]===e)return t}}}},5729:(e,t,r)=>{var n=r(8273),o=r(3230);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},8022:(e,t,r)=>{var n=r(8273),o=r(4874),a=r(3080),i=r(1832),s=TypeError,c=Math.max,u=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};u.prototype={getIterator:function(){return o(a(this.keys,this.set))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){o(e);var t=+e.size;if(t!=t)throw s("Invalid size");return new u(e,c(i(t),0),n(e.has),n(e.keys))}},5817:(e,t,r)=>{var n=r(1825),o=r(5468),a=Math.floor,i=n("".charAt),s=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,p,f){var d=r+e.length,h=n.length,g=l;return void 0!==p&&(p=o(p),g=u),s(f,g,(function(o,s){var u;switch(i(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,d);case"<":u=p[c(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>h){var f=a(l/10);return 0===f?o:f<=h?void 0===n[f-1]?i(s,1):n[f-1]+i(s,1):o}u=n[l-1]}return void 0===u?"":u}))}},3008:(e,t,r)=>{var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r.g&&r.g)||function(){return this}()||n("return this")()},242:(e,t,r)=>{var n=r(1825),o=r(5468),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},8612:e=>{e.exports={}},9386:e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},6210:(e,t,r)=>{var n=r(2404);e.exports=n("document","documentElement")},3910:(e,t,r)=>{var n=r(1629),o=r(8498),a=r(4614);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},695:e=>{var t=Array,r=Math.abs,n=Math.pow,o=Math.floor,a=Math.log,i=Math.LN2;e.exports={pack:function(e,s,c){var u,l,p,f=t(c),d=8*c-s-1,h=(1<<d)-1,g=h>>1,v=23===s?n(2,-24)-n(2,-77):0,y=e<0||0===e&&1/e<0?1:0,m=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,u=h):(u=o(a(e)/i),e*(p=n(2,-u))<1&&(u--,p*=2),(e+=u+g>=1?v/p:v*n(2,1-g))*p>=2&&(u++,p/=2),u+g>=h?(l=0,u=h):u+g>=1?(l=(e*p-1)*n(2,s),u+=g):(l=e*n(2,g-1)*n(2,s),u=0));s>=8;)f[m++]=255&l,l/=256,s-=8;for(u=u<<s|l,d+=s;d>0;)f[m++]=255&u,u/=256,d-=8;return f[--m]|=128*y,f},unpack:function(e,t){var r,o=e.length,a=8*o-t-1,i=(1<<a)-1,s=i>>1,c=a-7,u=o-1,l=e[u--],p=127&l;for(l>>=7;c>0;)p=256*p+e[u--],c-=8;for(r=p&(1<<-c)-1,p>>=-c,c+=t;c>0;)r=256*r+e[u--],c-=8;if(0===p)p=1-s;else{if(p===i)return r?NaN:l?-1/0:1/0;r+=n(2,t),p-=s}return(l?-1:1)*r*n(2,p-t)}}},9040:(e,t,r)=>{var n=r(1825),o=r(8498),a=r(9953),i=Object,s=n("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):i(e)}:i},2422:(e,t,r)=>{var n=r(8668),o=r(2223),a=r(2334);e.exports=function(e,t,r){var i,s;return a&&n(i=t.constructor)&&i!==r&&o(s=i.prototype)&&s!==r.prototype&&a(e,s),e}},5893:(e,t,r)=>{var o=r(1825),a=r(8668),i=r(3638),s=o(n.toString);a(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},9505:(e,t,r)=>{var n=r(2223),o=r(6472);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},1038:(e,t,r)=>{var n,o,a,i=r(3097),s=r(3008),c=r(2223),u=r(6472),l=r(242),p=r(3638),f=r(6072),d=r(8612),h="Object already initialized",g=s.TypeError,v=s.WeakMap;if(i||p.state){var y=p.state||(p.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw g(h);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},a=function(e){return y.has(e)}}else{var m=f("state");d[m]=!0,n=function(e,t){if(l(e,m))throw g(h);return t.facade=e,u(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},a=function(e){return l(e,m)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},4450:(e,t,r)=>{var n=r(3450),o=r(5996),a=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},8671:(e,t,r)=>{var n=r(9953);e.exports=Array.isArray||function(e){return"Array"==n(e)}},9512:(e,t,r)=>{var n=r(6238);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},8668:(e,t,r)=>{var n=r(6832),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},6306:(e,t,r)=>{var n=r(1825),o=r(8498),a=r(8668),i=r(6238),s=r(2404),c=r(5893),u=function(){},l=[],p=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=n(f.exec),h=!f.exec(u),g=function(e){if(!a(e))return!1;try{return p(u,l,e),!0}catch(e){return!1}},v=function(e){if(!a(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!d(f,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!p||o((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},1337:(e,t,r)=>{var n=r(8498),o=r(8668),a=/#|\.prototype\./,i=function(e,t){var r=c[s(e)];return r==l||r!=u&&(o(t)?n(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},960:(e,t,r)=>{var n=r(2223),o=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&o(e)===e}},3230:e=>{e.exports=function(e){return null==e}},2223:(e,t,r)=>{var n=r(8668),o=r(6832),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},6262:e=>{e.exports=!1},9:(e,t,r)=>{var n=r(2223),o=r(9953),a=r(3450)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},9744:(e,t,r)=>{var n=r(2404),o=r(8668),a=r(3842),i=r(8641),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&a(t.prototype,s(e))}},8920:(e,t,r)=>{var n=r(3080);e.exports=function(e,t,r){for(var o,a,i=r||e.next;!(o=n(i,e)).done;)if(void 0!==(a=t(o.value)))return a}},8713:(e,t,r)=>{var n=r(8173),o=r(3080),a=r(4874),i=r(2902),s=r(4450),c=r(541),u=r(3842),l=r(2030),p=r(2482),f=r(7172),d=TypeError,h=function(e,t){this.stopped=e,this.result=t},g=h.prototype;e.exports=function(e,t,r){var v,y,m,_,b,S,w,C=r&&r.that,x=!(!r||!r.AS_ENTRIES),k=!(!r||!r.IS_RECORD),I=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),A=n(t,C),E=function(e){return v&&f(v,"normal",e),new h(!0,e)},T=function(e){return x?(a(e),P?A(e[0],e[1],E):A(e[0],e[1])):P?A(e,E):A(e)};if(k)v=e.iterator;else if(I)v=e;else{if(!(y=p(e)))throw d(i(e)+" is not iterable");if(s(y)){for(m=0,_=c(e);_>m;m++)if((b=T(e[m]))&&u(g,b))return b;return new h(!1)}v=l(e,y)}for(S=k?e.next:v.next;!(w=o(S,v)).done;){try{b=T(w.value)}catch(e){f(v,"throw",e)}if("object"==typeof b&&b&&u(g,b))return b}return new h(!1)}},7172:(e,t,r)=>{var n=r(3080),o=r(4874),a=r(5729);e.exports=function(e,t,r){var i,s;o(e);try{if(!(i=a(e,"return"))){if("throw"===t)throw r;return r}i=n(i,e)}catch(e){s=!0,i=e}if("throw"===t)throw r;if(s)throw i;return o(i),r}},7271:(e,t,r)=>{"use strict";var n=r(7410).IteratorPrototype,o=r(9353),a=r(5587),i=r(1418),s=r(5996),c=function(){return this};e.exports=function(e,t,r,u){var l=t+" Iterator";return e.prototype=o(n,{next:a(+!u,r)}),i(e,l,!1,!0),s[l]=c,e}},715:(e,t,r)=>{"use strict";var n=r(3080),o=r(9353),a=r(6472),i=r(4432),s=r(3450),c=r(1038),u=r(5729),l=r(7410).IteratorPrototype,p=r(5824),f=r(7172),d=s("toStringTag"),h="IteratorHelper",g="WrapForValidIterator",v=c.set,y=function(e){var t=c.getterFor(e?g:h);return i(o(l),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return p(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),o=r.iterator;if(r.done=!0,e){var a=u(o,"return");return a?n(a,o):p(void 0,!0)}if(r.inner)try{f(r.inner.iterator,"normal")}catch(e){return f(o,"throw",e)}return f(o,"normal"),p(void 0,!0)}})},m=y(!0),_=y(!1);a(_,d,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?g:h,n.nextHandler=e,n.counter=0,n.done=!1,v(this,n)};return r.prototype=t?m:_,r}},9046:(e,t,r)=>{"use strict";var n=r(3080),o=r(8273),a=r(4874),i=r(8434),s=r(715),c=r(1180),u=s((function(){var e=this.iterator,t=a(n(this.next,e));if(!(this.done=!!t.done))return c(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return new u(i(this),{mapper:o(e)})}},7410:(e,t,r)=>{"use strict";var n,o,a,i=r(8498),s=r(8668),c=r(2223),u=r(9353),l=r(1114),p=r(5621),f=r(3450),d=r(6262),h=f("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(o=l(l(a)))!==Object.prototype&&(n=o):g=!0),!c(n)||i((function(){var e={};return n[h].call(e)!==e}))?n={}:d&&(n=u(n)),s(n[h])||p(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},5996:e=>{e.exports={}},541:(e,t,r)=>{var n=r(5867);e.exports=function(e){return n(e.length)}},6514:(e,t,r)=>{var o=r(1825),a=r(8498),i=r(8668),s=r(242),c=r(1629),u=r(6847).CONFIGURABLE,l=r(5893),p=r(1038),f=p.enforce,d=p.get,h=String,g=Object.defineProperty,v=o("".slice),y=o("".replace),m=o([].join),_=c&&!a((function(){return 8!==g((function(){}),"length",{value:8}).length})),b=String(String).split("String"),S=e.exports=function(e,t,r){"Symbol("===v(h(t),0,7)&&(t="["+y(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||u&&e.name!==t)&&(c?g(e,"name",{value:t,configurable:!0}):e.name=t),_&&r&&s(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?c&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=f(e);return s(n,"source")||(n.source=m(b,"string"==typeof t?t:"")),e};n.prototype.toString=S((function(){return i(this)&&d(this).source||l(this)}),"toString")},29:(e,t,r)=>{var n=r(1825),o=Map.prototype;e.exports={Map:Map,set:n(o.set),get:n(o.get),has:n(o.has),remove:n(o.delete),proto:o}},5518:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},2542:(e,t,r)=>{var n,o,a,i,s,c=r(3008),u=r(8173),l=r(1128).f,p=r(2962).set,f=r(6600),d=r(2810),h=r(8855),g=r(1942),v=r(8127),y=c.MutationObserver||c.WebKitMutationObserver,m=c.document,_=c.process,b=c.Promise,S=l(c,"queueMicrotask"),w=S&&S.value;if(!w){var C=new f,x=function(){var e,t;for(v&&(e=_.domain)&&e.exit();t=C.get();)try{t()}catch(e){throw C.head&&n(),e}e&&e.enter()};d||v||g||!y||!m?!h&&b&&b.resolve?((i=b.resolve(void 0)).constructor=b,s=u(i.then,i),n=function(){s(x)}):v?n=function(){_.nextTick(x)}:(p=u(p,c),n=function(){p(x)}):(o=!0,a=m.createTextNode(""),new y(x).observe(a,{characterData:!0}),n=function(){a.data=o=!o}),w=function(e){C.head||n(),C.add(e)}}e.exports=w},5412:(e,t,r)=>{"use strict";var n=r(8273),o=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw o("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},4298:(e,t,r)=>{var n=r(1994);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},7656:e=>{var t=RangeError;e.exports=function(e){if(e==e)return e;throw t("NaN is not allowed")}},9353:(e,t,r)=>{var n,o=r(4874),a=r(8174),i=r(682),s=r(8612),c=r(6210),u=r(4614),l=r(6072),p="prototype",f="script",d=l("IE_PROTO"),h=function(){},g=function(e){return"<"+f+">"+e+"</"+f+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&n?v(n):(t=u("iframe"),r="java"+f+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(n);for(var o=i.length;o--;)delete y[p][i[o]];return y()};s[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[p]=o(e),r=new h,h[p]=null,r[d]=e):r=y(),void 0===t?r:a.f(r,t)}},8174:(e,t,r)=>{var n=r(1629),o=r(2867),a=r(2898),i=r(4874),s=r(3996),c=r(2401);t.f=n&&!o?Object.defineProperties:function(e,t){i(e);for(var r,n=s(t),o=c(t),u=o.length,l=0;u>l;)a.f(e,r=o[l++],n[r]);return e}},2898:(e,t,r)=>{var n=r(1629),o=r(3910),a=r(2867),i=r(4874),s=r(4088),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",f="configurable",d="writable";t.f=n?a?function(e,t,r){if(i(e),t=s(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r[d]){var n=l(e,t);n&&n[d]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:p in r?r[p]:n[p],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(i(e),t=s(t),i(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1128:(e,t,r)=>{var n=r(1629),o=r(3080),a=r(9056),i=r(5587),s=r(3996),c=r(4088),u=r(242),l=r(3910),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=s(e),t=c(t),l)try{return p(e,t)}catch(e){}if(u(e,t))return i(!o(a.f,e,t),e[t])}},7741:(e,t,r)=>{var n=r(1555),o=r(682).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},4476:(e,t)=>{t.f=Object.getOwnPropertySymbols},1114:(e,t,r)=>{var n=r(242),o=r(8668),a=r(5468),i=r(6072),s=r(4744),c=i("IE_PROTO"),u=Object,l=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof u?l:null}},3842:(e,t,r)=>{var n=r(1825);e.exports=n({}.isPrototypeOf)},1555:(e,t,r)=>{var n=r(1825),o=r(242),a=r(3996),i=r(4133).indexOf,s=r(8612),c=n([].push);e.exports=function(e,t){var r,n=a(e),u=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&c(l,r);for(;t.length>u;)o(n,r=t[u++])&&(~i(l,r)||c(l,r));return l}},2401:(e,t,r)=>{var n=r(1555),o=r(682);e.exports=Object.keys||function(e){return n(e,o)}},9056:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},2334:(e,t,r)=>{var n=r(9809),o=r(4874),a=r(249);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},2303:(e,t,r)=>{var n=r(3080),o=r(8668),a=r(2223),i=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!a(s=n(r,e)))return s;if(o(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!a(s=n(r,e)))return s;throw i("Can't convert object to primitive value")}},9920:(e,t,r)=>{var n=r(2404),o=r(1825),a=r(7741),i=r(4476),s=r(4874),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=i.f;return r?c(t,r(e)):t}},672:(e,t,r)=>{var n=r(3008);e.exports=n},5898:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},2597:(e,t,r)=>{var n=r(3008),o=r(4021),a=r(8668),i=r(1337),s=r(5893),c=r(3450),u=r(5139),l=r(5275),p=r(6262),f=r(9893),d=o&&o.prototype,h=c("species"),g=!1,v=a(n.PromiseRejectionEvent),y=i("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===f)return!0;if(p&&(!d.catch||!d.finally))return!0;if(!f||f<51||!/native code/.test(e)){var r=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(g=r.then((function(){}))instanceof n))return!0}return!t&&(u||l)&&!v}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:g}},4021:(e,t,r)=>{var n=r(3008);e.exports=n.Promise},6627:(e,t,r)=>{var n=r(4874),o=r(2223),a=r(5412);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},2756:(e,t,r)=>{var n=r(4021),o=r(2275),a=r(2597).CONSTRUCTOR;e.exports=a||!o((function(e){n.all(e).then(void 0,(function(){}))}))},9799:(e,t,r)=>{var n=r(2898).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},6600:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7761:(e,t,r)=>{var n=r(3080),o=r(4874),a=r(8668),i=r(9953),s=r(4030),c=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var u=n(r,e,t);return null!==u&&o(u),u}if("RegExp"===i(e))return n(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},4030:(e,t,r)=>{"use strict";var n,o,a=r(3080),i=r(1825),s=r(1994),c=r(8084),u=r(4728),l=r(7914),p=r(9353),f=r(1038).get,d=r(7652),h=r(6017),g=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,y=v,m=i("".charAt),_=i("".indexOf),b=i("".replace),S=i("".slice),w=(o=/b*/g,a(v,n=/a/,"a"),a(v,o,"a"),0!==n.lastIndex||0!==o.lastIndex),C=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(w||x||C||d||h)&&(y=function(e){var t,r,n,o,i,u,l,d=this,h=f(d),k=s(e),I=h.raw;if(I)return I.lastIndex=d.lastIndex,t=a(y,I,k),d.lastIndex=I.lastIndex,t;var P=h.groups,A=C&&d.sticky,E=a(c,d),T=d.source,R=0,M=k;if(A&&(E=b(E,"y",""),-1===_(E,"g")&&(E+="g"),M=S(k,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==m(k,d.lastIndex-1))&&(T="(?: "+T+")",M=" "+M,R++),r=new RegExp("^(?:"+T+")",E)),x&&(r=new RegExp("^"+T+"$(?!\\s)",E)),w&&(n=d.lastIndex),o=a(v,A?r:d,M),A?o?(o.input=S(o.input,R),o[0]=S(o[0],R),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:w&&o&&(d.lastIndex=d.global?o.index+o[0].length:n),x&&o&&o.length>1&&a(g,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&P)for(o.groups=u=p(null),i=0;i<P.length;i++)u[(l=P[i])[0]]=o[l[1]];return o}),e.exports=y},8084:(e,t,r)=>{"use strict";var n=r(4874);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},1209:(e,t,r)=>{var n=r(3080),o=r(242),a=r(3842),i=r(8084),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||o(e,"flags")||!a(s,e)?t:n(i,e)}},4728:(e,t,r)=>{var n=r(8498),o=r(3008).RegExp,a=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=a||n((function(){return!o("a","y").sticky})),s=a||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:i,UNSUPPORTED_Y:a}},7652:(e,t,r)=>{var n=r(8498),o=r(3008).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},6017:(e,t,r)=>{var n=r(8498),o=r(3008).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},3349:(e,t,r)=>{var n=r(3230),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},9175:(e,t,r)=>{var n=r(7083),o=r(1880),a=n.Set,i=n.add;e.exports=function(e){var t=new a;return o(e,(function(e){i(t,e)})),t}},1523:(e,t,r)=>{"use strict";var n=r(857),o=r(7083),a=r(9175),i=r(3637),s=r(8022),c=r(1880),u=r(8920),l=o.has,p=o.remove;e.exports=function(e){var t=n(this),r=s(e),o=a(t);return i(t)<=r.size?c(t,(function(e){r.includes(e)&&p(o,e)})):u(r.getIterator(),(function(e){l(t,e)&&p(o,e)})),o}},7083:(e,t,r)=>{var n=r(1825),o=Set.prototype;e.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o,$has:o.has,$keys:o.keys}},6745:(e,t,r)=>{"use strict";var n=r(857),o=r(7083),a=r(3637),i=r(8022),s=r(1880),c=r(8920),u=o.Set,l=o.add,p=o.has,f=o.$has,d=o.$keys;e.exports=function(e){var t,r=n(this),o=i(e),h=new u;if(((t=o).has!==f||t.keys!==d)&&a(r)>o.size){if(c(o.getIterator(),(function(e){p(r,e)&&l(h,e)})),a(h)<2)return h;var g=h;h=new u,s(r,(function(e){p(g,e)&&l(h,e)}))}else s(r,(function(e){o.includes(e)&&l(h,e)}));return h}},2970:(e,t,r)=>{"use strict";var n=r(857),o=r(7083).has,a=r(3637),i=r(8022),s=r(1880),c=r(8920),u=r(7172);e.exports=function(e){var t=n(this),r=i(e);if(a(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var l=r.getIterator();return!1!==c(l,(function(e){if(o(t,e))return u(l,"normal",!1)}))}},8665:(e,t,r)=>{"use strict";var n=r(857),o=r(3637),a=r(1880),i=r(8022);e.exports=function(e){var t=n(this),r=i(e);return!(o(t)>r.size)&&!1!==a(t,(function(e){if(!r.includes(e))return!1}),!0)}},3448:(e,t,r)=>{"use strict";var n=r(857),o=r(7083).has,a=r(3637),i=r(8022),s=r(8920),c=r(7172);e.exports=function(e){var t=n(this),r=i(e);if(a(t)<r.size)return!1;var u=r.getIterator();return!1!==s(u,(function(e){if(!o(t,e))return c(u,"normal",!1)}))}},1880:(e,t,r)=>{var n=r(1825),o=r(8920),a=r(7083),i=a.Set,s=a.proto,c=n(s.forEach),u=n(s.keys),l=u(new i).next;e.exports=function(e,t,r){return r?o(u(e),t,l):c(e,t)}},6983:(e,t,r)=>{var n=r(2404);e.exports=function(e){try{return(new(n("Set")))[e]({size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}),!0}catch(e){return!1}}},3637:(e,t,r)=>{var n=r(9809),o=r(7083);e.exports=n(o.proto,"size","get")||function(e){return e.size}},8556:(e,t,r)=>{"use strict";var n=r(2404),o=r(6037),a=r(3450),i=r(1629),s=a("species");e.exports=function(e){var t=n(e);i&&t&&!t[s]&&o(t,s,{configurable:!0,get:function(){return this}})}},1929:(e,t,r)=>{"use strict";var n=r(857),o=r(7083),a=r(9175),i=r(8022),s=r(8920),c=o.add,u=o.has,l=o.remove;e.exports=function(e){var t=n(this),r=i(e).getIterator(),o=a(t);return s(r,(function(e){u(t,e)?l(o,e):c(o,e)})),o}},1418:(e,t,r)=>{var n=r(2898).f,o=r(242),a=r(3450)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,a)&&n(e,a,{configurable:!0,value:t})}},3685:(e,t,r)=>{"use strict";var n=r(857),o=r(7083).add,a=r(9175),i=r(8022),s=r(8920);e.exports=function(e){var t=n(this),r=i(e).getIterator(),c=a(t);return s(r,(function(e){o(c,e)})),c}},6072:(e,t,r)=>{var n=r(7914),o=r(209),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},3638:(e,t,r)=>{var n=r(3008),o=r(302),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},7914:(e,t,r)=>{var n=r(6262),o=r(3638);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4620:(e,t,r)=>{var n=r(4874),o=r(7217),a=r(3230),i=r(3450)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[i])?t:o(r)}},7636:(e,t,r)=>{var n=r(1825),o=r(1832),a=r(1994),i=r(3349),s=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,p=a(i(t)),f=o(r),d=p.length;return f<0||f>=d?e?"":void 0:(n=c(p,f))<55296||n>56319||f+1===d||(l=c(p,f+1))<56320||l>57343?e?s(p,f):n:e?u(p,f,f+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},8223:(e,t,r)=>{"use strict";var n=r(2659).end,o=r(7081);e.exports=o("trimEnd")?function(){return n(this)}:"".trimEnd},7081:(e,t,r)=>{var n=r(6847).PROPER,o=r(8498),a=r(7625);e.exports=function(e){return o((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||n&&a[e].name!==e}))}},2659:(e,t,r)=>{var n=r(1825),o=r(3349),a=r(1994),i=r(7625),s=n("".replace),c=RegExp("^["+i+"]+"),u=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(e){return function(t){var r=a(o(t));return 1&e&&(r=s(r,c,"")),2&e&&(r=s(r,u,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},1968:(e,t,r)=>{var n=r(9893),o=r(8498);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},2962:(e,t,r)=>{var n,o,a,i,s=r(3008),c=r(3222),u=r(8173),l=r(8668),p=r(242),f=r(8498),d=r(6210),h=r(8849),g=r(4614),v=r(1557),y=r(2810),m=r(8127),_=s.setImmediate,b=s.clearImmediate,S=s.process,w=s.Dispatch,C=s.Function,x=s.MessageChannel,k=s.String,I=0,P={},A="onreadystatechange";f((function(){n=s.location}));var E=function(e){if(p(P,e)){var t=P[e];delete P[e],t()}},T=function(e){return function(){E(e)}},R=function(e){E(e.data)},M=function(e){s.postMessage(k(e),n.protocol+"//"+n.host)};_&&b||(_=function(e){v(arguments.length,1);var t=l(e)?e:C(e),r=h(arguments,1);return P[++I]=function(){c(t,void 0,r)},o(I),I},b=function(e){delete P[e]},m?o=function(e){S.nextTick(T(e))}:w&&w.now?o=function(e){w.now(T(e))}:x&&!y?(i=(a=new x).port2,a.port1.onmessage=R,o=u(i.postMessage,i)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!f(M)?(o=M,s.addEventListener("message",R,!1)):o=A in g("script")?function(e){d.appendChild(g("script"))[A]=function(){d.removeChild(this),E(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:_,clear:b}},1251:(e,t,r)=>{var n=r(1832),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},1669:(e,t,r)=>{var n=r(6610),o=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},7139:(e,t,r)=>{var n=r(1832),o=r(5867),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw a("Wrong length or index");return r}},3996:(e,t,r)=>{var n=r(9040),o=r(3349);e.exports=function(e){return n(o(e))}},1832:(e,t,r)=>{var n=r(5518);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},5867:(e,t,r)=>{var n=r(1832),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},5468:(e,t,r)=>{var n=r(3349),o=Object;e.exports=function(e){return o(n(e))}},656:(e,t,r)=>{var n=r(9835),o=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw o("Wrong offset");return r}},9835:(e,t,r)=>{var n=r(1832),o=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw o("The argument can't be less than 0");return t}},6610:(e,t,r)=>{var n=r(3080),o=r(2223),a=r(9744),i=r(5729),s=r(2303),c=r(3450),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var r,c=i(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||a(r))return r;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4088:(e,t,r)=>{var n=r(6610),o=r(9744);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},9473:(e,t,r)=>{var n={};n[r(3450)("toStringTag")]="z",e.exports="[object z]"===String(n)},1994:(e,t,r)=>{var n=r(6238),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},2902:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},1674:(e,t,r)=>{"use strict";var n=r(333),o=r(3008),a=r(3080),i=r(1629),s=r(9660),c=r(9831),u=r(4777),l=r(7358),p=r(5587),f=r(6472),d=r(960),h=r(5867),g=r(7139),v=r(656),y=r(4088),m=r(242),_=r(6238),b=r(2223),S=r(9744),w=r(9353),C=r(3842),x=r(2334),k=r(7741).f,I=r(2428),P=r(280).forEach,A=r(8556),E=r(6037),T=r(2898),R=r(1128),M=r(1038),L=r(2422),O=M.get,D=M.set,B=M.enforce,j=T.f,N=R.f,F=Math.round,W=o.RangeError,U=u.ArrayBuffer,$=U.prototype,q=u.DataView,V=c.NATIVE_ARRAY_BUFFER_VIEWS,G=c.TYPED_ARRAY_TAG,H=c.TypedArray,K=c.TypedArrayPrototype,z=c.aTypedArrayConstructor,J=c.isTypedArray,X="BYTES_PER_ELEMENT",Q="Wrong length",Y=function(e,t){z(e);for(var r=0,n=t.length,o=new e(n);n>r;)o[r]=t[r++];return o},Z=function(e,t){E(e,t,{configurable:!0,get:function(){return O(this)[t]}})},ee=function(e){var t;return C($,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},te=function(e,t){return J(e)&&!S(t)&&t in e&&d(+t)&&t>=0},re=function(e,t){return t=y(t),te(e,t)?p(2,e[t]):N(e,t)},ne=function(e,t,r){return t=y(t),!(te(e,t)&&b(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?j(e,t,r):(e[t]=r.value,e)};i?(V||(R.f=re,T.f=ne,Z(K,"buffer"),Z(K,"byteOffset"),Z(K,"byteLength"),Z(K,"length")),n({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var i=e.match(/\d+/)[0]/8,c=e+(r?"Clamped":"")+"Array",u="get"+e,p="set"+e,d=o[c],y=d,m=y&&y.prototype,_={},S=function(e,t){j(e,t,{get:function(){return function(e,t){var r=O(e);return r.view[u](t*i+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=O(e);r&&(n=(n=F(n))<0?0:n>255?255:255&n),o.view[p](t*i+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};V?s&&(y=t((function(e,t,r,n){return l(e,m),L(b(t)?ee(t)?void 0!==n?new d(t,v(r,i),n):void 0!==r?new d(t,v(r,i)):new d(t):J(t)?Y(y,t):a(I,y,t):new d(g(t)),e,y)})),x&&x(y,H),P(k(d),(function(e){e in y||f(y,e,d[e])})),y.prototype=m):(y=t((function(e,t,r,n){l(e,m);var o,s,c,u=0,p=0;if(b(t)){if(!ee(t))return J(t)?Y(y,t):a(I,y,t);o=t,p=v(r,i);var f=t.byteLength;if(void 0===n){if(f%i)throw W(Q);if((s=f-p)<0)throw W(Q)}else if((s=h(n)*i)+p>f)throw W(Q);c=s/i}else c=g(t),o=new U(s=c*i);for(D(e,{buffer:o,byteOffset:p,byteLength:s,length:c,view:new q(o)});u<c;)S(e,u++)})),x&&x(y,H),m=y.prototype=w(K)),m.constructor!==y&&f(m,"constructor",y),B(m).TypedArrayConstructor=y,G&&f(m,G,c);var C=y!=d;_[c]=y,n({global:!0,constructor:!0,forced:C,sham:!V},_),X in y||f(y,X,i),X in m||f(m,X,i),A(c)}):e.exports=function(){}},9660:(e,t,r)=>{var n=r(3008),o=r(8498),a=r(2275),i=r(9831).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!i||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},2428:(e,t,r)=>{var n=r(8173),o=r(3080),a=r(7217),i=r(5468),s=r(541),c=r(2030),u=r(2482),l=r(4450),p=r(9512),f=r(9831).aTypedArrayConstructor,d=r(1669);e.exports=function(e){var t,r,h,g,v,y,m,_,b=a(this),S=i(e),w=arguments.length,C=w>1?arguments[1]:void 0,x=void 0!==C,k=u(S);if(k&&!l(k))for(_=(m=c(S,k)).next,S=[];!(y=o(_,m)).done;)S.push(y.value);for(x&&w>2&&(C=n(C,arguments[2])),r=s(S),h=new(f(b))(r),g=p(h),t=0;r>t;t++)v=x?C(S[t],t):S[t],h[t]=g?d(v):+v;return h}},209:(e,t,r)=>{var n=r(1825),o=0,a=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},8641:(e,t,r)=>{var n=r(1968);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2867:(e,t,r)=>{var n=r(1629),o=r(8498);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1557:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},3097:(e,t,r)=>{var n=r(3008),o=r(8668),a=n.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},7708:(e,t,r)=>{var n=r(672),o=r(242),a=r(1706),i=r(2898).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||i(t,e,{value:a.f(e)})}},1706:(e,t,r)=>{var n=r(3450);t.f=n},3450:(e,t,r)=>{var n=r(3008),o=r(7914),a=r(242),i=r(209),s=r(1968),c=r(8641),u=n.Symbol,l=o("wks"),p=c?u.for||u:u&&u.withoutSetter||i;e.exports=function(e){return a(l,e)||(l[e]=s&&a(u,e)?u[e]:p("Symbol."+e)),l[e]}},7625:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2960:(e,t,r)=>{"use strict";var n=r(2404),o=r(242),a=r(6472),i=r(3842),s=r(2334),c=r(1137),u=r(9799),l=r(2422),p=r(4298),f=r(9505),d=r(7750),h=r(1629),g=r(6262);e.exports=function(e,t,r,v){var y="stackTraceLimit",m=v?2:1,_=e.split("."),b=_[_.length-1],S=n.apply(null,_);if(S){var w=S.prototype;if(!g&&o(w,"cause")&&delete w.cause,!r)return S;var C=n("Error"),x=t((function(e,t){var r=p(v?t:e,void 0),n=v?new S(e):new S;return void 0!==r&&a(n,"message",r),d(n,x,n.stack,2),this&&i(w,this)&&l(n,this,x),arguments.length>m&&f(n,arguments[m]),n}));if(x.prototype=w,"Error"!==b?s?s(x,C):c(x,C,{name:!0}):h&&y in S&&(u(x,S,y),u(x,S,"prepareStackTrace")),c(x,S),!g)try{w.name!==b&&a(w,"name",b),w.constructor=x}catch(e){}return x}}},1841:(e,t,r)=>{var n=r(333),o=r(2404),a=r(3222),i=r(8498),s=r(2960),c="AggregateError",u=o(c),l=!i((function(){return 1!==u([1]).errors[0]}))&&i((function(){return 7!==u([1],c,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:s(c,(function(e){return function(t,r){return a(e,this,arguments)}}),l,!0)})},9542:(e,t,r)=>{"use strict";var n=r(333),o=r(3842),a=r(1114),i=r(2334),s=r(1137),c=r(9353),u=r(6472),l=r(5587),p=r(9505),f=r(7750),d=r(8713),h=r(4298),g=r(3450)("toStringTag"),v=Error,y=[].push,m=function(e,t){var r,n=o(_,this);i?r=i(v(),n?a(this):_):(r=n?this:c(_),u(r,g,"Error")),void 0!==t&&u(r,"message",h(t)),f(r,m,r.stack,1),arguments.length>2&&p(r,arguments[2]);var s=[];return d(e,y,{that:s}),u(r,"errors",s),r};i?i(m,v):s(m,v,{name:!0});var _=m.prototype=c(v.prototype,{constructor:l(1,m),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:m})},9064:(e,t,r)=>{r(9542)},3556:(e,t,r)=>{"use strict";var n=r(333),o=r(2747),a=r(8498),i=r(4777),s=r(4874),c=r(1251),u=r(5867),l=r(4620),p=i.ArrayBuffer,f=i.DataView,d=f.prototype,h=o(p.prototype.slice),g=o(d.getUint8),v=o(d.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new p(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(s(this),e);for(var r=s(this).byteLength,n=c(e,r),o=c(void 0===t?r:t,r),a=new(l(this,p))(u(o-n)),i=new f(this),d=new f(a),y=0;n<o;)v(d,y++,g(i,n++));return a}})},4458:(e,t,r)=>{"use strict";var n=r(333),o=r(5468),a=r(541),i=r(1832),s=r(4402);n({target:"Array",proto:!0},{at:function(e){var t=o(this),r=a(t),n=i(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},7800:(e,t,r)=>{"use strict";var n=r(333),o=r(7926).findLastIndex,a=r(4402);n({target:"Array",proto:!0},{findLastIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},3045:(e,t,r)=>{"use strict";var n=r(333),o=r(7926).findLast,a=r(4402);n({target:"Array",proto:!0},{findLast:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},8831:(e,t,r)=>{"use strict";var n=r(333),o=r(5468),a=r(541),i=r(7152),s=r(114);n({target:"Array",proto:!0,arity:1,forced:r(8498)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=o(this),r=a(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return i(t,r),r}})},8453:(e,t,r)=>{"use strict";var n=r(333),o=r(1825),a=r(8671),i=o([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i(this)}})},7329:(e,t,r)=>{"use strict";var n=r(333),o=r(6281),a=r(3996),i=r(4402),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return o(a(this),s)}}),i("toReversed")},2790:(e,t,r)=>{"use strict";var n=r(333),o=r(1825),a=r(8273),i=r(3996),s=r(7223),c=r(869),u=r(4402),l=Array,p=o(c("Array").sort);n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=i(this),r=s(l,t);return p(r,e)}}),u("toSorted")},1915:(e,t,r)=>{"use strict";var n=r(333),o=r(4402),a=r(114),i=r(541),s=r(1251),c=r(3996),u=r(1832),l=Array,p=Math.max,f=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,o,d,h=c(this),g=i(h),v=s(e,g),y=arguments.length,m=0;for(0===y?r=n=0:1===y?(r=0,n=g-v):(r=y-2,n=f(p(u(t),0),g-v)),o=a(g+r-n),d=l(o);m<v;m++)d[m]=h[m];for(;m<v+r;m++)d[m]=arguments[m-v+2];for(;m<o;m++)d[m]=h[m+n-r];return d}}),o("toSpliced")},8848:(e,t,r)=>{r(4402)("flatMap")},2267:(e,t,r)=>{r(4402)("flat")},5838:(e,t,r)=>{"use strict";var n=r(333),o=r(5468),a=r(541),i=r(7152),s=r(1257),c=r(114);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=o(this),r=a(t),n=arguments.length;if(n){c(r+n);for(var u=r;u--;){var l=u+n;u in t?t[l]=t[u]:s(t,l)}for(var p=0;p<n;p++)t[p]=arguments[p]}return i(t,r+n)}})},4411:(e,t,r)=>{"use strict";var n=r(333),o=r(2611),a=r(3996),i=Array;n({target:"Array",proto:!0},{with:function(e,t){return o(a(this),i,e,t)}})},4259:(e,t,r)=>{var n=r(333),o=r(3008),a=r(3222),i=r(2960),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=i(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},p=function(e,t){if(c&&c[e]){var r={};r[e]=i(s+"."+e,t,u),n({target:s,stat:!0,constructor:!0,arity:1,forced:u},r)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),p("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),p("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),p("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},9818:(e,t,r)=>{var n=r(333),o=r(3008);n({global:!0,forced:o.globalThis!==o},{globalThis:o})},8631:(e,t,r)=>{var n=r(333),o=r(2404),a=r(3222),i=r(3080),s=r(1825),c=r(8498),u=r(8668),l=r(9744),p=r(8849),f=r(7502),d=r(1968),h=String,g=o("JSON","stringify"),v=s(/./.exec),y=s("".charAt),m=s("".charCodeAt),_=s("".replace),b=s(1..toString),S=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,x=!d||c((function(){var e=o("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),k=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),I=function(e,t){var r=p(arguments),n=f(t);if(u(n)||void 0!==e&&!l(e))return r[1]=function(e,t){if(u(n)&&(t=i(n,this,h(e),t)),!l(t))return t},a(g,null,r)},P=function(e,t,r){var n=y(r,t-1),o=y(r,t+1);return v(w,e)&&!v(C,o)||v(C,e)&&!v(w,n)?"\\u"+b(m(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:x||k},{stringify:function(e,t,r){var n=p(arguments),o=a(x?I:g,null,n);return k&&"string"==typeof o?_(o,S,P):o}})},5422:(e,t,r)=>{var n=r(333),o=r(8713),a=r(5713);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},8866:(e,t,r)=>{r(333)({target:"Object",stat:!0},{hasOwn:r(242)})},9664:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(5412),s=r(5898),c=r(8713);n({target:"Promise",stat:!0,forced:r(2756)},{allSettled:function(e){var t=this,r=i.f(t),n=r.resolve,u=r.reject,l=s((function(){var r=a(t.resolve),i=[],s=0,u=1;c(e,(function(e){var a=s++,c=!1;u++,o(r,t,e).then((function(e){c||(c=!0,i[a]={status:"fulfilled",value:e},--u||n(i))}),(function(e){c||(c=!0,i[a]={status:"rejected",reason:e},--u||n(i))}))})),--u||n(i)}));return l.error&&u(l.value),r.promise}})},2936:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(5412),s=r(5898),c=r(8713);n({target:"Promise",stat:!0,forced:r(2756)},{all:function(e){var t=this,r=i.f(t),n=r.resolve,u=r.reject,l=s((function(){var r=a(t.resolve),i=[],s=0,l=1;c(e,(function(e){var a=s++,c=!1;l++,o(r,t,e).then((function(e){c||(c=!0,i[a]=e,--l||n(i))}),u)})),--l||n(i)}));return l.error&&u(l.value),r.promise}})},6901:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(2404),s=r(5412),c=r(5898),u=r(8713),l=r(2756),p="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,r=i("AggregateError"),n=s.f(t),l=n.resolve,f=n.reject,d=c((function(){var n=a(t.resolve),i=[],s=0,c=1,d=!1;u(e,(function(e){var a=s++,u=!1;c++,o(n,t,e).then((function(e){u||d||(d=!0,l(e))}),(function(e){u||d||(u=!0,i[a]=e,--c||f(new r(i,p)))}))})),--c||f(new r(i,p))}));return d.error&&f(d.value),n.promise}})},2364:(e,t,r)=>{"use strict";var n=r(333),o=r(6262),a=r(2597).CONSTRUCTOR,i=r(4021),s=r(2404),c=r(8668),u=r(5621),l=i&&i.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(i)){var p=s("Promise").prototype.catch;l.catch!==p&&u(l,"catch",p,{unsafe:!0})}},6363:(e,t,r)=>{"use strict";var n,o,a,i=r(333),s=r(6262),c=r(8127),u=r(3008),l=r(3080),p=r(5621),f=r(2334),d=r(1418),h=r(8556),g=r(8273),v=r(8668),y=r(2223),m=r(7358),_=r(4620),b=r(2962).set,S=r(2542),w=r(9386),C=r(5898),x=r(6600),k=r(1038),I=r(4021),P=r(2597),A=r(5412),E="Promise",T=P.CONSTRUCTOR,R=P.REJECTION_EVENT,M=P.SUBCLASSING,L=k.getterFor(E),O=k.set,D=I&&I.prototype,B=I,j=D,N=u.TypeError,F=u.document,W=u.process,U=A.f,$=U,q=!!(F&&F.createEvent&&u.dispatchEvent),V="unhandledrejection",G=function(e){var t;return!(!y(e)||!v(t=e.then))&&t},H=function(e,t){var r,n,o,a=t.value,i=1==t.state,s=i?e.ok:e.fail,c=e.resolve,u=e.reject,p=e.domain;try{s?(i||(2===t.rejection&&Q(t),t.rejection=1),!0===s?r=a:(p&&p.enter(),r=s(a),p&&(p.exit(),o=!0)),r===e.promise?u(N("Promise-chain cycle")):(n=G(r))?l(n,r,c,u):c(r)):u(a)}catch(e){p&&!o&&p.exit(),u(e)}},K=function(e,t){e.notified||(e.notified=!0,S((function(){for(var r,n=e.reactions;r=n.get();)H(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},z=function(e,t,r){var n,o;q?((n=F.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!R&&(o=u["on"+e])?o(n):e===V&&w("Unhandled promise rejection",r)},J=function(e){l(b,u,(function(){var t,r=e.facade,n=e.value;if(X(e)&&(t=C((function(){c?W.emit("unhandledRejection",n,r):z(V,r,n)})),e.rejection=c||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(b,u,(function(){var t=e.facade;c?W.emit("rejectionHandled",t):z("rejectionhandled",t,e.value)}))},Y=function(e,t,r){return function(n){e(t,n,r)}},Z=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw N("Promise can't be resolved itself");var n=G(t);n?S((function(){var r={done:!1};try{l(n,t,Y(ee,r,e),Y(Z,r,e))}catch(t){Z(r,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){Z({done:!1},t,e)}}};if(T&&(j=(B=function(e){m(this,j),g(e),l(n,this);var t=L(this);try{e(Y(ee,t),Y(Z,t))}catch(e){Z(t,e)}}).prototype,(n=function(e){O(this,{type:E,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=p(j,"then",(function(e,t){var r=L(this),n=U(_(this,B));return r.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=c?W.domain:void 0,0==r.state?r.reactions.add(n):S((function(){H(n,r)})),n.promise})),o=function(){var e=new n,t=L(e);this.promise=e,this.resolve=Y(ee,t),this.reject=Y(Z,t)},A.f=U=function(e){return e===B||undefined===e?new o(e):$(e)},!s&&v(I)&&D!==Object.prototype)){a=D.then,M||p(D,"then",(function(e,t){var r=this;return new B((function(e,t){l(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(e){}f&&f(D,j)}i({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:B}),d(B,E,!1,!0),h(E)},8844:(e,t,r)=>{"use strict";var n=r(333),o=r(6262),a=r(4021),i=r(8498),s=r(2404),c=r(8668),u=r(4620),l=r(6627),p=r(5621),f=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&i((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),r=c(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!o&&c(a)){var d=s("Promise").prototype.finally;f.finally!==d&&p(f,"finally",d,{unsafe:!0})}},8081:(e,t,r)=>{r(6363),r(2936),r(2364),r(1654),r(5048),r(4779)},1654:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(5412),s=r(5898),c=r(8713);n({target:"Promise",stat:!0,forced:r(2756)},{race:function(e){var t=this,r=i.f(t),n=r.reject,u=s((function(){var i=a(t.resolve);c(e,(function(e){o(i,t,e).then(r.resolve,n)}))}));return u.error&&n(u.value),r.promise}})},5048:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(5412);n({target:"Promise",stat:!0,forced:r(2597).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return o(t.reject,void 0,e),t.promise}})},4779:(e,t,r)=>{"use strict";var n=r(333),o=r(2404),a=r(6262),i=r(4021),s=r(2597).CONSTRUCTOR,c=r(6627),u=o("Promise"),l=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return c(l&&this===u?i:this,e)}})},7343:(e,t,r)=>{var n=r(333),o=r(3008),a=r(1418);n({global:!0},{Reflect:{}}),a(o.Reflect,"Reflect",!0)},4472:(e,t,r)=>{"use strict";var n=r(333),o=r(4030);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},362:(e,t,r)=>{var n=r(3008),o=r(1629),a=r(6037),i=r(8084),s=r(8498),c=n.RegExp,u=c.prototype;o&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",o=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(a.hasIndices="d"),a)o(i,a[i]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==n||r!==n}))&&a(u,"flags",{configurable:!0,get:i})},3670:(e,t,r)=>{"use strict";var n=r(333),o=r(1825),a=r(3349),i=r(1832),s=r(1994),c=r(8498),u=o("".charAt);n({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),r=t.length,n=i(e),o=n>=0?n:r+n;return o<0||o>=r?void 0:u(t,o)}})},2614:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(2747),i=r(7271),s=r(5824),c=r(3349),u=r(5867),l=r(1994),p=r(4874),f=r(3230),d=r(9953),h=r(9),g=r(1209),v=r(5729),y=r(5621),m=r(8498),_=r(3450),b=r(4620),S=r(5178),w=r(7761),C=r(1038),x=r(6262),k=_("matchAll"),I="RegExp String",P=I+" Iterator",A=C.set,E=C.getterFor(P),T=RegExp.prototype,R=TypeError,M=a("".indexOf),L=a("".matchAll),O=!!L&&!m((function(){L("a",/./)})),D=i((function(e,t,r,n){A(this,{type:P,regexp:e,string:t,global:r,unicode:n,done:!1})}),I,(function(){var e=E(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,n=w(t,r);return null===n?(e.done=!0,s(void 0,!0)):e.global?(""===l(n[0])&&(t.lastIndex=S(r,u(t.lastIndex),e.unicode)),s(n,!1)):(e.done=!0,s(n,!1))})),B=function(e){var t,r,n,o=p(this),a=l(e),i=b(o,RegExp),s=l(g(o));return t=new i(i===RegExp?o.source:o,s),r=!!~M(s,"g"),n=!!~M(s,"u"),t.lastIndex=u(o.lastIndex),new D(t,a,r,n)};n({target:"String",proto:!0,forced:O},{matchAll:function(e){var t,r,n,a,i=c(this);if(f(e)){if(O)return L(i,e)}else{if(h(e)&&(t=l(c(g(e))),!~M(t,"g")))throw R("`.matchAll` does not allow non-global regexes");if(O)return L(i,e);if(void 0===(n=v(e,k))&&x&&"RegExp"==d(e)&&(n=B),n)return o(n,e,i)}return r=l(i),a=new RegExp(e,"g"),x?o(B,a,r):a[k](r)}}),x||k in T||y(T,k,B)},4667:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(1825),i=r(3349),s=r(8668),c=r(3230),u=r(9),l=r(1994),p=r(5729),f=r(1209),d=r(5817),h=r(3450),g=r(6262),v=h("replace"),y=TypeError,m=a("".indexOf),_=a("".replace),b=a("".slice),S=Math.max,w=function(e,t,r){return r>e.length?-1:""===t?r:m(e,t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,a,h,C,x,k,I,P,A=i(this),E=0,T=0,R="";if(!c(e)){if((r=u(e))&&(n=l(i(f(e))),!~m(n,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(a=p(e,v))return o(a,e,A,t);if(g&&r)return _(l(A),e,t)}for(h=l(A),C=l(e),(x=s(t))||(t=l(t)),k=C.length,I=S(1,k),E=w(h,C,0);-1!==E;)P=x?l(t(C,E,h)):d(C,h,E,[],void 0,t),R+=b(h,T,E)+P,T=E+k,E=w(h,C,E+I);return T<h.length&&(R+=b(h,T)),R}})},6597:(e,t,r)=>{"use strict";var n=r(3222),o=r(3080),a=r(1825),i=r(2387),s=r(8498),c=r(4874),u=r(8668),l=r(3230),p=r(1832),f=r(5867),d=r(1994),h=r(3349),g=r(5178),v=r(5729),y=r(5817),m=r(7761),_=r(3450)("replace"),b=Math.max,S=Math.min,w=a([].concat),C=a([].push),x=a("".indexOf),k=a("".slice),I="$0"==="a".replace(/./,"$0"),P=!!/./[_]&&""===/./[_]("a","$0");i("replace",(function(e,t,r){var a=P?"$":"$0";return[function(e,r){var n=h(this),a=l(e)?void 0:v(e,_);return a?o(a,e,n,r):o(t,d(n),e,r)},function(e,o){var i=c(this),s=d(e);if("string"==typeof o&&-1===x(o,a)&&-1===x(o,"$<")){var l=r(t,i,s,o);if(l.done)return l.value}var h=u(o);h||(o=d(o));var v=i.global;if(v){var _=i.unicode;i.lastIndex=0}for(var I=[];;){var P=m(i,s);if(null===P)break;if(C(I,P),!v)break;""===d(P[0])&&(i.lastIndex=g(s,f(i.lastIndex),_))}for(var A,E="",T=0,R=0;R<I.length;R++){for(var M=d((P=I[R])[0]),L=b(S(p(P.index),s.length),0),O=[],D=1;D<P.length;D++)C(O,void 0===(A=P[D])?A:String(A));var B=P.groups;if(h){var j=w([M],O,L,s);void 0!==B&&C(j,B);var N=d(n(o,void 0,j))}else N=y(M,s,L,O,B,o);L>=T&&(E+=k(s,T,L)+N,T=L+M.length)}return E+k(s,T)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!I||P)},7505:(e,t,r)=>{r(698);var n=r(333),o=r(8223);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==o},{trimEnd:o})},698:(e,t,r)=>{var n=r(333),o=r(8223);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o},{trimRight:o})},9713:(e,t,r)=>{"use strict";var n=r(333),o=r(2659).trim;n({target:"String",proto:!0,forced:r(7081)("trim")},{trim:function(){return o(this)}})},7574:(e,t,r)=>{"use strict";var n=r(333),o=r(1629),a=r(3008),i=r(1825),s=r(242),c=r(8668),u=r(3842),l=r(1994),p=r(6037),f=r(1137),d=a.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var g={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(g[t]=!0),t};f(v,d),v.prototype=h,h.constructor=v;var y="Symbol(test)"==String(d("test")),m=i(h.valueOf),_=i(h.toString),b=/^Symbol\((.*)\)[^)]+$/,S=i("".replace),w=i("".slice);p(h,"description",{configurable:!0,get:function(){var e=m(this);if(s(g,e))return"";var t=_(e),r=y?w(t,7,-1):S(t,b,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},3003:(e,t,r)=>{r(7708)("matchAll")},753:(e,t,r)=>{"use strict";var n=r(9831),o=r(541),a=r(1832),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=i(this),r=o(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},8757:(e,t,r)=>{"use strict";var n=r(9831),o=r(854),a=r(1669),i=r(6238),s=r(3080),c=r(1825),u=r(8498),l=n.aTypedArray,p=n.exportTypedArrayMethod,f=c("".slice);p("fill",(function(e){var t=arguments.length;l(this);var r="Big"===f(i(this),0,3)?a(e):+e;return s(o,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},2965:(e,t,r)=>{"use strict";var n=r(9831),o=r(7926).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7732:(e,t,r)=>{"use strict";var n=r(9831),o=r(7926).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6313:(e,t,r)=>{r(1674)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4078:(e,t,r)=>{r(1674)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},5404:(e,t,r)=>{"use strict";var n=r(9660);(0,r(9831).exportTypedArrayStaticMethod)("from",r(2428),n)},1856:(e,t,r)=>{r(1674)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8038:(e,t,r)=>{r(1674)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8599:(e,t,r)=>{r(1674)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3593:(e,t,r)=>{"use strict";var n=r(9831),o=r(9660),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),o)},9322:(e,t,r)=>{"use strict";var n=r(3008),o=r(3080),a=r(9831),i=r(541),s=r(656),c=r(5468),u=r(8498),l=n.RangeError,p=n.Int8Array,f=p&&p.prototype,d=f&&f.set,h=a.aTypedArray,g=a.exportTypedArrayMethod,v=!u((function(){var e=new Uint8ClampedArray(2);return o(d,e,{length:1,0:3},1),3!==e[1]})),y=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new p(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(v)return o(d,this,r,t);var n=this.length,a=i(r),u=0;if(a+t>n)throw l("Wrong length");for(;u<a;)this[t+u]=r[u++]}),!v||y)},9160:(e,t,r)=>{"use strict";var n=r(3008),o=r(2747),a=r(8498),i=r(8273),s=r(5727),c=r(9831),u=r(7031),l=r(8813),p=r(9893),f=r(6789),d=c.aTypedArray,h=c.exportTypedArrayMethod,g=n.Uint16Array,v=g&&o(g.prototype.sort),y=!(!v||a((function(){v(new g(2),null)}))&&a((function(){v(new g(2),{})}))),m=!!v&&!a((function(){if(p)return p<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));h("sort",(function(e){return void 0!==e&&i(e),m?v(this,e):s(d(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!m||y)},220:(e,t,r)=>{"use strict";var n=r(6281),o=r(9831),a=o.aTypedArray,i=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;i("toReversed",(function(){return n(a(this),s(this))}))},3915:(e,t,r)=>{"use strict";var n=r(9831),o=r(1825),a=r(8273),i=r(7223),s=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,l=o(n.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=i(c(t),t);return l(r,e)}))},2099:(e,t,r)=>{r(1674)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3357:(e,t,r)=>{r(1674)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},7658:(e,t,r)=>{r(1674)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},8465:(e,t,r)=>{r(1674)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},8328:(e,t,r)=>{"use strict";var n=r(2611),o=r(9831),a=r(9512),i=r(1832),s=r(1669),c=o.aTypedArray,u=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var r=c(this),o=i(e),l=a(r)?s(t):+t;return n(r,u(r),o,l)}}.with,!p)},3269:(e,t,r)=>{r(9064)},4069:(e,t,r)=>{r(4458)},1401:(e,t,r)=>{r(7800)},9944:(e,t,r)=>{r(3045)},3793:(e,t,r)=>{r(333)({target:"Array",stat:!0},{fromAsync:r(4814)})},8194:(e,t,r)=>{var n=r(333),o=r(9189),a=r(4402),i=r(8683);n({target:"Array",proto:!0,name:"groupToMap",forced:r(6262)||!o("groupByToMap")},{groupByToMap:i}),a("groupByToMap")},1615:(e,t,r)=>{"use strict";var n=r(333),o=r(5220),a=r(9189),i=r(4402);n({target:"Array",proto:!0,forced:!a("groupBy")},{groupBy:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("groupBy")},2612:(e,t,r)=>{var n=r(333),o=r(4402),a=r(8683);n({target:"Array",proto:!0,forced:r(6262)},{groupToMap:a}),o("groupToMap")},3169:(e,t,r)=>{"use strict";var n=r(333),o=r(5220),a=r(4402);n({target:"Array",proto:!0},{group:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("group")},6528:(e,t,r)=>{r(7329)},8007:(e,t,r)=>{r(2790)},2888:(e,t,r)=>{r(1915)},5572:(e,t,r)=>{r(4411)},7230:(e,t,r)=>{"use strict";var n=r(333),o=r(7358),a=r(6472),i=r(242),s=r(3450),c=r(4745),u=r(6262),l=s("toStringTag"),p=function(){o(this,c)};p.prototype=c,i(c,l)||a(c,l,"AsyncIterator"),!u&&i(c,"constructor")&&c.constructor!==Object||a(c,"constructor",p),n({global:!0,constructor:!0,forced:u},{AsyncIterator:p})},1729:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(4874),i=r(8434),s=r(7656),c=r(9835),u=r(5654),l=r(5824),p=u((function(e){var t=this;return new e((function(r,n){var i=function(e){t.done=!0,n(e)},s=function(){try{e.resolve(a(o(t.next,t.iterator))).then((function(e){try{a(e).done?(t.done=!0,r(l(void 0,!0))):t.remaining?(t.remaining--,s()):r(l(e.value,!1))}catch(e){i(e)}}),i)}catch(e){i(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new p(i(this),{remaining:c(s(+e))})}})},1285:(e,t,r)=>{"use strict";var n=r(333),o=r(1460).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return o(this,e)}})},9394:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(4874),s=r(2223),c=r(8434),u=r(5654),l=r(5824),p=r(6595),f=u((function(e){var t=this,r=t.iterator,n=t.predicate;return new e((function(a,c){var u=function(e){t.done=!0,c(e)},f=function(e){p(r,u,e,u)},d=function(){try{e.resolve(i(o(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,a(l(void 0,!0));else{var o=r.value;try{var c=n(o,t.counter++),p=function(e){e?a(l(o,!1)):d()};s(c)?e.resolve(c).then(p,f):p(c)}catch(e){f(e)}}}catch(e){u(e)}}),u)}catch(e){u(e)}};d()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new f(c(this),{predicate:a(e)})}})},6691:(e,t,r)=>{"use strict";var n=r(333),o=r(1460).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return o(this,e)}})},532:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(4874),s=r(2223),c=r(8434),u=r(5654),l=r(5824),p=r(4630),f=r(6595),d=u((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(a,c){var u=function(e){t.done=!0,c(e)},d=function(e){f(r,u,e,u)},h=function(){try{e.resolve(i(o(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,a(l(void 0,!0));else{var o=r.value;try{var c=n(o,t.counter++),f=function(e){try{t.inner=p(e),g()}catch(e){d(e)}};s(c)?e.resolve(c).then(f,d):f(c)}catch(e){d(e)}}}catch(e){u(e)}}),u)}catch(e){u(e)}},g=function(){var r=t.inner;if(r)try{e.resolve(i(o(r.next,r.iterator))).then((function(e){try{i(e).done?(t.inner=null,h()):a(l(e.value,!1))}catch(e){d(e)}}),d)}catch(e){d(e)}else h()};g()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new d(c(this),{mapper:a(e),inner:null})}})},7191:(e,t,r)=>{"use strict";var n=r(333),o=r(1460).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return o(this,e)}})},2800:(e,t,r)=>{var n=r(333),o=r(5468),a=r(3842),i=r(4630),s=r(4745),c=r(555);n({target:"AsyncIterator",stat:!0},{from:function(e){var t=i("string"==typeof e?o(e):e);return a(s,t.iterator)?t.iterator:new c(t)}})},5372:(e,t,r)=>{r(333)({target:"AsyncIterator",proto:!0,real:!0},{map:r(1241)})},298:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(4874),s=r(2223),c=r(2404),u=r(8434),l=r(6595),p=c("Promise"),f=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var t=u(this),r=t.iterator,n=t.next,c=arguments.length<2,d=c?void 0:arguments[1],h=0;return a(e),new p((function(t,a){var u=function(e){l(r,a,e,a)},g=function(){try{p.resolve(i(o(n,r))).then((function(r){try{if(i(r).done)c?a(f("Reduce of empty iterator with no initial value")):t(d);else{var n=r.value;if(c)c=!1,d=n,g();else try{var o=e(d,n,h),l=function(e){d=e,g()};s(o)?p.resolve(o).then(l,u):l(o)}catch(e){u(e)}}h++}catch(e){a(e)}}),a)}catch(e){a(e)}};g()}))}})},3488:(e,t,r)=>{"use strict";var n=r(333),o=r(1460).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return o(this,e)}})},675:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(4874),i=r(8434),s=r(7656),c=r(9835),u=r(5654),l=r(5824),p=u((function(e){var t,r=this,n=r.iterator;if(!r.remaining--){var i=l(void 0,!0);return r.done=!0,void 0!==(t=n.return)?e.resolve(o(t,n,void 0)).then((function(){return i})):i}return e.resolve(o(r.next,n)).then((function(e){return a(e).done?(r.done=!0,l(void 0,!0)):l(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new p(i(this),{remaining:c(s(+e))})}})},6569:(e,t,r)=>{"use strict";var n=r(333),o=r(1460).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return o(this,void 0,[])}})},6824:(e,t,r)=>{"use strict";var n=r(333),o=r(1629),a=r(2404),i=r(8273),s=r(7358),c=r(5621),u=r(4432),l=r(6037),p=r(3450),f=r(1038),d=r(1496),h=a("SuppressedError"),g=ReferenceError,v=p("dispose"),y=p("toStringTag"),m="DisposableStack",_=f.set,b=f.getterFor(m),S="sync-dispose",w="disposed",C=m+" already disposed",x=function(){_(s(this,k),{type:m,state:"pending",stack:[]}),o||(this.disposed=!1)},k=x.prototype;u(k,{dispose:function(){var e=b(this);if(e.state!=w){e.state=w,o||(this.disposed=!0);for(var t,r=e.stack,n=r.length,a=!1;n;){var i=r[--n];r[n]=null;try{i()}catch(e){a?t=new h(e,t):(a=!0,t=e)}}if(e.stack=null,a)throw t}},use:function(e){var t=b(this);if(t.state==w)throw g(C);return d(t,e,S),e},adopt:function(e,t){var r=b(this);if(r.state==w)throw g(C);return i(t),d(r,void 0,S,(function(){t(e)})),e},defer:function(e){var t=b(this);if(t.state==w)throw g(C);i(e),d(t,void 0,S,e)},move:function(){var e=b(this);if(e.state==w)throw g(C);var t=new x;return b(t).stack=e.stack,e.stack=[],t}}),o&&l(k,"disposed",{configurable:!0,get:function(){return b(this).state==w}}),c(k,v,k.dispose,{name:"dispose"}),c(k,y,m,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:x})},9875:(e,t,r)=>{r(9818)},6997:(e,t,r)=>{"use strict";var n=r(333),o=r(3008),a=r(7358),i=r(8668),s=r(6472),c=r(8498),u=r(242),l=r(3450),p=r(7410).IteratorPrototype,f=r(6262),d=l("toStringTag"),h=o.Iterator,g=f||!i(h)||h.prototype!==p||!c((function(){h({})})),v=function(){a(this,p)};u(p,d)||s(p,d,"Iterator"),!g&&u(p,"constructor")&&p.constructor!==Object||s(p,"constructor",v),v.prototype=p,n({global:!0,constructor:!0,forced:g},{Iterator:v})},2240:(e,t,r)=>{"use strict";var n=r(3080),o=r(5621),a=r(5729),i=r(242),s=r(3450),c=r(7410).IteratorPrototype,u=s("dispose");i(c,u)||o(c,u,(function(){var e=a(this,"return");e&&n(e,this)}))},8388:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(4874),i=r(8434),s=r(7656),c=r(9835),u=r(715)((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=a(o(r,t)),this.done=!!e.done)return;if(e=a(o(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new u(i(this),{remaining:c(s(+e))})}})},7002:(e,t,r)=>{"use strict";var n=r(333),o=r(8713),a=r(8273),i=r(8434);n({target:"Iterator",proto:!0,real:!0},{every:function(e){var t=i(this),r=0;return a(e),!o(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},4355:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(4874),s=r(8434),c=r(715),u=r(1180),l=c((function(){for(var e,t,r=this.iterator,n=this.predicate,a=this.next;;){if(e=i(o(a,r)),this.done=!!e.done)return;if(t=e.value,u(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new l(s(this),{predicate:a(e)})}})},1294:(e,t,r)=>{"use strict";var n=r(333),o=r(8713),a=r(8273),i=r(8434);n({target:"Iterator",proto:!0,real:!0},{find:function(e){var t=i(this),r=0;return a(e),o(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},5345:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(8273),i=r(4874),s=r(8434),c=r(4821),u=r(715),l=r(7172),p=u((function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=i(o(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){l(r,"throw",e)}if(e=i(o(this.next,r)),this.done=!!e.done)return;try{this.inner=c(n(e.value,this.counter++))}catch(e){l(r,"throw",e)}}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new p(s(this),{mapper:a(e),inner:null})}})},4806:(e,t,r)=>{"use strict";var n=r(333),o=r(8713),a=r(8273),i=r(8434);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){var t=i(this),r=0;a(e),o(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},7689:(e,t,r)=>{var n=r(333),o=r(3080),a=r(5468),i=r(3842),s=r(7410).IteratorPrototype,c=r(715),u=r(4821),l=c((function(){return o(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0},{from:function(e){var t=u("string"==typeof e?a(e):e);return i(s,t.iterator)?t.iterator:new l(t)}})},7779:(e,t,r)=>{r(333)({target:"Iterator",proto:!0,real:!0},{map:r(9046)})},6711:(e,t,r)=>{"use strict";var n=r(333),o=r(8713),a=r(8273),i=r(8434),s=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){var t=i(this);a(e);var r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(o(t,(function(t){r?(r=!1,n=t):n=e(n,t,c),c++}),{IS_RECORD:!0}),r)throw s("Reduce of empty iterator with no initial value");return n}})},5173:(e,t,r)=>{"use strict";var n=r(333),o=r(8713),a=r(8273),i=r(8434);n({target:"Iterator",proto:!0,real:!0},{some:function(e){var t=i(this),r=0;return a(e),o(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7586:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(4874),i=r(8434),s=r(7656),c=r(9835),u=r(715),l=r(7172),p=u((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,l(e,"normal",void 0);var t=a(o(this.next,e));return(this.done=!!t.done)?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0},{take:function(e){return new p(i(this),{remaining:c(s(+e))})}})},1516:(e,t,r)=>{"use strict";var n=r(333),o=r(8713),a=r(8434),i=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return o(a(this),i,{that:e,IS_RECORD:!0}),e}})},5013:(e,t,r)=>{"use strict";var n=r(333),o=r(7385),a=r(555),i=r(8434);n({target:"Iterator",proto:!0,real:!0},{toAsync:function(){return new a(i(new o(i(this))))}})},7909:(e,t,r)=>{r(8866)},4997:(e,t,r)=>{r(9664)},6260:(e,t,r)=>{r(6901)},7740:(e,t,r)=>{var n=r(333),o=r(1523);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("difference")},{difference:o})},394:(e,t,r)=>{var n=r(333),o=r(6745);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("intersection")},{intersection:o})},9075:(e,t,r)=>{var n=r(333),o=r(2970);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("isDisjointFrom")},{isDisjointFrom:o})},6794:(e,t,r)=>{var n=r(333),o=r(8665);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("isSubsetOf")},{isSubsetOf:o})},3257:(e,t,r)=>{var n=r(333),o=r(3448);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("isSupersetOf")},{isSupersetOf:o})},2814:(e,t,r)=>{var n=r(333),o=r(1929);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("symmetricDifference")},{symmetricDifference:o})},1616:(e,t,r)=>{var n=r(333),o=r(3685);n({target:"Set",proto:!0,real:!0,forced:!r(6983)("union")},{union:o})},6269:(e,t,r)=>{"use strict";var n=r(333),o=r(1825),a=r(3349),i=r(1994),s=o("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=i(a(this)),t=e.length,r=0;r<t;r++){var n=s(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},6581:(e,t,r)=>{r(2614)},7764:(e,t,r)=>{r(4667)},6544:(e,t,r)=>{"use strict";var n=r(333),o=r(3080),a=r(1825),i=r(3349),s=r(1994),c=r(8498),u=Array,l=a("".charAt),p=a("".charCodeAt),f=a([].join),d="".toWellFormed,h=d&&c((function(){return"1"!==o(d,1)}));n({target:"String",proto:!0,forced:h},{toWellFormed:function(){var e=s(i(this));if(h)return o(d,e);for(var t=e.length,r=u(t),n=0;n<t;n++){var a=p(e,n);55296!=(63488&a)?r[n]=l(e,n):a>=56320||n+1>=t||56320!=(64512&p(e,n+1))?r[n]="�":(r[n]=l(e,n),r[++n]=l(e,n))}return f(r,"")}})},630:(e,t,r)=>{"use strict";var n=r(333),o=r(3842),a=r(1114),i=r(2334),s=r(1137),c=r(9353),u=r(6472),l=r(5587),p=r(7750),f=r(4298),d=r(3450)("toStringTag"),h=Error,g=function(e,t,r){var n,s=o(v,this);return i?n=i(h(),s?a(this):v):(n=s?this:c(v),u(n,d,"Error")),void 0!==r&&u(n,"message",f(r)),p(n,g,n.stack,1),u(n,"error",e),u(n,"suppressed",t),n};i?i(g,h):s(g,h,{name:!0});var v=g.prototype=c(h.prototype,{constructor:l(1,g),message:l(1,""),name:l(1,"SuppressedError")});n({global:!0,constructor:!0,arity:3},{SuppressedError:g})},3166:(e,t,r)=>{r(7708)("dispose")},6438:(e,t,r)=>{r(753)},7140:(e,t,r)=>{r(2965)},81:(e,t,r)=>{r(7732)},2621:(e,t,r)=>{r(220)},8090:(e,t,r)=>{r(3915)},3055:(e,t,r)=>{"use strict";var n=r(9831),o=r(541),a=r(9512),i=r(1251),s=r(1669),c=r(1832),u=r(8498),l=n.aTypedArray,p=n.getTypedArrayConstructor,f=n.exportTypedArrayMethod,d=Math.max,h=Math.min;f("toSpliced",(function(e,t){var r,n,u,f,g,v,y,m=l(this),_=p(m),b=o(m),S=i(e,b),w=arguments.length,C=0;if(0===w)r=n=0;else if(1===w)r=0,n=b-S;else if(n=h(d(c(t),0),b-S),r=w-2){f=new _(r),u=a(f);for(var x=2;x<w;x++)g=arguments[x],f[x-2]=u?s(g):+g}for(y=new _(v=b+r-n);C<S;C++)y[C]=m[C];for(;C<S+r;C++)y[C]=f[C-S];for(;C<v;C++)y[C]=m[C+n-r];return y}),!!u((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},3679:(e,t,r)=>{r(8328)},1448:(e,t,r)=>{var n=r(8908);n.keys().forEach((e=>{o[e.substr(2)]=n(e)}))},5219:(e,t,r)=>{"use strict";r.r(t);r(7574),r(3003),r(4259),r(9064),r(1841),r(4458),r(3045),r(7800),r(8831),r(8453),r(2267),r(8848),r(5838),r(3556),r(9818),r(8631),r(5422),r(8866),r(8081),r(9664),r(6901),r(8844),r(7343),r(362),r(3670),r(2614),r(6597),r(4667),r(9713),r(7505),r(6313),r(4078),r(8599),r(1856),r(8038),r(7658),r(8465),r(2099),r(3357),r(753),r(8757),r(7732),r(2965),r(5404),r(3593),r(9322),r(9160),r(3269),r(4069),r(9944),r(1401),r(9875),r(7909),r(4997),r(6260),r(6581),r(7764),r(6438),r(81),r(7140),r(630),r(3793),r(3169),r(1615),r(8194),r(2612),r(6528),r(8007),r(2888),r(5572),r(7230),r(1729),r(1285),r(9394),r(6691),r(532),r(7191),r(2800),r(5372),r(298),r(3488),r(675),r(6569),r(6824),r(6997),r(2240),r(8388),r(7002),r(4355),r(1294),r(5345),r(4806),r(7689),r(7779),r(6711),r(5173),r(7586),r(1516),r(5013),r(7740),r(394),r(9075),r(6794),r(3257),r(2814),r(1616),r(6269),r(6544),r(3166),r(2621),r(8090),r(3055),r(3679);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.g.__polyfill_injecting=!0;var a=!1;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform)"ios"===r.g.__wxConfig.platform.toLowerCase()&&(a=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var i=navigator.userAgent.toLowerCase();(i.indexOf("iphone")>=0||i.indexOf("ipad")>=0)&&(a=!0)}var s=[];a&&(r.g.Promise=void 0,s.push("Promise")),r(697)({usePolyfill:s,useNative:["WeakMap"]}),r(5219),r(1448),delete r.g.__polyfill_injecting})();var a,i;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{e.d(o,{default:()=>tt});var i={};e.r(i),e.d(i,{convertToErrorObj:()=>Q,emitFrameworkError:()=>te,emitUnhandledError:()=>re,emitUnhandledRejection:()=>Y,onFrameworkError:()=>oe,onUnhandledError:()=>ae,onUnhandledRejection:()=>ne});var c=e.g.__wxLibrary,u=e.g.__wxConfig,l=c.envType,p=c.contextType,f="Service"===l,d="WebView"===l,h="Worker"===l,v=d||f&&0===p.indexOf("App:"),m=f&&0===p.indexOf("Game:"),_=0===p.indexOf("MagicBrush:"),b=!!u.isIsolateContext,S=b&&f&&p.indexOf("MainContext")>=0,w=b&&f&&p.indexOf("SubContext")>=0,C=w&&p.indexOf("Safe")>=0,x=S||w,k="wxlib"===u.workerContentType,I=d||S||C||k,P=function(e){var t=u.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var r=window.navigator.userAgent.toLowerCase();r.indexOf("devtools")>=0?t="devtools":r.indexOf("miniprogramenv/windows")>=0?t="windows":r.indexOf("miniprogramenv/mac")>=0?t="mac":r.indexOf("miniprogramenv/mina")>=0?t="mina":r.indexOf("iphone")>=0||r.indexOf("ipad")>=0?t="ios":r.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),A=void 0===t||"develop"===t.version?"9.9.9":t.version,E=!!c.mayHaveSnapshot,T=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const R={platform:P,SDKVersion:A,isIsolateContext:x,isGame:m,isApp:v,isMainContext:S,isSubContext:w,isSafeEnv:I,isService:f,isWebView:d,isWorker:h,isWidget:!1,typeStr:w?"SubContext":l,fileName:c.fileName,isWXLibWorker:k,workerType:"user",contextName:"",mayHaveSnapShot:E,isWKGame:!!T,isMagicBrushFrameEnv:_};var M=()=>{},L="devtools"===R.platform;"undefined"!=typeof performance&&performance.now;function O(e,t=()=>M){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function D(){var t=a||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var B=()=>{},j=["log","info","warn","error","debug"];const N=O(j);var F=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],W=(()=>{var e=O(F);return e})();const U=W;var $=Symbol("error"),q=Symbol("slow");class V{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent($,e),this}onSlow(e){return this.onInternalEvent(q,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var o,a=!1;for(var i of n){if(0!==i.count)try{var s=Date.now();o=i.cb(...r);var c=Date.now();c-s>V.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(q,e,s,c,i.cb)}catch(t){if(!this.emitPrivate($,e,t))throw t}if(i.count>0&&i.count--,0===i.count&&(a=!0),!1===o&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var o={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(o):a.push(o):this.$[e]=[o],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}V.SLOW_CALLBACK_THRESHOLD=50;var G=new V,H="unhandlederror",K="unhandledrejection",z="frameworkerror",J=new WeakMap;var X=Object.prototype.hasOwnProperty;function Q(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function Y(e,t){e=Q(e),je.onLoad((()=>{G.emit(K,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var Z=!1,ee=!1;function te(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Q(e),a.isSnapshoting)throw e;je.onLoad((()=>{if(Z)console.error("[ErrorHandler] recursive framework error detected.",e);else{Z=!0;try{G.emit(z,e)||re(e)}catch(e){console.error("Framework",e)}Z=!1}}))}function re(e){if(e=Q(e),a.isSnapshoting)throw e;je.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{ee=!0;try{G.emit(H,e)||("windows"!==a.platform&&"mac"!==a.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==a.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}ee=!1}}))}function ne(e){G.on(K,e)}function oe(e){G.on(z,e)}function ae(e){G.on(H,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener?(e.addEventListener("unhandledrejection",(e=>{Y(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;re(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;X.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(J.has(r)||setTimeout((()=>{var e=J.get(r);0===(null==e?void 0:e.type)&&Y(e.reason,e.promise),J.delete(r)}),0),J.set(r,t))):Y(e.reason,e.promise)}})}(e.g);var ie,se=JSON.parse,ce=JSON.stringify,ue=9782784e5;function le(e){return se(ce(e))}function pe(e){e.platform=R.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=R.SDKVersion,e.isReady=!1,e.onReady=je.onStart}function fe(e){var r;pe(e),R.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(r=t.debugOptions)||void 0===r?void 0:r.overwriteExpt;e.expt=n?Object.assign(e.expt||{},n):e.expt||{}}function de(e){if(fe(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+ue-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var o=n.split("&").filter((e=>0===e.indexOf("ts=")));o.length>0&&(r=parseInt(o[0].slice(3),10))}catch(e){te(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var he=!(null===(ie=t.features)||void 0===ie||!ie.pruneWxConfigByPage),ge=Object.defineProperty,ve=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ye(e,t,r,n){ge(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{return"function"!=typeof n?n:n()}catch(e){return void te(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var me=R.isSafeEnv,_e=Object.create(null),be=R.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return Reflect.set(e,t,r,n);var o=Reflect.get(e,"__siblings__",n);return Array.isArray(o)?(o.length>1&&N.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`),o.forEach((e=>{Reflect.set(e,t,r)})),!0):Reflect.set(e,t,r,n)}})}(_e):_e,Se=e=>{},we="wxConfig:updatePage";function Ce(t,r=!1){return Se(!1),_e.currentPhase="onStart",void 0===t||(r?(Object.assign(_e,t),Object.defineProperty(_e,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(_e,me?t:le(t)),de(_e),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var o=t.subPackages||t.subpackages;Array.isArray(o)&&o.length>0&&(o.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=o),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),he&&(R.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(_e,((e,t)=>{je.emit(we,{key:e,value:t})})),Object.defineProperty(_e,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(_e.__siblings__)&&_e.__siblings__.push(_e),_e.onPageUpdate((({key:e,value:t})=>{_e.page=_e.page||{},_e.page[e]=_e.page[e+".html"]=t,n&&(n[e+".html"]=le(t))})),me||(n=function(){var t=e.g.__wxConfig,r={},n={},o=he?{}:t.page||{};try{ye(n,r,"deprecated",!0),ve.forEach((e=>{if(e in t){var a=t[e];switch(e){case"page":ye(n,r,e,o);break;case"env":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:a.USER_DATA_PATH})));break;case"accountInfo":ye(n,r,e,{appId:a.appId,icon:a.icon,nickname:a.nickname});break;case"appLaunchInfo":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),y&&"function"==typeof y.getLaunchOptionsSync?y.getLaunchOptionsSync():{})));break;case"wxAppInfo":ye(n,r,e,{maxRequestConcurrent:a.maxRequestConcurrent,maxUploadConcurrent:a.maxUploadConcurrent,maxDownloadConcurrent:a.maxDownloadConcurrent,maxWorkerConcurrent:a.maxWorkerConcurrent,maxWebsocketConnect:a.maxWebsocketConnect});break;default:ye(n,r,e,a)}}})),e.g.__wxConfig=n}catch(r){te(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return o}())),be;var n}var xe=new V,ke=new V,Ie={},Pe="WeixinJSBridgeReady",Ae="libraryEnd",Ee="load",Te="postLoad",Re="start",Me="postStart";function Le(e,t){var r="undefined"!=typeof Trace,n=()=>{try{r&&Trace.traceBegin("Framework",`LibLifeCycle.${e} @ ${R.fileName}`),t(Ie[e])}catch(t){te(t,"LifeCycle."+e)}finally{r&&Trace.traceEnd()}};e in Ie?n():ke.once(e,n)}function Oe(e,t){var r,n;if(e in Ie)return!1;Ie[e]=t,null===(r=g)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${R.fileName}`);var o=ke.emit(e,t);return null===(n=g)||void 0===n||n.info(`[LifeCycle] finish ${e} for ${R.fileName}`),o}var De,Be=e=>{R.mayHaveSnapShot?Le(Ee,e):e()},je={EventEmitter:V,on:xe.on.bind(xe),emit:xe.emit.bind(xe),once:xe.once.bind(xe),off:xe.off.bind(xe),getIsLoaded:()=>Ee in Ie,getIsStarted:()=>Re in Ie,onBridgeReady(e){Le(Pe,e)},setWeixinJSBridge(e){Oe(Pe,e)},onLibraryEnd:Le.bind(null,Ae),onCreate(e){e()},onLoadInstant:Be,onLoad:Be,_onPostLoad:Le.bind(null,Te),onStart:Le.bind(null,Re),onPostStart:Le.bind(null,Me)};ke.onError(((e,t)=>{N.error(`[LifeCycle/${R.typeStr}] ${e.toString()} failed: `,t),te(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{U.warn(`[LifeCycle/${R.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){Oe(Ae),R.mayHaveSnapShot||We()},De=e.g.__wxConfig,_e.currentPhase="onCreate",void 0===De||(Se(!1),Object.assign(_e,me?De:le(De)),pe(_e),Se(!0));var Ne=!1,Fe=!1;function We(){Ne||Fe?te(new Error(`LifeCycle error: undesired onLoad(${Ne}/${Fe})`)):(Ne=!0,a=function(e){return _e.currentPhase="onLoad",void 0===e||(Se(!1),Object.assign(_e,me?e:le(e)),_e.onPageUpdate=je.on.bind(null,we),fe(_e),Se(!0)),be}(e.g.__wxConfig),Oe(Ee,a),R.isSubContext?a.__readyHandler=e=>{Ue(e,!0)}:!0===a.preload?je.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{Ue(e.g.__wxConfig)}))})):je.onLibraryEnd((()=>{Ue(e.g.__wxConfig)})),Oe(Te,a))}function Ue(e,t=!1){if(Ne&&!Fe){Fe=!0;var r=Date.now();"onReadyStart"in(a=Ce(e,t))||(a.onReadyStart=r),Oe(Re,a),a.onReadyEnd=Date.now(),Oe(Me,a)}else te(new Error(`LifeCycle error: undesired onStart(${Ne}/${Fe})`))}(a=be).isSnapshoting?(R.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,a.isSnapshoting=!1,We()}}):R.mayHaveSnapShot&&je.onLibraryEnd(We);class $e{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:B}}var qe={ALL:new $e(Number.MIN_VALUE,"ALL"),DEBUG:new $e(5e3,"DEBUG",console.debug),LOG:new $e(1e4,"LOG",console.log),INFO:new $e(2e4,"INFO",console.info),WARN:new $e(3e4,"WARN",console.warn),ERROR:new $e(4e4,"ERROR",console.error),OFF:new $e(Number.MAX_VALUE,"OFF")},Ve=(e,t)=>({debug:e(qe.DEBUG,t),log:e(qe.LOG,t),info:e(qe.INFO,t),warn:e(qe.WARN,t),error:e(qe.ERROR,t)}),Ge=qe.INFO,He=(()=>{if(R.isWorker||R.isWidget||R.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return N}},N)}return R.isSubContext&&R.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=g.__isFromMainContext?g.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},je.onStart(r),{...Ve(t),createLogger:e=>Ve(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=R.platform,t="android"!==e,r=[],n=function(t){"android"!==e?s.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${r=t.date,n=("0"+(r.getMonth()+1)).slice(-2),o=("0"+r.getDate()).slice(-2),a=("0"+r.getHours()).slice(-2),i=("0"+r.getMinutes()).slice(-2),s=("0"+r.getSeconds()).slice(-2),c=("00"+r.getMilliseconds()).slice(-3),u=r.getFullYear()+"-"+n+"-"+o,l=a+":"+i+":"+s+"."+c,"ios"===e?u+" "+l+"000"+(r.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):u+" "+(r.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+l} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var r,n,o,a,i,s,c,u,l}))}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},o=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},a=function(e,a){return function(...i){var s;if(a&&Array.prototype.unshift.call(i,"["+a+"]"),(D()||e.num>=qe.WARN.num)&&(null===(s=N[e.type.toLowerCase()])||void 0===s||s.call(N,...i)),e.num>=Ge.num){var c=Array.prototype.slice.call(i).map(o).join(" ");if(t){var u=new Date;r&&r.length>1024&&r.shift(),r.push({date:u,level:e,content:c})}else n([{level:e,content:c}])}}};return je.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(n(r),r=[])}),4e3)})),{...Ve(a),createLogger:function(e){return Ve(a,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;a(t,n)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();je.onLoad((()=>{He.info(`[BaseLibVersion] ${R.fileName}: ${t.version} (${t.updateTime})}`)}));const Ke=He;const ze=O(["log","info","warn","error"],(e=>function(...t){(L||D())&&console[e]("[system]",...t)}));var Je;function Xe(){return Je||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}je.onLoad((()=>{Je=Xe()}));var Qe=Object.create(null);Object.defineProperty(Qe,"WebAssembly",{enumerable:!0,get:Xe});const Ye=Qe;var Ze=e.g,et={env:R,global:Ze,get isConfigReady(){return je.getIsStarted()},get isStarted(){return je.getIsStarted()},get isLoaded(){return je.getIsLoaded()},...je,...i,wxConsole:N,wxPerfConsole:U,wxNativeConsole:Ke,libConsole:ze,libGlobal:Ye,globalShare:{}};void 0!==r&&(n=function(){return"return this"===arguments[arguments.length-1]?function(){return Ze}:new r(...arguments)},n.prototype=r.prototype);const tt=et})(),i=o.default})();i.wxConsole,i.wxPerfConsole;var s,c,u,l,p,f,d,h,g=i.wxNativeConsole;i.libConsole,i.libGlobal;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>P});class r{constructor(e=0){this.id=e,this.$={}}add(e){var t=this.id++;return"function"==typeof e&&(this.$[t]=e),t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class o{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t)}}var c=()=>{},u=JSON.parse,l=JSON.stringify,p="custom_event_",f=0,d=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function h(t){var n=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),s=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=c),i.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:c,invokeThirdHandler:c},f=1<<25),e.g.WeixinJSCore={invokeHandler:c,publishHandler:c,setTimerHandler:c,clearTimerHandler:c},t}(),h=new r(f),g=new o,v=new o;function y(e,t){if(void 0!==e&&h.has(t)&&""!==e&&null!==e){if("string"==typeof e)try{e=u(e),e=WeixinNativeBuffer.unpack(e)}catch(t){e={}}h.callAndRemove(t,e)}}var m={},_={},b=0;function S(e,t,r){var n,o=++b;m[o]=r;try{n=s.invokeThirdHandler(e,t,o)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof m[o]&&""!==n&&null!==n){if("string"==typeof n)try{n=u(n)}catch(e){n={}}var a=m[o];delete m[o],"function"==typeof a&&a(n)}}var w=function(e,t){_[e]=t},C=(e,t)=>{var r=_[e];r&&r(t)},x=(e,t,r,n)=>{var o=m[e];delete m[e],"function"==typeof o&&o(t)};return{invoke(e,r,o,c={}){var u=r;c.keepOriginalParams||t.directInvokeJS||(c.notPack?delete c.notPack:r=WeixinNativeBuffer.pack(r),("ios"!==a.platform||d||1!==Number(a.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(u=l(r||{}))),delete c.keepOriginalParams;var p=h.add(o);return c.highPerformance&&(c.highPerformance[p]=r,delete c.highPerformance),function(e,r,o,c={}){if(s){var u,p;y("splashad"===i.env.workerType||a.supportInvokeWithAppId?null===(u=s.invokeHandler)||void 0===u?void 0:u.call(s,e,r,o,c):null===(p=s.invokeHandler)||void 0===p?void 0:p.call(s,e,r,o),o)}else{var f={event:e,paramsString:r,callbackId:o,privateArgs:l(c)};if(t.isWebMiniGame)y(prompt("webgame_invoke",l(f)),o);else{var d=null==n?void 0:n.messageHandlers.invokeHandler.postMessage(f);null!=d&&d.catch&&d.catch((t=>{var n=console.error.bind(console);n("webkit.messageHandlers.invokeHandler.postMessage fail"),n(`event=${e}`),n("params=",r),n("err=",t),n("err.code=",t.code),n("err.message=",t.message),n("err.name=",t.name)}))}}}(e,u,p,c),p},on(e,t){g.set(e,t)},subscribe(e,t){v.set(p+e,t)},publish(e,r,o){e=p+e;var a=o,i=r;t.directInvokeJS||(i=l(r),a=l(o)),function(e,t,r){if(s){var o;null===(o=s.publishHandler)||void 0===o||o.call(s,e,t,r)}else{var a=null==n?void 0:n.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:r});null!=a&&a.catch&&a.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,i,a)},invokeCallbackHandler:function(e,t){t=WeixinNativeBuffer.unpack(t),h.callAndRemove(e,t)},subscribeHandler:function(e,t,r,n){t=WeixinNativeBuffer.unpack(t),-1!==e.indexOf(p)?v.emit(e,t,r,n||{}):g.emit(e,t,r,n||{})},get invokeThird(){return S},get onThird(){return w},get subscribeThirdHandler(){return C},get invokeThirdCallbackHandler(){return x}}}var g=!0,v={},y={},m=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);i.onPostStart((()=>{g=!1,v={},y={}}));var _=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var b=null;var S=new class{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}},w=S.ready.bind(S),C=new class{constructor(e){this.onNewEvent=e,this.$={},this.$e=new i.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}(((e,t)=>{_.has(e)?w((r=>{r.on(e,t.emitCancelable.bind(t,e))})):w((r=>{r.on(e,t.emit.bind(t,e))}))})),x=()=>{},k=[],I={on(e,t){_.has(e)?C.add(e,t):C.setSingle(e,t)},addEventListener(e,t,r){C.add(e,t,r)},removeEventListener(e,t){C.remove(e,t)},invoke(e,t,r,n={}){var o=!0,a=!1,i=[],s=e=>{for(var t of(a||(o=!1),i))t(e,o);null==r||r(e)};if(b){var c=e=>{i.push(e)};for(var u of k){var l=u(e,t,c);if(l)return l instanceof Promise?(l.then((e=>{s(e)})),!0):(s(l),!1)}b.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return a=!0,o},pureInvoke:(e,t,r,n={})=>b.invoke(e,t,r,n),get invokeCallbackHandler(){var e;return null===(e=b)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=b)||void 0===e?void 0:e.subscribeHandler},publish:x,subscribe:x,addSubscribeListener:x,removeSubscribeListener:x,addInvokeInterceptor(e){return k.push(e),this},get invokeThird(){var e;return null===(e=b)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=b)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null}};i.onLoad((()=>{!function(t){if(!("devtools"===i.env.platform&&!i.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){if(i.env.isMagicBrushFrameEnv){var r,n=(null===(r=e.g.mb)||void 0===r?void 0:r.JSBridge)||e.g.JSBridge,o=n.invoke,s=Object.assign({},n,{invoke:function(...e){var t=o.apply(n,e),r=e[1];if(t&&Object.prototype.hasOwnProperty.call(t,"errCode")&&r){var a=t.errno||t.errCode,{success:i,fail:s,complete:c}=r;a?("function"==typeof s&&s(t),"function"==typeof c&&c(t)):("function"==typeof i&&i(t),"function"==typeof c&&c(t))}return t}});return e.g.WeixinJSBridge=s,t(s,!1)}var c=h({directInvokeJS:!!a.wmpfDirectInvokeJs,isWebMiniGame:!!a.isWK}),u={get invokeCallbackHandler(){return c.invokeCallbackHandler},get subscribeHandler(){return c.subscribeHandler},get subscribeThirdHandler(){return c.subscribeThirdHandler},get invokeThirdCallbackHandler(){return c.invokeThirdCallbackHandler}};return a.clientDebug&&i.onLibraryEnd((()=>{Object.assign(u,{on:I.on,publish:I.publish,invoke:I.invoke,subscribe:I.subscribe}),e.g.WeixinJSBridge=u})),e.g.WeixinJSBridge=u,t(c,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{b=t,r&&e.g.WeixinJSBridge===s&&Object.keys(t).forEach((e=>{e in I||(I[e]=(...r)=>t[e](...r))})),S.done(b)}))})),I.addInvokeInterceptor((e=>{if(!i.isStarted&&"splashad"!==i.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(g&&m.has(e)){if(e in v)return v[e];if(e in y)return y[e];if(m.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete y[e],v[e]=r)}))}));y[e]=n}}}));new Map;i.setWeixinJSBridge(I);const P=I;s=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>B});var r,o,s,u,l,p,f,d,h,v,y,m,_,b,S,w=Object.prototype.toString,C=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),x={},k=[],I=0,P=[],A=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var o=void 0!==n?n:++I;return _=o,x[o]=t,k.push(o),P.forEach((e=>{"function"==typeof e&&e(o)})),o}},E=(e,t,n,o)=>{if(void 0!==e&&e===r){var a=(e=>{for(var t=k.length,r=0;r<t;r++){var n=k[r];if(x[n]===e)return n}})(t);if(void 0!==a){var i=C[n];return"function"==typeof i?i(o,a):void 0}}},T=(e,t)=>{C[e]=t},R=(e,t)=>{if(void 0===h||"function"!=typeof h)return"failed: loadLibFiles not supported";if("devtools"===a.platform&&"number"!=typeof v)return"failed: loadLibFiles not supported";try{if(0===h.call(r,e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},M=(e,t,r)=>{if("android"===a.platform||"ios"===a.platform||"devtools"===a.platform||"windows"===a.platform||"mac"===a.platform||"mina"===a.platform){var n=Date.now(),o=R(null!=r?r:1,[e]);g.info(`inject subPackage: ${e} coast: `,Date.now()-n),t(o)}else g.error("不支持loadJSFiles")},L={},O={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=A,r.subscribeHandler=E,o=r.alloc,s=r.create,u=r.destroy,l=r.evaluateScriptFile,p=r.loadJsFiles,h=r.loadLibFiles,f=r.allocEmpty,d=r.allocFromSnapshot,v=r.mainContextId,y=r.errorHandler,r.waitingChannel={},m=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},n,o)=>{var a,i=(a=t,w.call(a).split(" ")[1].split("]")[0]);if("Object"!==i&&"Undefined"!==i)throw new Error("params should be an object.");return n.map((n=>{var a=x[n];if(a)return a.subscribeHandler(r,e,t);o&&void 0!==n&&(r.waitingChannel[n]||(r.waitingChannel[n]=[]),r.waitingChannel[n].push({event:e,params:t}))}))},subscribe:T,onRegister:e=>{P.push(e)},evaluateScriptFile:(e,t,r)=>l(e,t,r),batchLoadJsFiles:(e,t,n)=>{if(void 0===p||"function"!=typeof p)return"failed: loadJsFiles not supported";var o="devtools"===a.platform?void 0:JSON.stringify(n);try{var i=p.call(r,e,JSON.stringify(t),o);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(i)?i.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof o?o.call(r,e,t):-9999,create:(e,t)=>"function"==typeof s?s.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof u?u(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof o,loadLibFiles:R,allocEmpty:(e,t)=>"function"==typeof f?f.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof f,allocFromSnapshot:(e,t)=>{if("function"==typeof d){var n=d.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof d,loadMainContextLibFile:M,loadSubContextLibFile:(e,t,r)=>{if(r)return M(e,t,r);g.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>v,setAppSubContextId:e=>{S=e},getAppSubContextId:()=>S,convertRealId2SdkId:e=>L[e],associateRealId2SdkId:e=>{L[e]=_},errorHandler:(e,t)=>{y?y(e,t):b?b[e]=t:(b={[e]:t},T("subContextError",(({contextId:e,err:t})=>{b[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof m&&m()}};var D=O;i.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(D.__init__(WeixinJSContext),delete D.__init__,delete e.g.WeixinJSContext)}));const B=D;c=t.default})(),(()=>{var e={711:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>n,default:()=>s,updateConfig:()=>o});var n={None:0,BeforeLaunch:1,AfterLaunch:2},o=()=>{i!==a&&void 0!==i&&Object.assign(i,a)},i=(()=>(a.onReady(o),a))();const s=i},445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>n});var n=e=>{p.reportKeyValue({key:"DeprecatedAPI",value:e})}},284:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(445),{default:o}=r(711);function a(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){a(t),"undefined"!=typeof eval&&("ios"===o.platform&&r.g.__isAppServiceRemoteDebugMode__||o.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=l.surroundThirdByTryCatch(t,"at setTimeout callback function"),o=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,o)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=l.surroundThirdByTryCatch(e,"at setInterval callback function"),o=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,o)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:a}},323:()=>{if("undefined"==typeof navigator){try{new n('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new n('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new n('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";r.r(o),r.d(o,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>H,deepFreezeObj:()=>M,deepFreezeObjProperty:()=>R,doNotWriteGlobalObjs:()=>G,doNotWriteObj:()=>B,doNotWriteObjProperty:()=>L,globalEsHiddenObjs:()=>t,globalEsObjs:()=>n,hijack:()=>K.hijack,hijackFunction:()=>K.hijackFunction,overwriteSetPrototypeOf:()=>V});r(323);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),n=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],i=globalThis,s=r(711),c=(()=>s.default.platform)(),u=(()=>"ios"===c)();var l=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code\])?$/;function f(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return u?function(e,t){for(var r=[],n=e.split("\n"),o=0,a=0;o<n.length&&a<t;++o){var i=n[o];if(!p.test(i)){++a;var s=i.indexOf("@");if(-1===s){var c=d(i);r.push({fileName:c.URI,lineNumber:c.line,columnNumber:c.column,source:i})}else{var u=i.substring(0,s),l=d(i.substr(s+1));r.push({functionName:u,fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:i})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),o=0,a=0;o<n.length&&a<t;++o){var i=n[o];l.test(i)&&(r.push(i),++a)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),o=d(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:e}}))}(r,t)}function d(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var h=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,y=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,S=Object.preventExtensions;var w=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function C(){var e,t,r=Date.now(),n=f(new Error,3),o=n[1],a=n[2],i=!(o.fileName&&a.fileName&&a.fileName!==o.fileName&&(e=a.fileName,t=o.fileName,!w.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,i}function x(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=y(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return b(this)},set(r){if(this===e)t&&C()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var k=new Map,I=(e,t,r)=>{k.has(e)||k.set(e,new Map);var n=k.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function P(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=y(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(o){if(this===e)r&&C()&&(n.set?n.set.call(this,o):n.writable&&(n.value=o));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,o)}},enumerable:n.enumerable,configurable:!1}),r&&I(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var A=new WeakSet;function E(e){A.add(e)}function T(e){return A.has(e)}function R(e,t,r){P(e,t)&&M(e[t],r)}function M(e,t){if(e&&!T(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){E(e);for(var r=m(e),n=_(e),o=0;o<r.length;++o)R(e,r[o],t);for(var a=0;a<n.length;++a)R(e,n[a],t);t?S(e):x(e,!1)}else if(t){var i=e=>{if(e&&!T(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){E(e),h(e);for(var t=m(e),r=_(e),n=0;n<t.length;++n)i(e[t[n]]);for(var o=0;o<r.length;++o)i(e[r[o]])}};i(Error)}}function L(e,t){P(e,t,!0)&&B(e[t])}var O=new WeakSet;function D(e){return O.has(e)}function B(e){if(e&&!D(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){O.add(e)}(e);for(var t=m(e),r=_(e),n=0;n<t.length;++n)L(e,t[n]);for(var o=0;o<r.length;++o)L(e,r[o]);x(e,!0)}}var j=Object.prototype.hasOwnProperty,N=Object.defineProperty,F=Object.defineProperties,W=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,$=Object.getOwnPropertyDescriptor,q=!1,V=function(){q||(q=!0,N(i.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),N(i.Object,"defineProperty",{value(e,t,r){if(!D(e))return N(e,t,r);if(!C())return r;var n=$(e,t);if(!n||n.configurable){var o=N(e,t,r);return L(e,t),o}return I(e,t,r),r},configurable:!0}),N(i.Object,"defineProperties",{value(e,t){if(!D(e))return F(e,t);if(!C())return t;var r=r=>{var n=$(e,r);if(!n||n.configurable){var o=N(e,r,t[r]);return L(e,r),o}return I(e,r,t[r]),t[r]};return W(t).forEach(r),U(t).forEach(r),t},configurable:!0}))},G=function(e=[]){try{for(var r=[...n,...a,...t,...e],o=(Date.now(),0);o<r.length;++o){var s=r[o],c=typeof s;"string"===c?j.call(i,s)&&L(i,s):"function"!==c&&"object"!==c||B(s)}Date.now()}catch(e){}},H=function(e=[],r=!1){try{for(var o=[...n,...a,...t,...e],s=(Date.now(),0);s<o.length;++s){var c=o[s],u=typeof c;"string"===u?j.call(i,c)&&R(i,c,r):"function"!==u&&"object"!==u||M(c,r)}Date.now()}catch(e){}},K=r(284),z=Object.prototype.isPrototypeOf,J=Object.defineProperty,X=Object.prototype.hasOwnProperty,Q=Symbol.hasInstance,Y=function(e){return!("function"!=typeof this||!Z(e))&&((e,t)=>z.call(t.prototype,e))(e,this)},Z=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,r={}){for(var n=function(n){var o=e[n],a=t[n];if(!o||!a)return 0;if("function"!=typeof o)return 0;var i=X.call(o,Q)?o[Q]:Y,s=X.call(a,Q)?a[Q]:Y;J(o,Q,{value(e){return i.call(this,e)||s.call(a,e)},writable:!0,enumerable:!1,configurable:!0}),J(a,Q,{value(e){return void 0!==r[n]&&"Object"===r[n]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||i.call(o,e)},writable:!0,enumerable:!1,configurable:!0})},o=0;o<e.length;++o)n(o)}})(),u=o})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>h,callSystemFunction:()=>f,callThirdPartyFunction:()=>g,convertStack:()=>o,endSystemFunctionCall:()=>u,findCurrentSource:()=>s,startSystemFunctionCall:()=>c,surroundThirdByTryCatch:()=>m,wrapMiniProgramOrPluginFunction:()=>v,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>y,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function o(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,o=n.length-1,i=0;i>=0&&o>=0;){var s=r.length,c=0;for(var u in a)if(a[u]){var l=r.indexOf(a[u],i);l<0||s<=l||(s=l,c=a[u].length)}if(s>=r.length)break;var p=`at <${n[o--].description}>`;r=r.slice(0,s)+p+r.slice(s+c),i=s+p.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function i(e){var t=((new Error).stack||"").match(/.+/gm),n="",o=0;t&&t.forEach((e=>{if(r.test(e)&&2===(o+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return n=e.slice(a),!1}return!0})),a[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var c=e=>{null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",i)("wrapSystemFunction")),n.push({description:e})},u=()=>{n.pop()};function f(e,t,r,c,u,l=!1){var f;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",i)("wrapSystemFunction")),n.push({description:t});try{f=r.apply(c,u)}catch(t){if(o(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var h=s();p.thirdErrorReport({error:t,source:h,triggerErrorCallback:!l})}else p.errorReport({key:e,error:t,triggerErrorCallback:!l})}if(l)throw n.pop(),t}return n.pop(),f}function d(e,t,r,n=!1){return function(...o){return f(e,t,r,this,o,n)}}function h(e,t,r,s,c,u=!1){var l;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",v("","",i)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{l=r.apply(s,c)}catch(t){if(o(t)&&p.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!u}),u)throw n.pop(),t}return n.pop(),l}function g(e,t,r,n,o=!1){return h(s(),e,t,r,n,o)}function v(e,t,r,n=!1){return function(...o){return h(e,t,r,this,o,n)}}function y(e,t,r=!1){return function(...n){return h(s(),e,t,this,n,r)}}function m(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",o=e||function(){};return function(...e){return h(s(),n,o,o,e,!1)}}l=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{e.d(r,{default:()=>ce});var o={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},c={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343},u={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},p={apiCallback:1,pageInvoke:2,widgetInvoke:3},f={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},d={[o.APP]:"thirdScriptError",[o.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[o.WIDGET]:"widgetThirdScriptError",[o.GAME]:"gameThirdScriptError",[o.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var g={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},v=0;function y(){var e=0;return{get(){if(e>0)return e;if(0===v)throw Error("initTime not ready");return e=v},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==i?i.onLoad((()=>{g.offset=Date.now(),v=Date.now()})):(g.offset=Date.now(),v=Date.now());class m{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=y(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=y(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class _{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=y(),this._periodStartTime=y(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class b{constructor(e,t,r,n){this.reportTime=y(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new _(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,o){this.continueDecreaseReportLimitStrategys[e]=new m(t,r,n,o)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var S=()=>{w!==a&&void 0!==w&&Object.assign(w,a)},w=(()=>(a.onReady(S),a))();const C=w;var x=(()=>C.platform)(),k=(()=>"devtools"===x)(),I=(()=>"ios"===x)();var P=(()=>Object.prototype.toString)(),A=n.prototype.call.bind(P);function E(e){return A(e).slice(8,-1)}var T=6e4,R=15e3;function M(...e){s.invoke(...e)}var L={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,webviewBizDomainFetch_fail:208,webviewBizDomainSkipReturn:209,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},O=new b("id",R,100,T);function D(e){C.onReady((()=>{M("reportIDKey",{dataArray:e})}))}function B(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){O.pushReportQueue({id:e,key:t,value:r});var o=O.attemptReportAndGetReportMsgs(n);o.length&&D(o)}}function j(){var e=O.attemptReportAndGetReportMsgs(!0);e.length&&D(e)}var N=[],F=0,W=0,U=0,$={},q={},V={},G=new b("key",R,100,T);function H(e){C.onReady((()=>{M("reportKeyValue",{dataArray:e})}))}function K(){C.onReady((()=>{!N||N.length<=0||(M("systemLog",{dataArray:N}),N=[])}))}function z(e){var t=C&&C.appContactInfo&&C.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}G.setContinueDecreaseReportLimitStrategyKey(18042,R,.5,100,T);var J=()=>{},X=()=>{},Q=()=>{},Y=()=>{},Z="",ee={},te=-1,re=0,ne=o.APP,oe="";"function"==typeof C.onReady&&C.onReady((()=>{void 0!==C.appType&&(te=C.appType),"object"==typeof C.appLaunchInfo&&(re=C.appLaunchInfo.scene);var e=C.networkType;e?oe=e:s.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(oe=e.networkType)})),"function"==typeof s.addEventListener&&s.addEventListener("onNetworkStatusChange",(e=>{oe=e.networkType}))}));var ae={surroundThirdByTryCatch:l.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var o=p[e],a=Date.now();if(o&&(n||!(a-U<500))&&!(Object.keys(V).length>50||(V[r]||(V[r]=0),V[r]++,V[r]>3))){U=a;var i=`${t},${encodeURIComponent(r)},${o},${ae.getAppType()}`;ae.reportKeyValue({key:"Slow",value:i})}},isLimitReport:e=>G.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var o=u[e],a=Date.now(),i=0,s=r.nativeTime;if(o&&(n||!(a-($[o]||0)<500))&&r.startTime&&r.endTime&&(1!==o&&2!==o||s)){t&&(i=JSON.stringify(t).length),$[o]=a;var c=`${o},${r.startTime},${s},${s},${r.endTime},${i},${ae.getAppType()}`;ae.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,n=[]){var o=r-t;o<0&&(o=0),M("reportKeyValue",{version:2,dataArray:[{key:c[e],value:[o,re,t,r,...n].join(",")}]})},reportQualityData2(e,t=[]){M("reportKeyValue",{version:2,dataArray:[{key:c[e],value:t.join(",")}]})},flushReportKeyValueList:()=>{var e=G.attemptReportAndGetReportMsgs(!0);e.length&&H(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||c[e]){G.pushReportQueue({key:n?e:c[e],value:t},r);var o=G.attemptReportAndGetReportMsgs(r);o.length&&H(o)}},flushReportIDKeyList:j,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1}){L[t]&&B(e||(I?356:358),L[t],r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&B(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||B(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){B(1874,e,t)},thirdErrorReport:({key:e=ne,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:o,source:a="",isOpenDataContextError:i=!1})=>{ae.errorReport({key:d[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:o,source:a,isOpenDataContextError:i})},errorReport:({key:e,error:r,isThirdScriptError:n=!1,triggerErrorCallback:a=!0,isUnhandledRejection:i=!1,promise:c,source:u="",isOpenDataContextError:l=!1,extra:p=""})=>{if(f[e]&&r){var d,g;"function"==typeof __wxSourceMapRetrace__&&(r=__wxSourceMapRetrace__(r)),"object"==typeof r&&(r.message||r.stack)?(d=r.message,g=r.stack):(d=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(r),g=E(r));var v=n?"MiniProgramError":`SystemError (${e})`,y=d,m="";r.name&&0!==(g||"").indexOf(r.name)&&(m="\n"+r.name+": "+y);var _=`${v}\n${y}${m}\n${g}`;if(k){var b=new Error(`${v}\n${y}`);"object"==typeof r&&void 0!==r.name&&Object.defineProperty(b,"name",{value:r.name}),"object"==typeof r&&void 0!==r.stack&&Object.defineProperty(b,"stack",{value:r.stack}),console.error(b)}else i?console.error("(in promise) "+_):console.error(_);if(!(l||_.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){s.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:_},options:{timestamp:Date.now()}}):a&&(ae.triggerErrorMessage(_,i,r,c),n&&ae.triggerThirdErrorMessage(_,i,r,c)),Object.keys(q).length>50||i&&"Error"!==E(r)))){var S="",w="";ne!==o.APP&&ne!==o.GAME||(S=Z,w=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(ee));var C=0;if(1004===ae.getAppType()&&n)try{oe=h.getGameRelatedContextsExports().game._getCurrentNetworkType();var x=r.stackInfoArr;if(delete r.stackInfoArr,x){var I=x.find((e=>"usr"===e.type));if(I&&"__plugin__"===I.package&&"string"==typeof I.file){var P=I.file.split("/");C=z(u=P&&P[0])}}}catch(b){}else C=u.match(/wx[0-9a-f]{16}/)?z(u):0;var A=[f[e],r.name,...[y,g,void 0!==t&&t.version||"",ae.getAppType(),S,w,void 0!==t&&t.updateTime||"","",i?1:0,u,C,oe,p].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(q[A]||(q[A]=0),q[A]++,!(n&&q[A]>3||q[A]>3)){ae.reportIDKey({key:e}),ae.reportKeyValue({key:"Error",value:A});var T=G.attemptReportAndGetReportMsgs(!0);T.length&&H(T),j(),K()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-F<50||(F=Date.now(),N.push(e+""),N.length>=50&&K()))},submit:()=>{Date.now()-W<50||(W=Date.now(),j(),H(G.attemptReportAndGetReportMsgs(!0)),K())},registerErrorListener:e=>{"function"==typeof e&&(J=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(X=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(Q=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(Y=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Q(r,n):J(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Y(r,n):X(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{ne=o.WIDGET},setAsGame:()=>{ne=o.GAME},setAsGameSubContext:()=>{ne=o.GAME_SUBCONTEXT},getAppType:()=>-1===te?0:te+1e3},ie={};function se(e){Object.defineProperty(ie,e,{get(){return t=ae[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(ae).forEach((e=>{se(e)})),Object.defineProperty(ie,"__route__",{set(e){Z=e}}),Object.defineProperty(ie,"__method__",{set(){}}),Object.defineProperty(ie,"__query__",{set(e){ee=e}}),ie.RunType=o,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){ae.submit()}});const ce=ie})(),p=r.default})(),(()=>{var e={187:(e,t,r)=>{var n;r.d(t,{p:()=>a,t:()=>o}),i.onLoad((()=>{n=[...u.globalEsObjs.map((e=>globalThis[e])),...u.globalEsHiddenObjs].filter(Boolean)}));var o=()=>n;function a(e){var t=e.getGlobals(),r=o();t.length===r.length?u.bridgeGlobalInstanceOf(o(),t):i.emitFrameworkError(new Error("remoteGlobals mismatch with currentGlobals"),"bridgeGlobalInstanceOf")}},55:(e,t,r)=>{r.d(t,{f:()=>n});var n=(globalThis.__wxLibrary||{}).contextType}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{_getSelfBridgeContext:()=>c,bridgeContext:()=>l});var o=r(187),a=r(55),s=new Map;function c(){return{getGlobals:o.t,contextType:a.f,setBridged:(e,t)=>{s.set(e,t)}}}function l(e){var t=e._getSelfBridgeContext();a.f,t.contextType;try{if(s.has(t.contextType))return;s.set(t.contextType,t),t.setBridged(a.f,c()),(0,o.p)(t)}catch(e){a.f,t.contextType}}f=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.r(t),e.d(t,{actionController:()=>xe,allowReportLoadingTime:()=>_t,checkIsWebviewPageDetach:()=>Xe,clearAsyncCallApiRelatedEvent:()=>Ve,clearCurrentEventApiList:()=>Le,clearCurrentEventInfo:()=>Ne,closeTrackUserAction:()=>Re,convert24247SchemaToSensitiveQueryJudgeSchema:()=>B,convertReportInfo2Strategys:()=>ae,endLoading:()=>yt,endTraceHandler:()=>nt,endTraceLastRouteStayTime:()=>w,filterApiReportReq:()=>ce,getAppServiceVariable:()=>He,getAsyncCallApiRelatedEvent:()=>qe,getAsyncCallbackJoinEventInterval:()=>et,getCompatPathWithoutValue:()=>$,getCurrentEventApiList:()=>We,getCurrentEventInfo:()=>je,getCurrentFullyRoutePath:()=>R,getCurrentPageTitle:()=>E,getCurrentRawRoutePath:()=>V,getCurrentRoutePath:()=>x,getCurrentRoutePathWithoutQuery:()=>k,getCurrentRouteStartTime:()=>G,getEventJoinInterval:()=>Ze,getLastRoutePath:()=>C,getPageTitle:()=>M,getQualityConfig:()=>dt,getReportEvent:()=>fe,getRouteHasWebview:()=>Je,getSafeRoutePath:()=>j,getSamplePercent:()=>le,getSessionId:()=>de,getTextContentMaxLayer:()=>be,getTextContentMaxLength:()=>_e,getTrackUserAction:()=>Fe,protectActionReporter:()=>bt,pruneSensitiveUrl:()=>U,pushApiToEventApiList:()=>Ue,reportInteractionAPI:()=>pt,setAppServiceVariable:()=>Ge,setAsyncCallApiRelatedEvent:()=>$e,setAsyncCallbackJoinEventInterval:()=>tt,setCurrentEventApiList:()=>Me,setCurrentEventInfo:()=>Be,setCurrentRouteStartTime:()=>H,setEventJoinInterval:()=>Ye,setQualityConfig:()=>ft,setReportSetting:()=>ke,setRouteHasWebview:()=>ze,setSessionId:()=>oe,shouldReportApi:()=>me,shouldReportEvent:()=>pe,shouldReportLifetime:()=>he,shouldStartReport:()=>ye,shouldStopReport24689:()=>ue,shouldUpdateReportInfo:()=>ve,startActionChainReport:()=>ge,startLoading:()=>vt,startTraceHandler:()=>rt,startTraceLastRouteStayTime:()=>S,startTrackUserAction:()=>Te,traceApi:()=>Ee,traceBootRoutePath:()=>P,traceEvent:()=>Ae,traceFullyRoutePath:()=>T,traceLife:()=>Ie,traceNewRoute:()=>L,traceRawRoutePath:()=>q,traceRoute:()=>Pe,traceRoutePath:()=>_,traceRoutePathWithoutQuery:()=>b,updateWebviewPageInfo:()=>Qe});var r=(()=>Object.prototype.toString)(),o=n.prototype.call.bind(r);function s(e){return o(e).slice(8,-1)}var c=e=>"Object"===s(e);class u{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const l=(()=>new u)();var f,v,y,m,_=e=>{f=x(),l.set("current_route_path",e,!0)},b=e=>{l.set("current_route_without_query_path",e,!0)},S=()=>{y=Date.now()},w=()=>Date.now()-y,C=()=>f,x=()=>l.get("current_route_path"),k=()=>l.get("current_route_without_query_path"),I=!0,P=e=>{I&&(_(e),I=!1)},A={},E=()=>{var e=R();return A[e]},T=(e,t)=>{try{if("string"!=typeof e)return v=e;if(!c(t))return v=e;for(var r of(e+="?",Object.keys(t))){e+=`${r}=${t[r]}&`}return v=e.slice(0,e.length-1)}catch(t){return g.error("getFullyRoutePath err:",t),v=e}},R=()=>v,M=e=>A[e],L=(e,t)=>{var r,n,o=(t&&t.window||{}).navigationBarTitleText||"",a=V(),i=null==e?void 0:e[a],s=(null==i||null===(r=i.window)||void 0===r?void 0:r.navigationBarTitleText)||o;n=s,A[v]=n},O={},D=!1,B=e=>{try{var t,r,n,o=(null==e||null===(t=e.common)||void 0===t?void 0:t.importantKeyInfo)||[];(o=o.map((e=>{var t;return new RegExp(e.pure,null!==(t=e.flag)&&void 0!==t?t:"")}))).length&&(O.keyJudge=o);var a=(null==e||null===(r=e.common)||void 0===r?void 0:r.sensitiveInfo)||[],i=[...(null==e||null===(n=e.common)||void 0===n?void 0:n.safeSensitiveInfo)||[],...a].reduce(((e,t)=>{var r;return t.matchKey||e.push(new RegExp(t.pure,null!==(r=t.flag)&&void 0!==r?r:"")),e}),[]);i.length&&(O.valJudge=i),D=!0}catch(e){g.error("convert24247SchemaToSensitiveQueryJudgeSchema err:",e)}},j=(e,t,r,n=!1)=>{try{if("string"!=typeof e)return e;var o=((e,t,r=!1)=>{if(!c(e))return e;if(!D||r){var n={};return Object.keys(e).forEach((r=>{n[r]=1092!=t||C()?"":e[r]})),n}var{keyJudge:o,valJudge:a}=O,i={},s=function(t){var r=e[t];o&&o.some((e=>e.test(t)))&&(r=null),r&&a&&a.forEach((e=>{r=r.replace(e,"")})),i[t]=r};for(var u of Object.keys(e))s(u);return i})(t,r,n);if(!c(o))return e;for(var a of(e+="?",Object.keys(o))){e+=`${a}=${o[a]}&`}return e.slice(0,e.length-1)}catch(t){return g.error("getSafeRoutePath err:",t),e}},N=new RegExp("[^&=?]+=[^&]*","g"),F=new RegExp("(.*)=(.*)"),W=e=>{try{if("string"!=typeof e)return e;var t=e.indexOf("?");if(-1===t)return e;var r=e.slice(t+1).match(N);return r?[e.slice(0,t),r=r.reduce(((e,t)=>{var r,n,o=null===(r=t.match(F))||void 0===r||null===(n=r.slice)||void 0===n?void 0:n.call(r,1);return o?(Object.assign(e,Object.fromEntries([o])),e):e}),{})]:e}catch(t){return e}},U=e=>{try{var t=W(e);if(!Array.isArray(t))return t;var[r,n]=t;return j(r,n)}catch(t){return e}},$=e=>{try{var t=W(e);if(!Array.isArray(t))return t;var[r,n]=t;return j(r,n,null,!0)}catch(t){return e}},q=e=>{l.set("current_raw_route_path",e,!0)},V=()=>l.get("current_raw_route_path"),G=()=>m,H=()=>m=Date.now(),K=()=>{z!==a&&void 0!==z&&Object.assign(z,a)},z=(()=>(a.onReady(K),a))();const J=z;J.onReady((()=>{l.set("api_call_from_hot_boot_time",Date.now(),!0),void 0!==h&&h.onAppEnterForeground((()=>{l.set("api_call_from_hot_boot_time",Date.now())}))}));var X,Q=e=>{try{e=JSON.stringify(e)}catch(e){}return e},Y={},Z={tap:!0},ee={},te=30,re=3,ne=!1,oe=e=>{X=e},ae=e=>{e&&"object"==typeof e&&(e.api.forEach((e=>{"string"==typeof e.name&&(Y[e.name]={req:e.req,res:e.resp,samplePercent:e.samplePercent})})),(e=>{e.forEach((e=>{Z[e.type]=!0}))})(e.event),(e=>{e.lifetimes&&e.lifetimes.forEach((e=>{ee[e.type]=!0}))})(e),(e=>{void 0!==e.textContentMaxLength&&(te=e.textContentMaxLength>30?30:e.textContentMaxLength<0?0:e.textContentMaxLength),void 0!==e.textContentMaxLayer&&(re=e.textContentMaxLayer>3?3:e.textContentMaxLayer<0?0:e.textContentMaxLayer)})(e),g.info("TUA ApiReportStrategys:",Y))},ie=e=>{if(!c(e))return e;var t={};for(var r of Object.keys(e)){var n=e[r];c(n)?t={...t,...ie(n)}:t[r]=n}return t},se=(e,t)=>{if(!e)return null;if(!t)return t;if("string"==typeof t)return c(e)?null:t.slice(0,512);if(!0===e||"string"==typeof e)return t;var r;if(Array.isArray(t))r=[];else{if("[object Object]"!==Object.prototype.toString.call(t))return t;r={}}for(var n of Object.keys(e))if("string"==typeof n){var o=t[n];if(void 0!==o){var a=e[n];if(a){var i=n.toLowerCase();"string"==typeof a&&(i=a.toLowerCase()),r[i]=se(a,o)}}}return r=ie(r)},ce=(e,t,r=!1)=>{var n,o=Y[e];if(!o)return null;var a={};return 1===(null===(n=o=o[r?"res":"req"])||void 0===n?void 0:n.__ALL__)?a.ext_data=Q(t):a.ext_data=Q(se(o,t)),a},ue=e=>Math.random()>le(e),le=(e={})=>{var t;return"api"===e.type?null===(t=Y[e.data])||void 0===t?void 0:t.samplePercent:1},pe=e=>ne&&Z[e],fe=()=>ne?Z:[],de=()=>X,he=e=>ee[e],ge=()=>{ne=!0},ve=e=>X!==e,ye=()=>ne,me=e=>Y[e],_e=()=>te,be=()=>re;var Se,we,Ce,xe=new class{constructor({sendInterval:e=5e3,cache:t=5}={}){this.sendInterval=e,this.cache=t,this.actions=[],this.isInit=!1,this.currentActionId=1}create(){return{}}intervalSend(){if(!this.sendClear){var e=setTimeout((()=>{this.send(),this.intervalSend()}),this.sendInterval);this.sendClear=e}}clearIntervalSend(){clearTimeout(this.sendClear),this.sendClear=null}getCurrentId(){return this.currentActionId++}add(e,t={}){var r,n;this.isInit&&(1!==e.result&&ue({type:e.reporttype,data:e.name})||(e.id=this.getCurrentId(),e.hotbootdistance=(n=l.get("api_call_from_hot_boot_time"),Date.now()-n),e.pagename=null!==(r=t.path)&&void 0!==r?r:x(),e.instanceId=J.appLaunchInfo.sessionid||J.appLaunchInfo.sessionId,e.source=void 0!==i?i.env.isWebView?2:1:0,e.appId=J.accountInfo&&J.accountInfo.appId,e.pagetitle=t.path?M(t.fullyPath):E(),e.extra_info=JSON.stringify({isasyncreturn:e.isAsync,...e.extra_info}),delete e.isAsync,e.time=Date.now(),"api"!==e.reporttype||"navigateTo"!==e.name&&"redirectTo"!==e.name&&"switchTab"!==e.name&&"navigateBack"!==e.name||(e.pagename=C()),this.actions.push(JSON.stringify(e)),this.actions.length>this.cache&&this.send()))}cut(e){if("string"!=typeof e)return e;var t=Math.floor(204700/this.cache);return e.length>t?e.slice(0,t):e}send(){void 0!==h&&(this.actions.length&&h.reportActionTrace({cs_session_id:de(),click_event_data_list:this.actions.map(this.cut.bind(this))},{fail(e){var t=["","","webapi_reportwxacityservicescreenshot",x(),1,JSON.stringify({err:e.errMsg})].map(encodeURIComponent).join(",");p.reportKeyValue({key:"SdkInnerApiInvoke",value:t,force:!0}),g.error("report user action err:",e)}}),this.actions=[],this.clearIntervalSend(),this.intervalSend())}protect(){if(this.isInit)return null;void 0!==h&&(this.intervalSend(),h.onAppEnterBackground((()=>{this.clearIntervalSend(),this.send()})),h.onAppEnterForeground((()=>{this.intervalSend()})),this.isInit=!0)}setReportSetting({reportCache:e,reportInterval:t}){this.cache=null!=e?e:5,this.sendInterval=null!=t?t:5e3}},ke=e=>xe.setReportSetting(e),Ie=(e,t)=>{if(he(e)){var r={reporttype:"lifetimes",result:0,type:e};xe.add(r,{path:t.path,fullyPath:t.fullyPath})}},Pe=(e,t,r=!0)=>{Ee(e,{url:t},null,r,null,0)},Ae=(e,t,r,n,o,a)=>{if("onH5Open"===e||pe(e)){var i={reporttype:"event",event:{currenttarget:r,target:n},errmsg:t||null,result:t?1:0,eventname:e,event_id:String(a)};xe.add(i)}},Ee=(e,t,r,n,o,a,i,s={})=>{if(me(e)){var{errMsg:c,errno:u,relatedEvent:l}=s,p={reporttype:"api",name:e,req:s.noFilterReq?{ext_data:Q(t)}:ce(e,t),resp:s.noFilterRes?{ext_data:Q(r)}:ce(e,r,!0),uid:String(o),result:n?1:0,cost_time:a,isAsync:i,extraInfo:s,jsapi_errmsg:c,jsapi_errno:u,...l?{in_event:String(l)}:{}};delete s.noFilterReq,delete s.noFilterRes,xe.add(p)}},Te=e=>{l.set("start_track_user_action",e,!0)},Re=()=>{l.set("start_track_user_action",!1)},Me=e=>{l.set("current_event_api_list",e,!0)},Le=()=>{l.set("current_event_api_list",null)},Oe=null,De=null,Be=e=>{Oe=e},je=()=>Oe,Ne=e=>{if(Fe()!==e)return!1;Oe=null},Fe=()=>l.get("start_track_user_action"),We=()=>l.get("current_event_api_list"),Ue=(e,t)=>{var r=We();return!(!r||!me(e))&&(r.push(String(t)),!0)},$e=e=>{if(De)return!1;De=e},qe=()=>De,Ve=e=>{if(e!==De)return!1;De=null},Ge=e=>{Se=e},He=()=>Se,Ke={},ze=(e,t)=>{if(!t)return!1;t.startTime=Date.now(),Ke[e]=t},Je=e=>Ke[e],Xe=()=>{var e,t=V();if(e=Ke[t]){var{src:r,startTime:n}=e,{scene:o,scene_note:a,instanceId:i}=He()||{},s=[i,o,a,U(r),Date.now(),Date.now()-n,x()].map(encodeURIComponent).join(",");p.reportKeyValue({key:"detachFromNestWebviewPage",value:s})}},Qe=()=>{var e,t=V();(e=Ke[t])&&(e.startTime=Date.now())};var Ye=e=>we=null!=e?e:50,Ze=()=>we,et=()=>Ce,tt=e=>Ce=null!=e?e:25,rt=e=>{if(e&&pe(e.type)){if(Fe())return null;var t,r;try{var{currentTarget:{__extra:n},target:{__extra:o}}=e;r=o,(t=n)&&(delete e.currentTarget.__extra,delete e.target.__extra)}catch(e){}var a=[],i=1e4*Date.now()+Math.round(9999*Math.random());return Te(i),Me(a),Be({type:e.type,callErr:null,currentTargetTrace:t,targetTrace:r,apiCalls:a}),i}},nt=e=>{e===Fe()&&setTimeout((()=>{var t=je()||{};Ae(t.type,t.callErr,t.currentTargetTrace,t.targetTrace,t.apiCalls,e),Ne(e),Re(),Le()}),we)},ot=0,at=0,it={},st=[1005,1006,1042,1053,1106,1179,1027,1153];J.onReady((()=>{ot=J.appLaunchInfo.scene,at=J.appLaunchInfo.sessionid||J.appLaunchInfo.sessionId,Object.assign(it,J.appLaunchInfo)}));var ct,ut,lt=null,pt=({api:e,result:t,res:r})=>{if(!1!==lt){null===lt&&(lt=st.includes(ot)),0===t&&r&&r.cancel&&(t=2);var n=[e,t,Date.now(),ot,encodeURIComponent(it.scene_note||it.sceneNote),at,k()].join(",");p.reportKeyValue({key:"WeAppInteractionApiCall",value:n})}},ft=e=>{ct=e},dt=()=>ct,ht=-1,gt=!1,vt=()=>{if(!gt)return!1;ut=Date.now()},yt=e=>{var t;if(!gt)return!1;ht=Date.now()-ut;var r=mt(),n=He().instanceId,o=["showLoading",String(r),x(),n,3,e].join(",");null!==(t=dt())&&void 0!==t&&t.reportLoading&&p.reportKeyValue({key:"WeAppInteractiveApiError",value:o})},mt=()=>{if(-1===ht)return!1;var e=ht;return ht=-1,e},_t=()=>{gt=!0},bt=()=>{xe.protect()};d=t})(),(()=>{var e={829:(e,t,r)=>{var n;e=r.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var a,i=2147483647,s=36,c=1,u=26,l=38,p=700,f=72,d=128,h="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=s-c,b=Math.floor,S=String.fromCharCode;function w(e){throw RangeError(m[e])}function C(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function x(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+C((e=e.replace(y,".")).split("."),t).join(".")}function k(e){for(var t,r,n=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function I(e){return C(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,r){var n=0;for(e=r?b(e/p):e>>1,e+=b(e/t);e>_*u>>1;n+=s)e=b(e/_);return b(n+(_+1)*e/(e+l))}function E(e){var t,r,n,o,a,l,p,g,v,y,m,_=[],S=e.length,C=0,x=d,k=f;for((r=e.lastIndexOf(h))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&w("not-basic"),_.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<S;){for(a=C,l=1,p=s;o>=S&&w("invalid-input"),((g=(m=e.charCodeAt(o++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||g>b((i-C)/l))&&w("overflow"),C+=g*l,!(g<(v=p<=k?c:p>=k+u?u:p-k));p+=s)l>b(i/(y=s-v))&&w("overflow"),l*=y;k=A(C-a,t=_.length+1,0==a),b(C/t)>i-x&&w("overflow"),x+=b(C/t),C%=t,_.splice(C++,0,x)}return I(_)}function T(e){var t,r,n,o,a,l,p,g,v,y,m,_,C,x,I,E=[];for(_=(e=k(e)).length,t=d,r=0,a=f,l=0;l<_;++l)(m=e[l])<128&&E.push(S(m));for(n=o=E.length,o&&E.push(h);n<_;){for(p=i,l=0;l<_;++l)(m=e[l])>=t&&m<p&&(p=m);for(p-t>b((i-r)/(C=n+1))&&w("overflow"),r+=(p-t)*C,t=p,l=0;l<_;++l)if((m=e[l])<t&&++r>i&&w("overflow"),m==t){for(g=r,v=s;!(g<(y=v<=a?c:v>=a+u?u:v-a));v+=s)I=g-y,x=s-y,E.push(S(P(y+I%x,0))),g=b(I/x);E.push(S(P(g,0))),a=A(r,C,n==o),r=0,++n}++r,++t}return E.join("")}a={version:"1.3.2",ucs2:{decode:k,encode:I},decode:E,encode:T,toASCII:function(e){return x(e,(function(e){return v.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return x(e,(function(e){return g.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}(globalThis)},388:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(r);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,p,f,d,h=e[u].replace(i,"%20"),g=h.indexOf(n);g>=0?(l=h.substr(0,g),p=h.substr(g+1)):(l=h,p=""),f=decodeURIComponent(l),d=decodeURIComponent(p),t(a,f)?Array.isArray(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a}},828:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},896:(e,t,r)=>{"use strict";t.decode=t.parse=r(388),t.encode=t.stringify=r(828)},371:(e,t,r)=>{"use strict";var n=r(829),o=r(244);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.qg=_;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),p=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(896);function _(e,t,r){if(e&&o.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var _=e=u.join(s);if(_=_.trim(),!r&&1===e.split("#").length){var b=c.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=i.exec(_);if(S){var w=(S=S[0]).toLowerCase();this.protocol=w,_=_.substr(S.length)}if(r||S||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===_.substr(0,2);!C||S&&v[S]||(_=_.substr(2),this.slashes=!0)}if(!v[S]&&(C||S&&!y[S])){for(var x,k,I=-1,P=0;P<f.length;P++){-1!==(A=_.indexOf(f[P]))&&(-1===I||A<I)&&(I=A)}-1!==(k=-1===I?_.lastIndexOf("@"):_.lastIndexOf("@",I))&&(x=_.slice(0,k),_=_.slice(k+1),this.auth=decodeURIComponent(x)),I=-1;for(P=0;P<p.length;P++){var A;-1!==(A=_.indexOf(p[P]))&&(-1===I||A<I)&&(I=A)}-1===I&&(I=_.length),this.host=_.slice(0,I),_=_.slice(I),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var T=this.hostname.split(/\./),R=(P=0,T.length);P<R;P++){var M=T[P];if(M&&!M.match(d)){for(var L="",O=0,D=M.length;O<D;O++)M.charCodeAt(O)>127?L+="x":L+=M[O];if(!L.match(d)){var B=T.slice(0,P),j=T.slice(P+1),N=M.match(h);N&&(B.push(N[1]),j.unshift(N[2])),j.length&&(_="/"+j.join(".")+_),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+F,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[w])for(P=0,R=l.length;P<R;P++){var U=l[P];if(-1!==_.indexOf(U)){var $=encodeURIComponent(U);$===U&&($=escape(U)),_=_.split(U).join($)}}var q=_.indexOf("#");-1!==q&&(this.hash=_.substr(q),_=_.slice(0,q));var V=_.indexOf("?");if(-1!==V?(this.search=_.substr(V),this.query=_.substr(V+1),t&&(this.query=m.parse(this.query)),_=_.slice(0,V)):t&&(this.search="",this.query={}),_&&(this.pathname=_),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=m.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(o.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(r[l]=e[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var p=Object.keys(e),f=0;f<p.length;f++){var d=p[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",m=r.search||"";r.path=g+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=b||_||r.host&&e.pathname,w=S,C=r.pathname&&r.pathname.split("/")||[],x=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),S=S&&(""===h[0]||""===C[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=h;else if(h.length)C||(C=[]),C.pop(),C=C.concat(h),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(x)r.hostname=r.host=C.shift(),(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift());return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var k=C.slice(-1)[0],I=(r.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,P=0,A=C.length;A>=0;A--)"."===(k=C[A])?C.splice(A,1):".."===k?(C.splice(A,1),P++):P&&(C.splice(A,1),P--);if(!S&&!w)for(;P--;P)C.unshift("..");!S||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),I&&"/"!==C.join("/").substr(-1)&&C.push("");var E,T=""===C[0]||C[0]&&"/"===C[0].charAt(0);x&&(r.hostname=r.host=T?"":C.length?C.shift():"",(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift()));return(S=S||r.host&&C.length)&&!T&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},244:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},827:e=>{!function(){var t={356:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},952:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},964:function(e,t,r){var n=r(356);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},378:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},914:function(e){function t(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=e.apply(r,n);function s(e){t(i,o,a,s,c,"next",e)}function c(e){t(i,o,a,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},513:function(e,t,r){var n=r(459),o=r(817),a=r(669);e.exports=function(e,t,r){return t=n(t),a(e,o()?Reflect.construct(t,r||[],n(e).constructor):t.apply(e,r))},e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},510:function(e,t,r){var n=r(645);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}e.exports=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},490:function(e,t,r){var n=r(645);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e,t,r){var n=r(917);function o(){return e.exports=o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=n(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},459:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},760:function(e,t,r){var n=r(103);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},817:function(e){function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(r){}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},702:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},779:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},397:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},280:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},772:function(e,t,r){var n=r(490);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},669:function(e,t,r){var n=r(89).default,o=r(378);e.exports=function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},298:function(e,t,r){var n=r(89).default;function o(){"use strict";e.exports=o=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},a=Object.prototype,i=a.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),i=new L(n||[]);return s(a,"_invoke",{value:E(e,r,i)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=d;var g="suspendedStart",v="suspendedYield",y="executing",m="completed",_={};function b(){}function S(){}function w(){}var C={};f(C,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(O([])));k&&k!==a&&i.call(k,u)&&(C=k);var I=w.prototype=b.prototype=Object.create(C);function P(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,s,c){var u=h(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;s(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function E(e,r,n){var o=g;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===_)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===g)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=h(e,r,n);if("normal"===u.type){if(o=n.done?m:v,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return S.prototype=w,s(I,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:S,configurable:!0}),S.displayName=f(w,p,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,p,"GeneratorFunction")),e.prototype=Object.create(I),e},r.awrap=function(e){return{__await:e}},P(A.prototype),f(A.prototype,l,(function(){return this})),r.AsyncIterator=A,r.async=function(e,t,n,o,a){void 0===a&&(a=Promise);var i=new A(d(e,t,n,o),a);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(I),f(I,p,"Generator"),f(I,u,(function(){return this})),f(I,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),_}},r}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},103:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},546:function(e,t,r){var n=r(952),o=r(779),a=r(689),i=r(397);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},917:function(e,t,r){var n=r(459);e.exports=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},194:function(e,t,r){var n=r(430),o=r(459);e.exports=function(e,t,r,a){var i=n(o(1&a?e.prototype:e),t,r);return 2&a?function(e){return i.apply(r,e)}:i},e.exports.__esModule=!0,e.exports.default=e.exports},641:function(e,t,r){var n=r(964),o=r(702),a=r(689),i=r(280);e.exports=function(e){return n(e)||o(e)||a(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},568:function(e,t,r){var n=r(89).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},645:function(e,t,r){var n=r(89).default,o=r(568);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},89:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},689:function(e,t,r){var n=r(356);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},11:function(e,t,r){var n=r(89).default;e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===n(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a=r(2),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function c(e){return void 0===e}function u(e){return null!==e&&"object"===o(e)}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function p(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!=e)if("object"!==o(e)&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:l,isUndefined:c,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:p,isStream:function(e){return u(e)&&p(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function e(){var t={};function r(r,n){l(t[n])&&l(r)?t[n]=e(t[n],r):l(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,n){e[n]=r&&"function"==typeof t?a(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,r){"use strict";var n=r(0),o=r(13),a=r(14),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e){if(n.isString(e))try{return(0,JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&"json"===this.responseType;if(i||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(i)})),e.exports=c},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],a=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(a,u),n.forEach(i,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(void 0,t[o])})),n.forEach(s,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var l=o.concat(a).concat(i).concat(s),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(p,u),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){var n=r(7);e.exports={axiosCreate:n.create}},function(e,t,r){"use strict";var n=r(0),o=r(2),a=r(8),i=r(4);function s(e){var t=new a(e),r=o(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var c=s(r(1));c.Axios=a,c.create=function(e){return s(i(c.defaults,e))},c.Cancel=r(5),c.CancelToken=r(17),c.isCancel=r(3),c.all=function(e){return Promise.all(e)},c.spread=r(18),c.isAxiosError=r(19),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(0),o=r(9),a=r(10),i=r(11),s=r(4),c=r(15),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r,n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!o){var l=[i,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),r=Promise.resolve(e);l.length;)r=r.then(l.shift(),l.shift());return r}for(var p=e;n.length;){var f=n.shift(),d=n.shift();try{p=f(p)}catch(e){d(e);break}}try{r=i(p)}catch(e){return Promise.reject(e)}for(;a.length;)r=r.then(a.shift(),a.shift());return r},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=l},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(12),a=r(3),i=r(1);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0),o=r(1);e.exports=function(e,t,r){var a=this||o;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a=r(16),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return o(r)===e||"a"+(t<1?"n ":" ")+e}}));var s={},c=a.version.split(".");function u(e,t){for(var r=t?t.split("."):c,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}i.transitional=function(e,t,r){var n=t&&u(t);function o(e,t){return"[Axios v"+a.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,a,i){if(!1===e)throw new Error(o(a," has been removed in "+t));return n&&!s[a]&&(s[a]=!0,console.warn(o(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,i)}},e.exports={isOlderVersion:u,assertOptions:function(e,t,r){if("object"!==o(e))throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var i=n[a],s=t[i];if(s){var c=e[i],u=void 0===c||s(c,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:i}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,r){"use strict";var n=r(5);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e.exports=function(e){return"object"===o(e)&&!0===e.isAxiosError}}])}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){"use strict";n.r(o),n.d(o,{getIdaasAPI:function(){return Kr},getIdaasService:function(){return zr},getMiniAppAPI:function(){return Jr},setDefaultSDK:function(){return Y}});var e={};n.r(e),n.d(e,{forEach:function(){return R},isArray:function(){return T},isDate:function(){return P},isJSONstr:function(){return E},isObject:function(){return A},isStandardBrowserEnv:function(){return M},isURLSearchParams:function(){return I},kindOfTest:function(){return k}});var t,r=n(772),i=n.n(r),s=n(298),c=n.n(s),u=n(914),l=n.n(u),p=n(808),f=n.n(p),d=n(510),g=n.n(d),v=n(513),m=n.n(v),_=n(760),b=n.n(_),S=n(89),w=n.n(S),C=Object.prototype.toString,x=(t=Object.create(null),function(e){var r=C.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}),k=function(e){return e=e.toLowerCase(),function(t){return x(t)===e}},I=k("URLSearchParams"),P=k("Date");function A(e){return null!==e&&"object"===w()(e)}var E=function(e){try{return"string"==typeof e&&e.length&&(e=JSON.parse(e))&&A(e)}catch(e){return!1}},T=k("Array");function R(e,t){if(null!=e)if("object"!==w()(e)&&(e=[e]),T(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function M(){var e;if("undefined"!=typeof navigator&&("ReactNative"===(e=navigator.product)||"NativeScript"===e||"NS"===e))return!1;if(window){if(window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment)return!1;var t=window.navigator.userAgent.toLowerCase();if(/MicroMessenger/i.test(t))return!1}return!0}function L(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function O(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(I(t))n=t.toString();else{var o=[];R(t,(function(e,t){null!=e&&(T(e)?t+="[]":e=[e],R(e,(function(e){P(e)?e=e.toISOString():A(e)&&(e=JSON.stringify(e)),o.push(L(t)+"="+L(e))})))})),n=o.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}function D(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function B(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&!D(t)?B(e,t):t}var N=n(11),F=function(){return g()((function e(t){f()(this,e),this.requestEngine=void 0,this.requestEngine=(null==t?void 0:t.requestEngine)||(0,N.axiosCreate)({withCredentials:!0})}),[{key:"request",value:(e=l()(c()().mark((function e(t){var r,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestEngine.request(t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}();function W(){return{getRequest:U,transformResponse:$,transformConfig:q}}function U(){return y.request}function $(e){var t=e.response,r=e.config,n=t.header,o=+t.statusCode,a=t.errMsg;return{data:t.data,status:o,statusText:a,headers:n,config:r}}function q(e){return e}function V(e,t){return new Promise((function(r,n){var o,a=t?t():W(),i=a.getRequest,s=a.transformResponse,c=a.transformConfig,u=i(),l=e.data,p=e.headers,f={method:e.method?e.method.toUpperCase():"GET",url:O(j(e.baseURL,e.url),e.params,e.paramsSerializer),success:function(t){var o=s({response:t,config:e});!function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Error("Request failed with status code "+r.status)):e(r)}(r,n,o)},fail:function(e){n(e)},complete:function(){o=void 0}};R(p,(function(e,t){var r=t.toLowerCase();(void 0===l&&"content-type"===r||"referer"===r)&&delete p[t]})),f.header=p,e.responseType&&(["text","arraybuffer"].includes(e.responseType)||console.warn("RequestAdapter responseType is expected to be text or arraybuffer"),f.responseType=e.responseType),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(n(e),o.abort&&o.abort(),o=void 0)})),E(l)&&(l=JSON.parse(l)),void 0!==l&&(f.data=l),o=u(c(f))}))}var G,H=i()({buildURL:O,buildFullPath:j,combineURLs:B,isAbsoluteURL:D},e),K=n(641),z=n.n(K),J=new WeakMap;function X(){return G||(void 0!==h?h:void 0)}var Q=function(e){if(!e)return X();var t=J.get(e);return t&&t||X()},Y=function(e){G=e},Z=n(546),ee=n.n(Z),te=H.isObject,re=H.isArray,ne=function(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()},oe=function(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))},ae=function(e,t){var r="camel"===e?oe:ne;if(te(t)){var n={};return Object.keys(t).forEach((function(o){var a=t[o];re(a)?n[r(o)]=function(e,t,r){for(var n=-1,o=null===e?0:e.length,a=new Array(o);++n<o;)a[n]=t(r,e[n]);return a}(a,ae,e):te(a)?n[r(o)]=ae(e,a):n[r(o)]=a})),n}return t},ie=function(e){return ae("underscore",e)},se=H.combineURLs,ce=(H.buildFullPath,function(e,t){var r=arguments.length>3?arguments[3]:void 0;return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(t=ie(t)),H.buildURL(e,t,r)});function ue(e,t){var r=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null===r?null:decodeURIComponent(r[1])||0}function le(e){return decodeURIComponent(e)}function pe(e){var t=e.split("?")[1];return t?t.split("&").reduce((function(e,t){var r=t.split("="),n=ee()(r,2),o=n[0],a=n[1];return e[le(o)]=le(a),e}),{}):{}}function fe(e){return e.split("?")[0].split("/")}var de="/idaas-flow",he={AUTHORIZE:"".concat(de,"/authorize"),TOKEN:"".concat(de,"/oauth/token"),CO:"".concat(de,"/co/authenticate"),API:"".concat(de,"/api"),PASSWORDLESS_START:"".concat(de,"/passwordless/start"),PASSWORDLESS_VERIFY:"".concat(de,"/passwordless/verify"),SIGN_UP_START:"".concat(de,"/signup/start"),SIGN_UP:"".concat(de,"/signup"),USER_INFO:"".concat(de,"/userinfo"),USERNAME_PASSWORD_LOGIN:"".concat(de,"/usernamepassword/login"),UNI_LOGIN:"".concat(de,"/login"),WELL_KNOWN_JSON:"".concat(de,"/jwks.json"),INTERMEDIATE_REDIRECT_URI:"".concat(de,"/intermediate")},ge={CODE:"code",TOKEN:"token"},ve={QUERY:"query",FRAGMENT:"fragment",FROM_POST:"form_post",WEB_MESSAGE:"web_message"},ye={WXMP:"wxmp",WXWAP:"wxwap",WXAPP:"wxapp",USERNAMEPASSWORD:"username-password-authentication",SMS:"sms",APPLEAPP:"apple-app",ONECLICK:"oneclick"},me={PASSWORDLESS:"passwordless",CODE:"authorization_code",REFRESH_TOKEN:"refresh_token",CLIENT_CREDENTIAL:"client_credential"},_e={CODE:"code",LINK:"link"},be={},Se={USERNAMEPASSWORD:"username-password-authentication",SMS:"sms"},we=!1;function Ce(e){we=e}var xe=function(){var e=Date.now()%1e3;return"".concat((new Date).toLocaleTimeString()," ").concat(e)};var ke={get i(){return we?console.log.bind(console,"["+xe()+"]","[idaas info]"):function(){return null}},get w(){return console.warn.bind(console,"["+xe()+"]","[warn]")},get e(){return console.error.bind(console,"["+xe()+"]","[error]")},get assert(){return console.error.bind(console,"["+xe()+"]","[ASSERT]")}};function Ie(){return{getRequest:Pe,transformResponse:Ae,transformConfig:Ee}}function Pe(){return Q().sendSaaADataPipe}function Ae(e){var t,r=e.response,n=e.config;return t=H.isJSONstr(r.data)?JSON.parse(r.data):H.isObject(r.data)?r.data:{},{data:i()({baseResp:{errcode:r.logicRet,errmsg:r.logicErrmsg||"业务请求失败"}},t),status:200,statusText:"tunnel succcess",headers:"",config:n}}function Ee(e){var t,r,n,o,a,s=(t="object"===w()(e.data)?i()(i()({},pe(e.url)),e.data):i()({},pe(e.url))).session_key||"",c=t.api_name||(r=e.url,n=fe(r),o=fe(r).findIndex((function(e){return e===de.replace("/","")})),a=n.slice(o+1),["idaas"].concat(z()(a)).join("_"));return delete t.session_key,delete t.api_name,ke.i("transformedConfig",{apiName:c,reqData:t,idaasSessionKey:s}),{apiName:c,reqData:JSON.stringify(t),idaasSessionKey:s,success:function(t){ke.i("datapipe request success",i()({},t)),e.success(t)},fail:function(t){ke.i("datapipe request fail",i()({},t)),t.errMsg=t.errMsg.replace("sendSaaADataPipe:fail ",""),t.errCode=t.err_code||-1,e.fail(t)}}}var Te=function(e){function t(){f()(this,t);var e,r=(e=Ie,function(t){return V(t,e)}),n=(0,N.axiosCreate)({adapter:r});return m()(this,t,[{requestEngine:n}])}return b()(t,e),g()(t)}(F),Re=H.kindOfTest("string"),Me=H.kindOfTest("number"),Le=-7e5;function Oe(e){return e&&e instanceof Error&&Re(e.errMsg)&&Me(e.errCode)}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"idaas";if(Oe(e))return e;var r={},n=void 0,o="".concat(t," fail: ");if(e){if(e instanceof Error)(n=e).errCode=Le,n.errMsg="".concat(o).concat(r.errCode,".").concat(e.message);else if(Re(e))r.errCode=Le,r.errMsg="".concat(o).concat(r.errCode,".").concat(e);else if(e.errmsg||e.errMsg){var a=e.errmsg||e.errMsg||"",i=e.errcode||e.errCode||Le;r.errCode=i,r.errMsg="".concat(o).concat(be[i]||i,".").concat(a)}}else r.errCode=Le,r.errMsg="".concat(o).concat(r.errCode,".");return n||((n=new Error(r.errMsg)).errMsg=r.errMsg,n.errCode=r.errCode,n)}var Be=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},je=function(e){return"function"==typeof e},Ne=function(e){if("object"!==w()(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function Fe(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}function We(e,t){return i()(i()({},e),t)}function Ue(e){var t=e;return{pick:function(e){return t=Fe(t,e),this},merge:function(e){return t=We(t,e),this},omit:function(e){return t=function(e,t){return Object.keys(e).filter((function(e){return!t.includes(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}(t,e),this},done:function(){return t}}}function $e(e,t){return Object.keys(e).reduce((function(t,r){return t.push(e[r]),t}),[]).includes(t)}function qe(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return function(e){switch(Be(e)){case"object":return i()({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if(Ne(e))return i()({},e);switch(Be(e)){case"object":default:return e;case"array":return e.slice()}}var Ve=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e,null]}))};function Ge(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return e()}catch(e){return Oe(e)?(e.errMsg+=r,e):De((e?e.toString():"")+r,t)}}((function(){return e.apply(e,o)}),t,r)}}function He(e,t,r){t.complete&&je(t.complete)&&Ge(t.complete,"at api ".concat(e," complete callback function;"))(r)}function Ke(e,t,r){!function(e,t,r){t.success&&je(t.success)&&Ge(t.success,"at api ".concat(e," success callback function;"))(r)}(e,t,r),He(e,t,r)}function ze(e,t,r){!function(e,t,r){t.fail&&je(t.fail)&&Ge(t.fail,"at api ".concat(e," fail callback function;"))(r)}(e,t,r),He(e,t,r)}var Je={errCode:0,errMsg:"ok"};function Xe(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&e.errCode&&null!=e&&e.errMsg)return{errCode:e.errCode,errMsg:e.errMsg};if(null!=o&&o.errCode&&null!=o&&o.errMsg)return{errCode:o.errCode,errMsg:o.errMsg};if(e)return function(){var e=De.apply(void 0,arguments);return{errCode:e.errCode,errMsg:e.errMsg}}(e,n,be,!1);var a=i()(i()({},o),{},{errCode:(null==o||null===(t=o.baseResp)||void 0===t?void 0:t.errcode)||Je.errCode,errMsg:(null==o||null===(r=o.baseResp)||void 0===r?void 0:r.errmsg)||Je.errMsg});return a.baseResp&&delete a.baseResp,a}function Qe(e,t,r){return Ye.apply(this,arguments)}function Ye(){return(Ye=l()(c()().mark((function e(t,r,n){var o,a,i,s;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(r(t));case 2:return o=e.sent,a=ee()(o,2),i=a[0],s=a[1],e.abrupt("return",Xe(i,n,s));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){Q().sendSaaAReportData({data:e.apiName,data2:e.extraData,uintData:e.success?0:1,action:12})}var et="weixinAppLogin",tt="wx."+et;function rt(e){return{apiName:et,fn:nt(e)}}function nt(e){return function(r){var n=qe(r);Ze({apiName:"weixinAppLogin",success:!0,extraData:""}),function(r){wr(e).then((function(n){n.invoke?new Promise((function(r,n){var o=e.wxaIdaas,a=Sr({resolve:r,reject:n,FULL_API_NAME:tt}),i=a.wrapReolve,s=a.wrapReject;o.requestApiWrap(void 0,void 0,t,tt).then((function(e){o.getSocialCodeAndAuthorize({getCodeRet:e,resolve:i,reject:s})}))})).then((function(e){Ke(et,r,e)})).catch((function(e){ze(et,r,e)})):ze(et,r,Xe(n.msg,et))}))}(n)};function t(){return new Promise((function(e,t){try{Q().miniAppLogin({success:function(r){!function(r){r.code?e({code:r.code,connection:ye.WXAPP}):t(De(r.errMsg||"get code error",tt))}(r)},fail:function(e){var r=e.errMsg.replace("sendOpenReq:fail","");t(De(r,tt))}})}catch(e){t(De(e,tt))}}))}}var ot=a,at=ot,it=function(e){return null===(e=ot.host)||void 0===e?void 0:e.env}(),st=function(){return"SAAASDK"===it}(),ct="ios"===ot.platform,ut=(ot.platform,"devtools"===ot.platform);function lt(){return Q().getIdentityServiceConfig()}var pt="getMiniProgramCode",ft="wx."+pt;function dt(e){return{apiName:pt,fn:gt(e)}}var ht=void 0;function gt(e){return function(t){var r=qe(t);Ze({apiName:"getMiniProgramCode",success:!0,extraData:""}),function(t){wr(e).then((function(r){r.invoke?new Promise((function(t,r){var n=e.wxaIdaas,o=e.innerService,a=Sr({resolve:t,reject:r,FULL_API_NAME:ft}),i=a.wrapReolve,s=a.wrapReject,c=function(e){var t={apiName:"idaas_get_miniprogram_code",sessionKey:e};n.requestApiWrap({data:t},n.authClient,n.authClient.request,ft).then((function(e){0===e.errCode?i(e):s(e)}))},u=function(e){return new Promise((function(t){var r=function(){return Q().navigateTo({url:e,events:{__donutLogin__:function(e){ke.i("emit __donutLogin__",e),t({errCode:e.success?0:1})}},success:function(e){ke.i("navigateTo success",e)},fail:function(e){ke.i("navigateTo fail",e),t({errCode:-1})}})};if(ut)var n=setTimeout((function(){r(),clearTimeout(n)}),500);else r()}))};o.getSysAccessTokenInfoAsync().then((function(e){ke.i("getMiniProgramCode",e),e.sysAccessToken?c(e.sysAccessToken):lt().then((function(e){if(e.miniprogramLoginPath){if(-1!==e.miniprogramLoginPath.indexOf("__default__"))return s(Xe("工具暂不支持 __default__ 登录页",ft)),void console.error("工具暂不支持 __default__ 登录页，配置详情请查看 https://dev.weixin.qq.com/docs/framework/guideline/devtools/auth.html?utm_source=devtools");ht||(ht=u(e.miniprogramLoginPath)),ht.then((function(e){0===e.errCode?o.getSysAccessTokenInfoAsync().then((function(e){return c(e.sysAccessToken)})):s(Xe("系统登录页登录失败",ft))})).finally((function(){ht=void 0}))}else s(Xe("无系统登录态并且缺失系统登录页",ft))}))}))})).then((function(e){Ke(pt,t,e)})).catch((function(e){ze(pt,t,e)})):ze(pt,t,Xe(r.msg,pt))}))}(r)}}var vt="phoneSmsLogin",yt="wx."+vt;function mt(e){return{apiName:vt,fn:_t(e)}}function _t(e){return function(t){var r=qe(t);Ze({apiName:"phoneSmsLogin",success:!0,extraData:""}),r.connection=ye.SMS,function(t){wr(e).then((function(r){r.invoke?function(t){return new Promise((function(r,n){var o=e.wxaIdaas,a=Sr({resolve:r,reject:n,FULL_API_NAME:yt}),i=a.wrapReolve,s=a.wrapReject;o.requestApiWrap(t,o,o.authorize,yt).then((function(e){0===e.errCode?i(e):s(e)}))}))}(t).then((function(e){Ke(vt,t,e)})).catch((function(e){ze(vt,t,e)})):ze(vt,t,Xe(r.msg,vt))}))}(r)}}var bt="getIdentityCode",St="wx."+bt;function wt(e){return{apiName:bt,fn:Ct(e)}}function Ct(e){return function(t){!function(t){wr(e).then((function(r){r.invoke?new Promise((function(t,r){var n=e.wxaIdaas,o=e.innerService,a=Sr({resolve:t,reject:r,FULL_API_NAME:St}),i=a.wrapReolve,s=a.wrapReject;o.getSysAccessTokenInfoAsync().then((function(e){if(ke.i("@@ GetIdentityCode",e),!e.sysAccessToken)return s(Xe("系统登录态已失效",St));var t={apiName:"idaas_get_identity_code",sessionKey:e.sysAccessToken};n.requestApiWrap({data:t},n.authClient,n.authClient.request,St).then((function(e){0===e.errCode?i(e):s(e)}))}))})).then((function(e){Ke(bt,t,e)})).catch((function(e){ze(bt,t,e)})):ze(bt,t,Xe(r.msg,bt))}))}(qe(t))}}var xt="checkIdentitySession",kt="wx."+xt;function It(e){return{apiName:xt,fn:Pt(e)}}function Pt(e){return function(t){!function(t){wr(e).then((function(r){r.invoke?new Promise((function(t,r){var n=e.innerService,o=Sr({resolve:t,reject:r,FULL_API_NAME:kt}),a=o.wrapReolve,i=o.wrapReject;n.getSysAccessTokenInfoAsync().then((function(e){return ke.i("@@ CheckIdentitySession",e),e.sysAccessToken?a({errCode:0}):i(Xe("系统登录态已失效",kt))}))})).then((function(e){Ke(xt,t,e)})).catch((function(e){ze(xt,t,e)})):ze(xt,t,Xe(r.msg,xt))}))}(qe(t))}}var At="logout",Et="wx."+At;function Tt(e){return{apiName:At,fn:Rt(e)}}function Rt(e){return function(t){!function(t){new Promise((function(t,r){var n=e.tokenManager,o=Sr({resolve:t,reject:r,FULL_API_NAME:Et}).wrapReolve;n.clearTokens(),o({errCode:0})})).then((function(e){Ke(At,t,e)})).catch((function(e){ze(At,t,e)}))}(qe(t))}}var Mt="appleLogin",Lt="wx."+Mt;function Ot(e){return{apiName:Mt,fn:Dt(e)}}function Dt(e){return function(r){var n=qe(r);Ze({apiName:"appleLogin",success:!0,extraData:""}),function(r){wr(e).then((function(n){n.invoke?new Promise((function(r,n){var o=e.wxaIdaas,a=Sr({resolve:r,reject:n,FULL_API_NAME:Lt}),i=a.wrapReolve,s=a.wrapReject;return st?ct?void o.requestApiWrap(void 0,void 0,t,Lt).then((function(e){o.getSocialCodeAndAuthorize({getCodeRet:e,resolve:i,reject:s})})):s(Xe("不支持在非 iOS 环境内使用该接口",Lt)):s(Xe("不支持在非多端真机环境中使用该接口",Lt))})).then((function(e){Ke(Mt,r,e)})).catch((function(e){ze(Mt,r,e)})):ze(Mt,r,Xe(n.msg,Mt))}))}(n)};function t(){return new Promise((function(e,t){Q().invokeMethod("appleLogin",{complete:function(r){ke.i("getAppleLoginParams getCode",r),r.code?e({code:r.code,connection:ye.APPLEAPP}):(r.errMsg=r.errMsg.replace(/appleLogin:fail,?/g,""),t(De(r.errMsg||"get code error",Lt)))}})}))}}var Bt="weixinMiniProgramLogin",jt="wx."+Bt;function Nt(e){return{apiName:Bt,fn:Ft(e)}}function Ft(e){return function(r){var n=qe(r);Ze({apiName:"weixinMiniProgramLogin",success:!0,extraData:""}),function(r){wr(e).then((function(n){n.invoke?function(r){return new Promise((function(n,o){var a=e.wxaIdaas,i=Sr({resolve:n,reject:o,FULL_API_NAME:jt}),s=i.wrapReolve,c=i.wrapReject;a.requestApiWrap(r,void 0,t,jt).then((function(e){a.getSocialCodeAndAuthorize({getCodeRet:e,resolve:s,reject:c})}))}))}(r).then((function(e){Ke(Bt,r,e)})).catch((function(e){ze(Bt,r,e)})):ze(Bt,r,Xe(n.msg,Bt))}))}(n)};function t(e){return new Promise((function(t,r){(ut?$t:Ut)(e).then((function(e){var r=ut?"MULTIMODULEID":at.accountInfo.appId;t({code:e.code,connection:ye.WXMP,multiModuleId:r})})).catch((function(e){return r(De(e,jt))}))}))}}var Wt=1;function Ut(e){return new Promise((function(t,r){Wt++,lt().then((function(n){var o,a=null!==(o=n.authorizeMiniprogramType)&&void 0!==o?o:0,i="/donutAuthorize__/pages/miniProgramLoginAuthorize/miniProgramLoginAuthorize",s=n.userName;if(n.userName||r("缺少 identityServiceConfig 配置"),ke.i("jumpToMiniprogramAndAuthorize params",{userName:s,path:i,callbackIdForOpenWechatCount:Wt,miniprogramType:a}),e.redirectPath){var c=e.redirectPath;i+="?redirectPath=".concat(c.startsWith("/")?"":"/").concat(e.redirectPath)}Q().launchMiniProgram({userName:s,path:i,callbackIdForOpenWechat:Wt,extData:"",miniprogramType:a,success:function(e){if(ke.i("jumpToMiniprogramAndAuthorize",e),"string"==typeof e.extMsg){var n,o={};try{o=JSON.parse(e.extMsg)}catch(e){return r("获取小程序登录凭证失败")}return(n=o.data)?t({code:n}):r("获取小程序登录凭证失败")}return r("获取小程序登录凭证失败")},fail:function(e){ke.i("jumpToMiniprogramAndAuthorize fail ",JSON.stringify(e)),r(e.errMsg||"跳转小程序返回失败")}})}))}))}function $t(){return new Promise((function(e,t){Q().miniprogramLogin({complete:function(r){r.code?e({code:r.code}):t(r.errMsg)}})}))}var qt="phoneOneClickLogin",Vt="wx."+qt;function Gt(e){return{apiName:qt,fn:Ht(e)}}function Ht(e){return function(t){!function(t){var r,n=null!==(r=zt.getPhoneOncClickLoginContext())&&void 0!==r?r:{},o=n.msgId,a=n.tokenList;wr(e).then((function(r){r.invoke?o&&a?(t.msgId=o,t.tokenList=JSON.stringify(a),t.connection=ye.ONECLICK,function(t){return new Promise((function(r,n){var o=e.wxaIdaas,a=Sr({resolve:r,reject:n,FULL_API_NAME:Vt}),s=a.wrapReolve,c=a.wrapReject,u=i()(i()({},t),{},{extends:{tokenList:JSON.parse(t.tokenList)}});o.requestApiWrap(u,o,o.authorize,Vt).then((function(e){0===e.errCode?s(e):c(e)}))}))}(t).then((function(e){Ke(qt,t,e)})).catch((function(e){ze(qt,t,e)}))):ze(qt,t,Xe("缺少前置调用 wx.getPhoneMask 的信息",qt)):ze(qt,t,Xe(r.msg,qt))}))}(qe(t))}}var Kt,zt=(Kt=void 0,{getPhoneOncClickLoginContext:function(){return Kt},setPhoneOncClickLoginContext:function(e){Kt=e},clearPhoneOncClickLoginContext:function(){Kt=void 0}}),Jt=[301,302];function Xt(e,t,r){Q().forceCellularNetwork({data:e,success:function(e){var n;Jt.includes(null!==(n=e.data.statusCode)&&void 0!==n?n:200)?Xt({url:e.data.location},t,r):t(e)},fail:function(t){r(i()({err:t},e))}})}function Qt(e){return new Promise((function(t,r){return Xt(e,t,r)}))}var Yt="getPhoneMask",Zt="wx."+Yt,er=console;function tr(e){return{apiName:Yt,fn:rr(e)}}function rr(e){return function(n){er.log("[idaas info] start getPhoneMask: ",(new Date).toISOString());var o=qe(n);Ze({apiName:"getPhoneMask",success:!0,extraData:""}),function(n){wr(e).then((function(e){e.invoke?new Promise(function(){var e=l()(c()().mark((function e(n,o){var a,i,s,u,l;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sr({resolve:n,reject:o,FULL_API_NAME:Zt}),i=a.wrapReolve,s=a.wrapReject,er.log("[idaas info] start getOperatorGWUrl: ",(new Date).toISOString()),e.next=4,t(s);case 4:if(u=e.sent,er.log("[idaas info] finish getOperatorGWUrl: ",(new Date).toISOString()),!u.errCode){e.next=8;break}return e.abrupt("return");case 8:l=function(e,t){zt.setPhoneOncClickLoginContext(t),i(e)},r(u,l,s);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).then((function(e){Ke(Yt,n,e)})).catch((function(e){ze(Yt,n,e)})):ze(Yt,n,Xe(e.msg,Yt))}))}(o)};function t(t){var r=e.wxaIdaas;return new Promise((function(e){r.requestApiWrap({data:{apiName:"idaas_get_operator_gw_url"}},r.authClient,r.authClient.request,Zt).then((function(r){0===r.errCode?e({msgId:r.msgId,urlList:r.urlList}):(e({errCode:r.errCode}),r.errMsg=r.errMsg+" at getOperatorGWUrl",t(De(r,Zt)))}))}))}function r(t,r,n){var o,a,s,c=0,u=function(e){c++,o=e,c===t.urlList.length&&(n(o,Zt),a=void 0)};a=t.urlList.map((function(r){return new Promise((function(n){var o=function(e,t){s=t,n(e)};(function(e){return er.log("[idaas info] start requestGWURL: ",(new Date).toISOString()),function(e){return ct?Qt({url:e}):new Promise((function(t,r){Q()._requestSkipCheckDomain({url:e,forceCellularNetwork:!0,success:t,fail:r})}))}(e.url).then((function(t){er.log("[idaas info] requestGWURL success: ",(new Date).toISOString()),ke.i("getTokenList success",t);var r=t.data,n=e.channel,o=JSON.stringify(r);return Ze({apiName:"".concat(Zt,"_requestGWURL"),success:!0,extraData:JSON.stringify({urlItem:e,res:t})}),{channel:n,data:o}})).catch((function(t){return er.log("[idaas info] requestGWURL failed!: ",(new Date).toISOString()),er.error("[idaas info] getTokenList fail with channel",e.channel,t),Ze({apiName:"".concat(Zt,"_requestGWURL"),success:!1,extraData:JSON.stringify({urlItem:e,error:t})}),t}))})(r).then((function(r){if(r.data){var n=[r];!function(t,r,n){var o=e.wxaIdaas,a=i()({apiName:"idaas_get_phone_mask"},t);o.requestApiWrap({data:a},o.authClient,o.authClient.request,Zt).then((function(e){0===e.errCode?r(e,t):n(e)}))}({msgId:t.msgId,tokenList:n},o,u)}else{var a,s,c,l={errCode:null!=r&&r.err?(null===(a=r.err)||void 0===a?void 0:a.errCode)||(null===(s=r.err)||void 0===s?void 0:s.err_code):(null==r?void 0:r.errCode)||(null==r?void 0:r.err_code),errMsg:null!=r&&r.err?null===(c=r.err)||void 0===c?void 0:c.errMsg:null==r?void 0:r.errMsg};u(De(l))}}))}))})),Promise.race(a).then((function(e){return r(e,s)}))}}var nr="miniapp.bindWeixin",or="wx."+nr;function ar(e){return{apiName:nr,fn:ir(e)}}function ir(e){return function(e){var r=qe(e);Ze({apiName:"miniapp.bindWeixin",success:!0,extraData:""}),function(e){t.apply(this,arguments)}(r)};function t(){return t=l()(c()().mark((function t(r){var n,o,a;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr(e,{checkLogin:!0});case 2:n=t.sent,o=n.invoke,a=n.msg,o?new Promise((function(t,r){var n,o=e.wxaIdaas,a=Sr({resolve:t,reject:r,FULL_API_NAME:or}),i=a.wrapReolve,s=a.wrapReject;Q().miniAppLogin({success:(n=l()(c()().mark((function t(r){var n,a,u;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.code){t.next=2;break}return t.abrupt("return",s(De("获取微信 code 失败",or)));case 2:return t.next=4,null===(n=e.innerService)||void 0===n?void 0:n.getSysAccessTokenInfoAsync();case 4:a=t.sent,u={apiName:"idaas_bind_wechat",sessionKey:null==a?void 0:a.sysAccessToken,socialCode:r.code},o.requestApiWrap({data:u},o.authClient,o.authClient.request,or).then((function(e){0===e.errCode?i(e):s(e)}));case 7:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),fail:function(e){var t=e.errMsg.replace("sendOpenReq:fail","");s(De(t,or))}})})).then((function(e){Ke(nr,r,e)})).catch((function(e){ze(nr,r,e)})):ze(nr,r,Xe(a,nr));case 6:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}}var sr="miniapp.bindApple",cr="wx."+sr;function ur(e){return{apiName:sr,fn:lr(e)}}function lr(e){return function(e){!function(e){t.apply(this,arguments)}(qe(e))};function t(){return t=l()(c()().mark((function t(r){var n,o,a;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr(e,{checkLogin:!0});case 2:n=t.sent,o=n.invoke,a=n.msg,o?new Promise((function(t,r){var n,o=e.wxaIdaas,a=Sr({resolve:t,reject:r,FULL_API_NAME:cr}),i=a.wrapReolve,s=a.wrapReject;Q().invokeMethod("appleLogin",{complete:(n=l()(c()().mark((function t(r){var n,a,u;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.code){t.next=2;break}return t.abrupt("return",s(r));case 2:return t.next=4,null===(n=e.innerService)||void 0===n?void 0:n.getSysAccessTokenInfoAsync();case 4:a=t.sent,u={apiName:"idaas_bind_apple",sessionKey:null==a?void 0:a.sysAccessToken,socialCode:r.code},o.requestApiWrap({data:u},o.authClient,o.authClient.request,cr).then((function(e){0===e.errCode?i(e):s(e)}));case 7:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)})})})).then((function(e){Ke(sr,r,e)})).catch((function(e){ze(sr,r,e)})):ze(sr,r,Xe(a,sr));case 6:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}}var pr="miniapp.bindPhone",fr="wx."+pr;function dr(e){return{apiName:pr,fn:hr(e)}}function hr(e){return function(e){!function(e){t.apply(this,arguments)}(qe(e))};function t(){return(t=l()(c()().mark((function t(n){var o,a,i;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.phoneNumber){t.next=2;break}return t.abrupt("return",ze(pr,n,Xe("缺失 phoneNumber",pr)));case 2:if(n.verifyCode){t.next=4;break}return t.abrupt("return",ze(pr,n,Xe("缺失 verifyCode",pr)));case 4:return t.next=6,wr(e,{checkLogin:!0});case 6:o=t.sent,a=o.invoke,i=o.msg,a?r(n).then((function(e){Ke(pr,n,e)})).catch((function(e){ze(pr,n,e)})):ze(pr,n,Xe(i,pr));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(t){return new Promise((function(r,n){var o,a=e.wxaIdaas,i=Sr({resolve:r,reject:n,FULL_API_NAME:fr}),s=i.wrapReolve,c=i.wrapReject;null===(o=e.innerService)||void 0===o||o.getSysAccessTokenInfoAsync().then((function(e){var r={apiName:"idaas_bind_phone",sessionKey:null==e?void 0:e.sysAccessToken,phoneNumber:t.phoneNumber,verifyCode:t.verifyCode};a.requestApiWrap({data:r},a.authClient,a.authClient.request,fr).then((function(e){0===e.errCode?s(e):c(e)}))}))}))}}var gr="miniapp.checkBindInfo",vr="wx."+gr;function yr(e){return{apiName:gr,fn:mr(e)}}function mr(e){return function(e){!function(e){t.apply(this,arguments)}(qe(e))};function t(){return(t=l()(c()().mark((function t(r){var n,o,a;return c()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wr(e,{checkLogin:!0});case 2:n=t.sent,o=n.invoke,a=n.msg,o?new Promise((function(t,r){var n,o=e.wxaIdaas,a=Sr({resolve:t,reject:r,FULL_API_NAME:vr}),i=a.wrapReolve,s=a.wrapReject;null===(n=e.innerService)||void 0===n||n.getSysAccessTokenInfoAsync().then((function(e){var t={apiName:"idaas_check_bind_info",sessionKey:null==e?void 0:e.sysAccessToken};o.requestApiWrap({data:t},o.authClient,o.authClient.request,vr).then((function(e){0===e.errCode?i(e):s(e)}))}))})).then((function(e){Ke(gr,r,e)})).catch((function(e){ze(gr,r,e)})):ze(gr,r,Xe(a,gr));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}function _r(e){return e.registerService(function(e){var t={wxaIdaas:e.wxaIdaas,tokenManager:e.tokenManager,innerService:e.innerService};return[rt,mt,dt,wt,It,Tt,Ot,Nt,tr,ar,ur,dr,yr].map((function(e){return e(t)}))}(e))}function br(e,t){0!==e.errCode?e.errMsg=e.errMsg.replace(new RegExp("^.*".concat(e.errCode,"\\.")),"".concat(t," fail: ").concat(e.errCode,".")):e.errMsg="".concat(t," success: ok.")}function Sr(e){var t=e.resolve,r=e.reject,n=e.FULL_API_NAME;return{wrapReolve:function(e){br(e,n),t(e),Ze({apiName:n,success:!0})},wrapReject:function(e){br(e,n),r(e),Ze({apiName:n,success:!1,extraData:JSON.stringify(e)})}}}function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{checkLogin:!1};return new Promise(function(){var r=l()(c()().mark((function r(n){var o,a,i,s;return c()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=function(e,t){n({invoke:e,msg:t})},st){r.next=3;break}return r.abrupt("return",o(!1,"暂不支持非多端环境中使用该接口"));case 3:if(!t.checkLogin){r.next=9;break}return r.next=6,null===(a=e.innerService)||void 0===a?void 0:a.getSysAccessTokenInfoAsync();case 6:if((i=r.sent)&&i.sysAccessToken){r.next=9;break}return r.abrupt("return",o(!1,"缺失系统登录态"));case 9:if(!e.wxaIdaas.authClient.getBaseOptions().clientId){r.next=11;break}return r.abrupt("return",o(!0,"ok"));case 11:return r.next=13,lt();case 13:if((s=r.sent).clientId){r.next=16;break}return r.abrupt("return",o(!1,"调用失败，请先开通多端身份管理"));case 16:e.wxaIdaas.authClient.setClientId(s.clientId),o(!0,"ok");case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}function Cr(e){return Q().getSysAccessTokenInfoAsync}var xr="sendPhoneSms",kr="wx."+xr;function Ir(e){return{apiName:xr,fn:Pr(e)}}function Pr(e){return function(t){var r=qe(t);r.connection=ye.SMS,r.send=_e.CODE,function(t){wr(e).then((function(r){r.invoke?function(t){return new Promise((function(r,n){var o=e.wxaIdaas,a=Sr({resolve:r,reject:n,FULL_API_NAME:kr}),i=a.wrapReolve,s=a.wrapReject;o.requestApiWrap(t,o.authClient.passwordless,o.authClient.passwordless.start,kr).then((function(e){0===e.errCode?i(e):s(e)}))}))}(t).then((function(e){Ke(xr,t,e)})).catch((function(e){ze(xr,t,e)})):ze(xr,t,Xe(r.msg,xr))}))}(r)}}function Ar(e){var t={wxaIdaas:e.wxaIdaas,tokenManager:e.tokenManager};return[].concat(z()([{apiName:"getSysAccessTokenInfoAsync",fn:Cr()}]),[Gt(t),Ir(t)])}var Er=n(194),Tr=n.n(Er),Rr=n(490),Mr=n.n(Rr),Lr=H.kindOfTest;function Or(e,t,r){for(var n=void 0,o=function(t){return"_"===t?e:e[t]},a=0;a<t.length;a++){var i,s,c=t[a],u=c.key,l=o(u);if(void 0===l&&null!==(i=c.required)&&void 0!==i&&i){n=De(c.message||"缺少字段 ".concat(u),r+" Params Check");break}if(void 0!==l&&c.type&&!Lr(c.type)(l)){n=De(c.message||"".concat(u," 应该是 ").concat(c.type," 类型"),r+" Params Check");break}if(void 0!==l&&c.condition){var p=c.condition(l),f=ee()(p,2),d=f[0],h=f[1];if(!d){n=De(h||c.message||"".concat(u," 参数错误"),r+" Params Check");break}}if(null!==(s=c.depends)&&void 0!==s&&s.length)for(var g=0;g<c.depends.length;g++){var v=c.depends[g];if((Lr("function")(v.when)?v.when(l):v.when===l)&&(n=Or(e,v.meets,r)))return Xe(n)}}return n?Xe(n):void 0}var Dr=Mr()({},he.AUTHORIZE,{responseType:ge.CODE,responseMode:ve.QUERY,scope:"openid"}),Br=function(){return g()((function e(t){f()(this,e),this.baseOptions=void 0,this.requestClient=void 0,this.baseOptions=t,this.baseOptions.audience||(this.baseOptions.audience=t.clientId),this.requestClient=new t.requestAdapter}),[{key:"buildAuthorizeUrl",value:function(e){return Or(e,[{key:"clientId",required:!0,type:"string"},{key:"responseType",required:!0,type:"string",condition:function(e){return[e.split(" ").every((function(e){return $e(ge,e)})),"invalid response type"]}},{key:"responseMode",required:!0,type:"string",condition:function(e){return[$e(ve,e),"invalid response mode"]}},{key:"scope",required:!0,type:"string"},{key:"audience",required:!0,type:"string"}],"Build Authorize Url")||ce(this.getEndPointURL(he.AUTHORIZE),e)}},{key:"oauthToken",value:function(e){var t=Or(e,[{key:"clientId",required:!0,type:"string"},{key:"clientSecret",required:!1,type:"string",depends:[{when:function(){return void 0===e.codeVerifier&&"refresh_token"!==e.grantType},meets:[{key:"clientSecret",required:!0,type:"string"}]}]},{key:"grantType",required:!0,type:"string",condition:function(e){return[$e(me,e),"invalid grand type"]},depends:[{when:me.CODE,meets:[{key:"code",required:!0,type:"string"}]},{when:me.REFRESH_TOKEN,meets:[{key:"refreshToken",required:!0,type:"string"}]},{when:me.PASSWORDLESS,meets:[{key:"username",required:!0,type:"string"},{key:"otp",required:!0,type:"string"},{key:"connection",required:!0,type:"string",condition:function(e){return[[ye.SMS].includes(e),"invalid connection"]}},{key:"scope",required:!0,type:"string"},{key:"audience",required:!0,type:"string"}]},{when:me.CLIENT_CREDENTIAL,meets:[{key:"audience",required:!0,type:"string"}]}]}],"Oauth Token");return t?Promise.reject(t):this.request({method:"POST",url:this.getEndPointURL(he.TOKEN),data:e})}},{key:"request",value:function(e){var t=this;return new Promise((function(r,n){t.requestClient.request(e).then((function(e){var t;0!==(null==e||null===(t=e.baseResp)||void 0===t?void 0:t.errcode)?n(De(null==e?void 0:e.baseResp,"Authentication Request")):r(e)})).catch((function(e){var t=De(e,"Authentication Request");n(t)}))}))}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return e.data=ie(e.data),e})),this.requestClient.requestEngine.interceptors.response.use((function(e){var t;return e.data=(t=e.data,ae("camel",t)),ke.i("[Authenticate Request Client Response]: ",null==e?void 0:e.data),e}))}},{key:"getEndPointURL",value:function(e){var t=this.baseOptions.domain,r=null!=t&&t.startsWith("http")?t:"https://"+t;return se(r,e)}},{key:"uniLoginCallback",value:function(e){var t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t),t.children[0].submit()}},{key:"setClientId",value:function(e){this.baseOptions.clientId=e,this.baseOptions.audience=this.baseOptions.audience||e}}])}(),jr=/^(\+\d+ )?\d{10}/,Nr=function(e){function t(e){var r;return f()(this,t),(r=m()(this,t,[e])).setUpRequestClient(),r}return b()(t,e),g()(t,[{key:"start",value:function(e){var r=Or(e,[{key:"connection",required:!0,type:"string",condition:function(e){return[t.connections.includes(e),"invalid connection"]},depends:[{when:function(e){return t.connections.includes(e)},meets:[{key:"phoneNumber",required:!0,condition:function(e){return[jr.test(e),"invalid phoneNumber"]}}]},{when:ye.SMS,meets:[{key:"send",required:!0,condition:function(e){return[e===_e.CODE,"sendType is expected to be code when connection is sms"]}},{key:"smsType",type:"number",required:!0,condition:function(e){return[[0,1].includes(e),"invalid smsType"]}}]}]}],"Passwordless Start"),n=Ue(this.baseOptions).merge(e).pick(["clientId","clientSecret","connection","phoneNumber","send","appType","smsType"]).done();return r?Promise.reject(r):this.request({method:"POST",url:this.getEndPointURL(he.PASSWORDLESS_START),data:n})}},{key:"authorize",value:function(e){var r=Or(e,[{key:"connection",required:!0,condition:function(e){return[t.connections.includes(e),"invalid connextion"]},depends:[{when:ye.SMS,meets:[{key:"phoneNumber",required:!0},{key:"verifyCode",required:!0}]},{when:ye.ONECLICK,meets:[{key:"msgId",required:!0},{key:"tokenList",required:!0}]}]}],"Passwordless Authorize"),n=Ue(Dr[he.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","appType","connection","phoneNumber","verifyCode","responseMode","responseType","scope","audience","msgId","tokenList"]).done();return r||Tr()(t,"buildAuthorizeUrl",this,3)([n])}},{key:"login",value:(r=l()(c()().mark((function e(t){var r,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(t,[{key:"connection",required:!0,condition:function(e){return[e===ye.SMS,"connection should be ".concat(ye.SMS)]},depends:[{when:ye.SMS,meets:[{key:"username",required:!0,condition:function(e){return[jr.test(e),"invalid phoneNumber"]}},{key:"password",required:!0,type:"string"}]}]}],"Passwordless Login"),r=Ue(this.baseOptions).merge(t).pick(["clientId","connection","username","password"]).done(),n=ue(window.location.search,"state")||"",e.abrupt("return",this.request({method:"POST",url:ce(this.getEndPointURL(he.UNI_LOGIN),{state:n}),data:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"oauthToken",value:function(e){Or(e,[{key:"grantType",required:!0,condition:function(e){return[e===me.PASSWORDLESS,"grantType should be passwordless"]}}],"Passwordless Oauth Token");var r=Ue(Dr[he.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","clientSecret","grantType","connection","username","otp","scope","audience"]).done();return Tr()(t,"oauthToken",this,3)([r])}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return ke.i("[Passwordless Request Client Request]: ",e.url,e.data),e})),Tr()(t,"setUpRequestClient",this,3)([])}}]);var r}(Br);Nr.connections=[ye.SMS,ye.ONECLICK];var Fr=function(e){function t(e){var r;return f()(this,t),(r=m()(this,t,[e])).setUpRequestClient(),r}return b()(t,e),g()(t,[{key:"login",value:function(e){Or(e,[{key:"connection",required:!0,condition:function(e){return[[ye.USERNAMEPASSWORD,ye.SMS].includes(e),"invalid connection for cross orgin authentication"]}},{key:"password",required:!0,type:"string"},{key:"username",required:!0,type:"string"}],"Cross Origin Login");var t=Ue(this.baseOptions).merge(e).pick(["clientId","connection","password","username"]).done();return this.request({method:"POST",url:this.getEndPointURL(he.CO),data:t})}},{key:"authorize",value:function(e){var r=Or(e,[{key:"loginTicket",required:!0},{key:"connection",required:!0,condition:function(e){return[[ye.USERNAMEPASSWORD,ye.SMS].includes(e),"invalid connection for cross orgin authentication"]}}],"Cross Origin Authorize"),n=Ue(Dr[he.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","responseType","responseMode","redirectUri","scope","loginTicket","connection","audience","codeChallenge","codeChallengeMethod"]).done();return r||Tr()(t,"buildAuthorizeUrl",this,3)([n])}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return ke.i("[Crossorigin Request Client Request]: ",e.url,e.data),e})),Tr()(t,"setUpRequestClient",this,3)([])}}])}(Br),Wr=function(e){function t(e){var r;return f()(this,t),(r=m()(this,t,[e])).setUpRequestClient(),r}return b()(t,e),g()(t,[{key:"authorize",value:function(e){var r=Or(e,[{key:"connection",required:!0,condition:function(e){return[t.connections.includes(e),"invalid social connection"]},depends:[{when:function(e){return[ye.WXAPP,ye.APPLEAPP].includes(e)},meets:[{key:"socialCode",required:!0,type:"string"}]},{when:function(e){return[ye.WXMP].includes(e)},meets:[{key:"socialCode",required:!0,type:"string"},{key:"multiModuleId",required:!0,type:"string"}]}]}],"Social Authorize"),n=Ue(Dr[he.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","appType","responseType","responseMode","redirectUri","scope","connection","audience","socialCode","codeChallenge","codeChallengeMethod","multiModuleId"]).done();return r||Tr()(t,"buildAuthorizeUrl",this,3)([n])}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return ke.i("[Socail Authentication Request Client Request]: ",e.url,e.data),e})),Tr()(t,"setUpRequestClient",this,3)([])}}])}(Br);Wr.connections=[ye.WXWAP,ye.WXMP,ye.WXAPP,ye.APPLEAPP];var Ur=/^(\+\d+ )?\d{10}/,$r=function(e){function t(e){var r;return f()(this,t),(r=m()(this,t,[e])).setUpRequestClient(),r}return b()(t,e),g()(t,[{key:"start",value:function(e){Or(e,[{key:"connection",required:!0,type:"string",condition:function(e){return[Se.SMS===e,"invalid connection"]},depends:[{when:Se.SMS,meets:[{key:"phoneNumber",required:!0,condition:function(e){return[Ur.test(e),"invalid phoneNumber"]}},{key:"send",required:!0,condition:function(e){return[e===_e.CODE,"sendType is expected to be code when connection is sms"]}}]}]}],"Sign Up Start");var t=Ue(this.baseOptions).merge(e).pick(["clientId","phoneNumber","connection","send"]).done();return this.request({method:"POST",url:this.getEndPointURL(he.SIGN_UP_START),data:t})}},{key:"signUp",value:function(e){Or(e,[{key:"account",required:!0,type:"string"},{key:"connection",required:!0,condition:function(e){return[$e(Se,e),"invalid connection"]},depends:[{when:Se.SMS,meets:[{key:"otp",required:!0,type:"string"}]},{when:Se.USERNAMEPASSWORD,meets:[{key:"password",required:!0,type:"string"}]}]},{key:"extraInfo",required:!1,type:"object"}],"Sign Up");var t=Ue(this.baseOptions).merge(this.baseOptions).merge(e).pick(["clientId","account","otp","password","connection","extraInfo"]).done();return this.request({method:"POST",url:this.getEndPointURL(he.SIGN_UP),data:t})}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return ke.i("[Sign Up Request Client Request]: ",e.url,e.data),e})),Tr()(t,"setUpRequestClient",this,3)([])}}])}(Br),qr=function(e){function t(e){var r;return f()(this,t),(r=m()(this,t,[e])).setUpRequestClient(),r}return b()(t,e),g()(t,[{key:"login",value:(r=l()(c()().mark((function e(t){var r,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or(t,[{key:"connection",required:!0,condition:function(e){return[ye.USERNAMEPASSWORD===e,"invalid connection for username password login"]}},{key:"password",required:!0,type:"string"},{key:"username",required:!0,type:"string"}],"Universal Login"),r=Ue(this.baseOptions).merge(t).pick(["clientId","connection","password","username"]).done(),n=ue(window.location.search,"state")||"",e.abrupt("return",this.request({method:"POST",url:ce(this.getEndPointURL(he.UNI_LOGIN),{state:n}),data:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return ke.i("[Universal Username Password Request Client Request]: ",e.url,e.data),e})),Tr()(t,"setUpRequestClient",this,3)([])}}]);var r}(Br),Vr=function(e){function t(e){var r;return f()(this,t),(r=m()(this,t,[e])).passwordless=void 0,r.crossorigin=void 0,r.social=void 0,r.signup=void 0,r.usernamepassword=void 0,r.setUpRequestClient(),r.registerServices(e),void 0!==e.debug&&Ce(e.debug),r}return b()(t,e),g()(t,[{key:"registerServices",value:function(e){this.passwordless=new Nr(e),this.crossorigin=new Fr(e),this.social=new Wr(e),this.signup=new $r(e),this.usernamepassword=new qr(e)}},{key:"buildAuthorizeUrl",value:function(e){var r=Ue(Dr[he.AUTHORIZE]).merge(this.baseOptions).merge(e).done();return Tr()(t,"buildAuthorizeUrl",this,3)([r])}},{key:"authorize",value:function(e){var r=Ue(Dr[he.AUTHORIZE]).merge(this.baseOptions).merge(e).pick(["clientId","connection","appType","responseType","responseMode","redirectUri","scope","audience","prompt","codeChallenge","codeChallengeMethod","multiModuleId"]).done();return r.connection||Object.assign(r,{connection:"universal"}),Tr()(t,"buildAuthorizeUrl",this,3)([r])}},{key:"oauthToken",value:function(e){var r=Ue(this.baseOptions).merge(e).pick(["clientId","clientSecret","grantType","redirectUri","scope","audience","code","refreshToken","codeVerifier","appType"]).done();return Tr()(t,"oauthToken",this,3)([r])}},{key:"getUserInfo",value:function(e){var t=Ue(this.baseOptions).merge(e).pick(["accessToken"]).done();return this.request({method:"get",url:ce(this.getEndPointURL(he.USER_INFO),t)})}},{key:"request",value:function(e){return Tr()(t,"request",this,3)([e])}},{key:"getBaseOptions",value:function(){return this.baseOptions}},{key:"setUpRequestClient",value:function(){this.requestClient.requestEngine.interceptors.request.use((function(e){return ke.i("[Authentication Request Client Request]: ",e.url,e.data),e})),Tr()(t,"setUpRequestClient",this,3)([])}}])}(Br),Gr=void 0,Hr=function(e){return Gr||(Y(e.sdk),Gr=new Xr)},Kr=function(e){return Hr(e).exportAPIInWx},zr=function(e){return Hr(e).innerService},Jr=function(e){return Hr(e).exportAPIInMiniApp},Xr=function(){return g()((function e(){var t;f()(this,e),this.wxaIdaas=void 0,this.tokenManager=void 0,this.initOption=void 0,this.exportAPIInWx={},this.exportAPIInMiniApp={},this.innerService={},this.tokenManager=Q().TokenManager,this.initOption={clientId:this.getClientId(),tokenManager:this.tokenManager},this.wxaIdaas=new Qr(this.initOption),(t=this).registerInnerService(Ar(t)),_r(this)}),[{key:"registerService",value:function(e){var t=this,r=this,n=function(e){return function(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=null!==(t=o[0].debug)&&void 0!==t?t:void 0;return void 0!==i&&Ce(i),e.fn.apply(r,o)}};e.forEach((function(e){e.apiName.startsWith("miniapp.")?t.exportAPIInMiniApp[e.apiName.replace("miniapp.","")]=n(e):t.exportAPIInWx[e.apiName]=n(e)}))}},{key:"registerInnerService",value:function(e){var t=this,r=this;e.forEach((function(e){t.innerService[e.apiName]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.fn.apply(r,n)}}))}},{key:"getClientId",value:function(){var e=this;return at.onReady((function(){e.wxaIdaas.authClient.getBaseOptions().clientId?e.innerService.getSysAccessTokenInfoAsync():lt().then((function(t){ke.i("getClientId",t),e.wxaIdaas.authClient.setClientId(t.clientId),e.innerService.getSysAccessTokenInfoAsync()}))})),""}}])}(),Qr=function(){return g()((function e(t){var r=this;f()(this,e),this.authClient=void 0,this.tokenManager=void 0,this.requestApiWrap=function(){var e=l()(c()().mark((function e(t,n,o,a){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qe.bind(r)(t,o.bind(n),a));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),t.requestAdapter=Te,t.appType=2,t.domain="wxaidass",this.authClient=new Vr(t),this.tokenManager=t.tokenManager}),[{key:"authorize",value:(e=l()(c()().mark((function e(t){var r,n,o=this;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof(r=this.buildAuthorizeUrl(t))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return n=i()(i()(i()({},pe(r)),t.extends||{}),{},{apiName:"idaas_authorize"}),e.next=6,this.requestApiWrap({data:n},this,this.sendTunnelRequest,"authorize").then((function(e){var t=e.errCode,r=e.errMsg;if(0===t){if(e.sysAccessToken){var n=e.sysAccessToken,a=e.sysRefreshToken,i=e.expireTime;o.tokenManager.setTokens({sysAccessToken:n,sysRefreshToken:a,expireTime:i}),ke.i("authorize tokens",o.tokenManager.getSysAccessTokenInfo(),o.tokenManager.getSysRefreshToken())}return{code:e.code,errCode:t,errMsg:r}}return{errCode:t,errMsg:r}}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"sendTunnelRequest",value:function(e){return this.authClient.request(e)}},{key:"getSocialCodeAndAuthorize",value:function(e){var t,r=e.getCodeRet,n=e.resolve,o=e.reject;0!==r.errCode?o(r):this.authorize({socialCode:r.code,connection:r.connection,multiModuleId:null!==(t=r.multiModuleId)&&void 0!==t?t:""}).then((function(e){0===e.errCode?n(e):o(e)}))}},{key:"buildAuthorizeUrl",value:function(e){var t=e.connection;return t===ye.USERNAMEPASSWORD?this.authClient.crossorigin.authorize(e):Nr.connections.includes(t)?this.authClient.passwordless.authorize(e):Wr.connections.includes(t)?this.authClient.social.authorize(e):this.authClient.authorize(e)}}]);var e}()}(),e.exports=o}()}},r={};function c(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return e[t](o,o.exports,c),o.loaded=!0,o.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var u={};(()=>{"use strict";c.d(u,{default:()=>Ev});var e={};c.r(e),c.d(e,{clearTokens:()=>xd,getSysAccessToken:()=>Sd,getSysAccessTokenInfo:()=>wd,getSysRefreshToken:()=>Cd,isValid:()=>kd,setTokens:()=>bd});var r={};c.r(r),c.d(r,{TokenManager:()=>e,_requestSkipCheckDomain:()=>au,forceCellularNetwork:()=>ah,getFileSystemManager:()=>Co,getIdentityServiceConfig:()=>Rd,getSysAccessTokenInfoAsync:()=>Od,idaasStorage:()=>wh,invokeMethod:()=>ur,invokeMiniappNativeExtension:()=>Pf,launchMiniProgram:()=>Dd,miniAppLogin:()=>Zf,miniprogramLogin:()=>hh,navigateTo:()=>hl,onMiniappNativeExtensionMsg:()=>Af,sendSaaADataPipe:()=>Pr,sendSaaAReportData:()=>Cf});const f=o.initializerDefineProperty;var y=c.n(f);const m=o.applyDecoratedDescriptor;var _=c.n(m);o.initializerWarningHelper;var b=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},S=20;function w(){this._events={},this._conf&&C.call(this,this._conf)}function C(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:S,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=S}function x(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function k(e){this._events={},this._newListener=!1,this._removeListener=!1,C.call(this,e)}k.prototype.delimiter=".",k.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},k.prototype.event="",k.prototype.once=function(e,t){return this._once(e,t,!1)},k.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},k.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},k.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},k.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},k.prototype._many=function(e,t,r,n){var o=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&o.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),o},k.prototype.emit=function(){this._events||w.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,o,a,i=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),i>3)for(t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];for(n=0,r=a.length;n<r;n++)switch(this.event=e,i){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,i){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(i-1),o=1;o<i;o++)t[o-1]=arguments[o];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(i>3)for(t=new Array(i-1),o=1;o<i;o++)t[o-1]=arguments[o];for(n=0,r=a.length;n<r;n++)switch(this.event=e,i){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},k.prototype.emitAsync=function(){this._events||w.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,o,a,i=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),o=1;o<s;o++)t[o]=arguments[o];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,s){case 1:i.push(this._all[n].call(this,e));break;case 2:i.push(this._all[n].call(this,e,arguments[1]));break;case 3:i.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:i.push(this._all[n].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,s){case 1:i.push(a.call(this));break;case 2:i.push(a.call(this,arguments[1]));break;case 3:i.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];i.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),s>3)for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];for(n=0,r=a.length;n<r;n++)switch(this.event=e,s){case 1:i.push(a[n].call(this));break;case 2:i.push(a[n].call(this,arguments[1]));break;case 3:i.push(a[n].call(this,arguments[1],arguments[2]));break;default:i.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(i)},k.prototype.on=function(e,t){return this._on(e,t,!1)},k.prototype.prependListener=function(e,t){return this._on(e,t,!0)},k.prototype.onAny=function(e){return this._onAny(e,!1)},k.prototype.prependAny=function(e){return this._onAny(e,!0)},k.prototype.addListener=k.prototype.on,k.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},k.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||w.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,x.call(this,this._events[e].length,e))):this._events[e]=t,this},k.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,o=[];if(!this._events[e])return this;r=this._events[e],o.push({_listeners:r});for(var a=0;a<o.length;a++){if(r=o[a]._listeners,b(r)){for(var i=-1,s=0,c=r.length;s<c;s++)if(r[s]===t||r[s].listener&&r[s].listener===t||r[s]._origin&&r[s]._origin===t){i=s;break}if(i<0)continue;return this._events[e].splice(i,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var o in r){var a=r[o],i=t[a];i instanceof n||"object"!=typeof i||null===i||(Object.keys(i).length>0&&e(t[a]),0===Object.keys(i).length&&delete t[a])}}}(this.listenerTree),this},k.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},k.prototype.removeListener=k.prototype.off,k.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||w.call(this),this):(this._events&&delete this._events[e],this)},k.prototype.listeners=function(e){return this._events||w.call(this),this._events[e]||(this._events[e]=[]),b(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},k.prototype.eventNames=function(){return Object.keys(this._events)},k.prototype.listenerCount=function(e){return this.listeners(e).length},k.prototype.listenersAny=function(){return this._all?this._all:[]};const I=k;var P;const A={get invoke(){return P},set invoke(e){P=e}};var E=()=>{T!==a&&void 0!==T&&Object.assign(T,a)},T=(()=>(a.onReady(E),a))();const R=T,M={setNavigationBarRightButton:238,requestVirtualPayment:285,navigateToDevMiniProgram:351,setCookies:502,getCookies:503,joinVoIPChat:516,exitVoIPChat:517,onVoIPChatMembersChanged:518,onVoIPChatSpeakersChanged:519,onVoIPChatInterrupted:520,updateVoIPChatMuteConfig:521,openBizProfile:560,insertXWebLivePlayer:561,updateXWebLivePlayer:562,removeXWebLivePlayer:563,insertXWebLivePusher:564,updateXWebLivePusher:565,removeXWebLivePusher:566,operateXWebLivePlayer:567,operateXWebLivePusher:568,UDP:606,launchApplicationDirectly:620,chooseShareGroup:627,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,insertXWebVoIPView:934,updateXWebVoIPView:935,removeXWebVoIPView:936,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,requestMedicalInsurancePay:1294,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1328};var L=null,O=[],D=e=>{null!==L?e():O.push(e)},B=e=>{L=e.data.pluginPermissionBytes,O.forEach((e=>e())),O=[]};s.subscribe("batchGetPluginPermissionBytes",B),i.onLibraryEnd((()=>{void 0!==v&&"function"==typeof v.onSubContextMessage&&v.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&B(e)}))})),s.subscribe("getPluginPermissionBytesByJsApi",(e=>{F(e.data.pluginId,e.data.apiName,(t=>{s.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var j=e=>e.split("/",1)[0],N=(e,t)=>{var r,n,o=null===(r=L)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==o?o=[0,0,0]:"object"!=typeof o&&(o=[o,o,o]),o};function F(e,t,r){e=j(e),a.supportInvokeWithAppId?s.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[M[t]]}]},(t=>{var n=t.pluginPermissionMap[e][0];r([n,n,n])})):D((()=>{var n=N(e,t);r(n)}))}var W=Object.create(null);var U=(()=>Object.prototype.toString)(),$=n.prototype.call.bind(U);function q(e){return $(e).slice(8,-1)}var V=e=>"String"===q(e),G=e=>"Number"===q(e),H=e=>void 0===e,K=e=>null===e,z=(()=>Number.isNaN||(e=>e!=e))(),J=e=>"Object"===q(e),X=e=>"function"==typeof e,Q=e=>"Promise"===q(e),Y=e=>"ArrayBuffer"===q(e);function Z(e,t,r="parameter"){var n=q(t),o=q(e);if(o!==n)return`${r} should be ${n} instead of ${o};`;var a="";switch(n){case"Object":Object.keys(t).forEach((n=>{a+=Z(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var i=0;i<t.length;++i)a+=Z(e[i],t[i],`${r}[${i}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return a}function ee(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function te(){}function re(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function ne(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?p.thirdErrorReport({error:e,extend:t}):p.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function oe(e){var t=q(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var ae=ne(oe,"anyTypeToString");function ie(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var se=ne(ie,"stringToAnyType");function ce(e,t){if("undefined"!=typeof IS_AD_SUBPACKAGE&&IS_AD_SUBPACKAGE){var{onMethod:r}=__appServiceSDKAD__;return r(e,t)}!function(e,t){W[e]instanceof Array?W[e].push(t):(W[e]=null,s.on(e,((e,r,n)=>{"number"!=typeof(null==n?void 0:n.__subscribe_webviewId)&&t(e,r,n)})))}(e,ne(t,`at api ${e} callback function`))}var ue=(()=>new I({maxListeners:20,newListener:!1}))(),le=(()=>new I({maxListeners:30,newListener:!1}))();var pe={};function fe(e){if(e=e[0].toUpperCase()+e.slice(1),!pe[e]){var t=new WeakMap;pe[e]={getGlobalListeners:()=>ue.listeners(e),getInternalListeners:()=>le.listeners(e),emit:(...t)=>{le.emit(e,...t),ue.emit(e,...t)},emitGlobal:(...t)=>{ue.emit(e,...t)},emitInternal:(...t)=>{le.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?le.prependOnceListener(e,t):le.prependListener(e,t):r.once?le.once(e,t):le.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&le.off(e,t)},onMethod:r=>{var n=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):l.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);if(n){if(t.has(r)){var o=t.get(r);o.push(n),t.set(r,o)}else t.set(r,[n]);ue.on(e,n)}},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>ue.off(e,t))),t.delete(r)}}else t=new WeakMap,ue.removeAllListeners(e)}}}return pe[e]}var de={},he=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE"],ge=(e,t)=>{if("undefined"!=typeof IS_AD_SUBPACKAGE&&IS_AD_SUBPACKAGE){var{onNativeEvent:r}=__appServiceSDKAD__;return r(e,t)}var n=fe(`WeixinJSBridge-${e}`);de[e]||(ce(e,((...t)=>{n.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!he.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=h;r(e,...t)}})(e,...t)})),de[e]=!0),n.internalOnMethod(t)},ve=(()=>R.platform)(),ye=(()=>"devtools"===ve)(),me=(()=>"android"===ve)(),_e=(()=>"ios"===ve)(),be=(()=>"windows"===ve)(),Se=(()=>"mac"===ve)(),we=(()=>be||Se)();var Ce=(e=>null===(e=R.host)||void 0===e?void 0:e.env)(),xe=(()=>"SAAASDK"===Ce)(),ke=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();var Ie=(()=>!0)();var Pe=[0,1,2,3,5,6,8,9,10,11,12,13];function Ae(){return 7===R.appType}function Ee(){return 10===R.appType}var Te,Re,Me,Le,Oe=new I,De=(Oe.on.bind(Oe,"__virtualDOM__"),Oe.on.bind(Oe,"__subContextEngineSub__"),Oe.on.bind(Oe,"__wxModule__"),Oe.on.bind(Oe,"__cloudSDK__"),{}),Be=!1,je=e=>De[e]||Re.getPageTypeById(e),Ne=(e,t)=>{"context"===t?De[e]=t:Re.setPageTypeById(e,t),Be=Be||"webview"!==t},Fe=e=>"webview"===e?e:"context";null===(Le=s.clientManager)||void 0===Le||Le.on("clientConnected",(e=>{Ne(e,"webview")}));var We=(e,t={},r)=>{Be&&(Array.isArray(r)?r.forEach((r=>{v.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):v.postMessageToSubContext({event:e,params:{params:t}},r))};function Ue(e,t,r){!function(e,t,r){s.publish(e,t,r)}(e,{data:t,options:{timestamp:Date.now()}},r)}var $e=Ie?(e,t,r)=>{if(null==r)Ue(e,t,r),We(e,t,r);else{var n=(e=>{if(void 0===e||0===e.length)return{};var t=Fe(je(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=Fe(je(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r})(r);void 0!==n.webview&&Ue(e,t,n.webview),void 0!==n.context&&We(e,t,n.context)}}:Ue;function qe(e,t){if("boolean"!=typeof IS_WORKER||!IS_WORKER){!function(e,t){s.subscribe(e,t)}(e,(({data:e,options:r},n,o={})=>{var a=r&&r.timestamp||0,i=Date.now();p.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:i,nativeTime:o.nativeTime||0}}),"number"==typeof n&&void 0===je(n)&&Ne(n,"webview"),"function"==typeof t&&t(e,n)}))}}var Ve=Ie?new i.EventEmitter:null;Ie&&i.onLibraryEnd((()=>{v.onSubContextMessage((e=>{Ve.emit(e.event,e.params)}))}));var Ge=Ie?(e,t)=>{qe(e,t),((e,t)=>{Ve.on(e,(e=>{void 0===je(e.pageId)&&Ne(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:qe,He="",Ke=(e={})=>{try{He=e.transitExtraData.adUxInfo}catch(e){He=""}};R.onReady((()=>{Ke(R.appLaunchInfo)})),ge("onAppEnterForeground",(e=>{Ke(e)})),ge("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(He="")})),Ge("getAdUxInfo",((e,t)=>{$e("adUxInfoGot",{adUxInfo:He,callbackId:e.callbackId},[t])}));var ze=()=>He;function Je(e,t,r,n={}){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||ze());var o=n.appId;return"splashad"===i.env.workerType||R.supportInvokeWithAppId||void 0===o||void 0!==i&&i.env.isGame||4===R.appType?s.invoke(e,t,r,n):D((()=>{var a=function(e,t,r){t=j(t),delete r.permissionBytes;var n=N(t,e);return r.permissionBytes=n,r}(e,o,t);s.invoke(e,a,r,n)}))}var Xe={},Qe={},Ye={},Ze=0,et=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),tt=()=>{var e=et(1,Xe),t=et(2,Qe),r=et(3,Ye),n=[].concat(e,t,r);0!==n.length&&ur("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:p.getAppType()})}),Xe={},Qe={},Ye={}},rt=(e,t,r,n,o)=>{var a;(a=t?Xe:r?Qe:Ye)[e]=a[e]||{},a[e][o]=(a[e][o]||0)+1,Date.now()-Ze>=6e4&&(Ze=Date.now(),setTimeout(tt,6e4))},nt=600009,ot=1300014;function at(e,t,r){var n=Z(t,r);return!n||(ct({name:e,args:t,errno:1001,errMsg:`parameter error: ${n}`,success:!1}),!1)}function it(e,t){var r=Z(e,t);if(r)throw new Error(`parameter error: ${r}`)}function st(e,t={},r,n){var o=G(r);ct({name:e,args:t,errno:o?r:void 0,errMsg:o?void 0:r,errCode:o?void 0:n,success:!1})}function ct({name:e,args:t={},success:r=!0,errno:n,errMsg:o="",errCode:a,res:i={},exception:s}){t=t||{};var c=l.surroundThirdByTryCatch((r?t.success:t.fail)||te,`at api ${e} ${r?"success":"fail"} callback function`),u=l.surroundThirdByTryCatch(t.complete||te,`at api ${e} complete callback function`);G(n)?(i.errno=n,i.errMsg=`${e}:fail${o&&":"!==o[0]?" ":""}${o||""}`):(i.errMsg=r?`${e}:ok`:`${e}:fail ${o}`,G(a)&&(i.errCode=a)),s&&(i.exception=s),c(i),u(i)}var ut=({success:e,fail:t,complete:r}={},n)=>{var o=e=>{"function"==typeof t&&(n?l.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?l.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?l.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?l.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:o,failWithMsg:({code:e,msg:t,errno:r,name:a}={})=>{var i={};"number"==typeof r&&r>0?(i.errno=r,i.errMsg=`${a||n}:fail`):(i.errMsg=`${a||n}:fail ${t||""}`,"number"==typeof e&&(i.errCode=e)),o(i)}}},lt=(()=>Object.assign)();var pt=Symbol("ErrorInfosSymbol"),ft=e=>(t={},...r)=>new Promise(((n,o)=>e(lt({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=lt({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));lt(n,r),n[pt]=r,o(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=lt({},e);delete n.errMsg,lt(r,n),r[pt]=n,r._complete_hook=!0,o(r)}}}),...r)));function dt(e,t){return(r={},...n)=>{var o={success:r.success,fail:r.fail,complete:r.complete};delete(r=lt({},r)).success,delete r.fail,delete r.complete,t(r,...n).then((t=>ct({name:e,args:o,success:!0,res:t})),(t=>{t._complete_hook?function({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var o=`${e}:${r}`,a=l.surroundThirdByTryCatch(t.complete||te,`at api ${e} complete callback function`);n.errMsg=o,a(n)}({name:e,args:o,errMsg:t.message,res:t[pt]||{}}):ct({name:e,args:o,success:!1,errMsg:t.message,res:t[pt]||{}})}))}}var ht=null,gt=void 0,vt=new Promise((e=>{ht=e})),yt={lastRoute:"",lastOpenType:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",routeType:"",openingInnerPage:!1,get currentWebviewId(){return gt},set currentWebviewId(e){gt=e,ht&&(ht(null),ht=null)},currentWebviewIdPromise:vt,getWebviewIds:()=>Re.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(yt.webViewComponentInfo[gt])},webViewComponentInfo:{}};const mt=yt;var _t={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},bt={OK:1,BLOCK:2,NO_BLOCK:3},St={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},wt="该功能暂时无法使用",Ct=g.createLogger("BanForPage"),xt=!1,kt=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),It=[];function Pt(e,t,r){var n=function(e,t,r){for(var n=-1,o=0;o<It.length;o++){var a=It[o];if((!V(a.path_rule)||!a.path_rule||new RegExp(a.path_rule).test(t))&&(!V(a.title_rule)||!a.title_rule||new RegExp(a.title_rule).test(r))){n=o;break}}return Ct.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}(0,t,r);return-1===n?(At(e,bt.OK,St.API,e),!0):function(e,t){var r,n,o=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!o)return Ct.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(Ct.log("[checkAPIAvailableForPageByRule], found APIItem:",o),o.state===_t.OK)r=!1;else if(o.state===_t.BLOCK)r=!0;else if(o.state===_t.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var a=o.toast_wording||wt;hr("showToast",{title:a,icon:"none"})}return n=r?e.is_valid?bt.BLOCK:bt.NO_BLOCK:bt.OK,At(t,n,St.API,t),1!==e.is_valid||!r}(It[n],e)}function At(e,t,r,n="",o=""){if(Ct.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${xt}`),xt){var{appLaunchInfo:a}=R,i=Object.keys(mt.query).map((e=>`${e}=${mt.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:mt.lastRoute+(i?`?${i}`:""),title:mt.navigationBarTitleMap[mt.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:o};Ct.log("[reportAPIBanForPage], reqData:",s),kr({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){Ct.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}R.onReady((()=>{if(!ye)try{var{do_report:e,navigate_ban_rule_list:t}=R.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;It=t,xt=1===e,kt=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),kt))}catch(e){Ct.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var Et=n.prototype.call.bind(Array.prototype.push),Tt=(n.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),Rt=[],Mt={appRoute:!1,appRouteDone:!1},Lt=void 0!==t&&t?t.version:"unknown",Ot=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof Lt&&(Lt=Lt.replace(" ","")),"string"==typeof Ot&&(Ot=Ot.replace(" ","-"));var Dt=()=>Lt,Bt=()=>Ot;function jt(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function Nt(e,t=!0){var r=q(e);switch(r){case"Number":case"Boolean":return e;case"String":return jt(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${Nt(e.message)}|${Nt(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${Nt(t)}=${Nt(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var n=[];return t?(e.forEach((e=>n.push(Nt(e,"Array"!==q(e))))),n.join(";")):`[${r}]`;default:return`[${r}]`}}var Ft=(()=>{var e={};return R.onReady((()=>{Object.assign(e,R.appLaunchInfo),ge("onAppEnterForeground",(t=>{Object.assign(e,t)}))})),e})();function Wt(){if(void 0===Re)return"";var e=Re.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var Ut=(()=>Array.prototype.map)(),$t=n.prototype.call.bind(Ut),qt=(()=>Array.prototype.join)(),Vt=n.prototype.call.bind(qt);var Gt,Ht=(()=>Object.create)(),Kt=(()=>Object.assign)(),zt=(()=>Object.keys)(),Jt=(()=>Array.prototype.reduce)(),Xt=Array.prototype.includes.bind(Tt),Qt=n.prototype.call.bind(Jt),Yt=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function Zt(e,t){return Qt(zt(e),((r,n)=>("function"==typeof e[n]&&(r[n]=l.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function er(e,t,r,n,o){e.errMsg=e.errMsg||`${t}:ok`;var a=0===e.errMsg.indexOf(`${t}:ok`),i=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),a?function(e,t,r,n,o){var a=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,a):(n.beforeSuccess(r),a()):a(),"function"==typeof Gt&&Gt(t,o)}(r,t,e,n,o):i?function(e,t,r,n){var o=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(o,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}(e,t,r,n):s&&function(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),X(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||p.reportIDKey({key:`${t}_fail`})}(n,t,e,r),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),rt(t,a,s,i,e.errMsg)}function tr(e,t,r,n){var o;return o=r.isThird?Zt(r,t):Zt(e,t),function(e){er(e,t,o,r,n)}}var rr=(()=>String.prototype.split)(),nr=(()=>String.prototype.startsWith)(),or=n.prototype.call.bind(rr),ar=n.prototype.call.bind(nr);function ir(e){return function(t,r={},n={},o="/"){var a=n.notPack;J(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"undefined"==typeof IS_APPSERVICE_SDK||!IS_APPSERVICE_SDK||"openUrl"!==t&&"private_openUrl"!==t||function(e,t,r){var n=t.url||"",o=Vt($t([R.appType+1e3,e,Wt(),Ft.scene,encodeURIComponent(Ft.scene_note||Ft.sceneNote),Nt(t),r,0,Dt(),Bt(),Ft.sessionid||Ft.sessionId,n],jt(1024)),",");p.reportKeyValue({key:"OpenUrl",value:o})}(t,r,Date.now()),n=function(e,t){return Qt(zt(e),((r,n)=>("function"==typeof e[n]&&(r[n]=ne(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}(n,t);var s=tr(r=Kt(Ht(null),r),t,n,o);p.reportIDKey({key:t});var c,u,l,f={keepOriginalParams:(c=t,ke||me&&Yt.includes(c))};if(i.env.isMagicBrushFrameEnv&&r.contextId&&(f.contextId=r.contextId,delete r.contextId),!e&&"splashad"!==i.env.workerType){if(Pe.includes(R.appType)&&kt.has(t)&&(u=t,l=Object.keys(mt.query).reduce(((e,t)=>[...e,`${t}=${mt.query[t]}`]),[]).join("&"),!Pt(u,mt.lastRoute+(l?`?${l}`:""),mt.navigationBarTitleMap[mt.lastRoute]||"")))return void s({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof o&&ar(o,"wx")){var d=(e=>or(e,"/",1)[0])(o);f.appId=d}}a&&(f.notPack=!0),Je(t,r,s,f)}}var sr,cr=ir(!1),ur=(e,t,r)=>{Xt(e)?((e,t,r)=>{var{appRoute:n,appRouteDone:o}=Mt;!n&&o?cr(e,t,r):Et(Rt,{name:e,args:t,option:r})})(e,t,r):cr(e,t,r)},lr=(e,t,r)=>ft((t=>ur(e,t,r)))(t),pr={},fr=(e,t,r)=>{var n,o=r.notPack,a={pureInvoke:!0,highPerformance:pr,keepOriginalParams:ke};n=sr||(()=>{if(sr)return sr;var e=(e,t)=>{var r=pr[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var n=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),o=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),a=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{n&&r.success?r.success(e):o&&r.cancel?r.cancel():a&&r.fail(e),r.complete&&r.complete(e)}catch(e){}rt(r.__jsapi_name__,n,a,o,e.errMsg),delete pr[t]}};return sr=e,e})(),i.env.isMagicBrushFrameEnv&&t.contextId&&(a.contextId=t.contextId,delete t.contextId),o&&(a.notPack=!0),t.__jsapi_name__=e,s.pureInvoke(e,t,n,a)},dr=ir(!0),hr=(e,t,r)=>{dr(e,t,r)};A.invoke=ur;function gr({WXDataApiName:e,argument:t,isSuccess:r,invokeTime:n,costTime:o,result:a,errMsg:i,isConfirm:s,queueLength:c,wxdataQueueTimestamp:u,wxdataDequeueTimestamp:l,beginCGITimestamp:f,CGICallbackTimestamp:d,beginCGITimestampAfterConfirm:h,CGICallbackTimestampAfterConfirm:g,wxlibCallbackTimestamp:v,requestInQueue:y,requestingCount:m,cost1:_,cost2:b,cost3:S,cost4:w,cost5:C,cost6:x}){Math.random()<.05&&setTimeout((()=>{var k=mt.currentNetworkType,I=R.appType+1e3,P=R.appLaunchInfo&&void 0!==R.appLaunchInfo.scene?R.appLaunchInfo.scene:0,A=[e,Nt(JSON.stringify(t)),r?1:0,n,o,k,Nt(a),I,P,Dt(),Bt(),i&&Nt(i)||"",s?1:0,c,_,b,S,w,C,x,0,y?1:0,m,n,u,l,f,d,h,g,v].map(jt(1024)).join(",");p.reportKeyValue({key:"WeAppOperateWXData",value:A})}),0)}const vr=o.asyncToGenerator;var yr=c.n(vr);function mr(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}var _r=(()=>Object.assign)();function br(e){return(t={})=>new Promise(((r,n)=>{e(_r(t,{success:r,fail:n}))}))}var Sr=/(?=[A-Z])/;function wr(){return R.appLaunchInfo&&"singlePage"===R.appLaunchInfo.mode}var Cr=(()=>JSON.parse)(),xr=e=>({keepAlive:t,apiName:r,reqData:n,sdkApiName:o,pluginId:a,success:i,fail:s,complete:c,fromComponent:u=!1,withCredentials:l=!1,showConfirm:p=!1,timeout:f=18e4,fromSaaADataPipe:d=!1,saaaMock:h=!1,contextId:g}={})=>{if(!xe||d||h){if(at("operateWXData",{apiName:r,success:i,fail:s,complete:c},{apiName:""})){var v={success:i,fail:s,complete:c};o=o||"operateWXData";var y={api_name:r,data:n||{},operate_directly:e};"string"==typeof a&&(y.plugin_appid=a),!0===u&&(y.from_component=!0),!0===l&&(y.with_credentials=!0),!0===p&&(y.show_confirm=!0),y.fromSaaADataPipe=d,Oo({keepAlive:t,data:y,timeout:f,contextId:g,saaaMock:h,success(t){if("string"==typeof t.data)try{t.data=Cr(t.data)}catch(e){return void ct({name:o,args:v,errno:1022,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:r={}}=t;delete t.data;var{data:n,encryptedData:a,iv:s,cloud_id:u,err_no:l,signature:p,errmsg:f}=r;if(e)void 0!==n&&(t.rawData=n),t.respData=r;else if("string"==typeof n)try{t.data=Cr(n)}catch(e){return void ct({name:o,args:v,errno:1022,errMsg:`json parse error, json="${n}"`,success:!1})}else t.data={};p&&(t.signature=p),a&&(t.encryptedData=a,t.iv=s,u&&(t.cloudID=u)),d?r.base_resp?0!==r.base_resp.ret?st(o,v,r.base_resp.ret):(t.logicRet=r.logic_ret,t.logicErrmsg=r.logic_errmsg,"function"==typeof i&&i(t),"function"==typeof c&&c(t)):st(o,v,-1):"number"==typeof l&&0!==l?ct({name:o,args:v,errno:l,errMsg:f,success:!1}):("function"==typeof i&&i(t),"function"==typeof c&&c(t))},fail(e){"function"==typeof s&&s(e),"function"==typeof c&&c(e)}},{beforeAll(e){"operateWXData"!==o&&(e.errMsg=e.errMsg.replace("operateWXData",o))}})}}else st("createOperateWXData",{apiName:r,success:i,fail:s,complete:c},o+" fail: SDK暂不支持operateWXData API")},kr=xr(!1),Ir=br(kr),Pr=e=>{if(ye){var t=Object.assign({},e);t.fromSaaADataPipe=!0,t.reqData={saaaData:t.reqData,idaas_token:e.idaasSessionKey||""},kr(t)}else ur("sendSaaADataPipe",e)};class Ar{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var Er=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new Ar(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new Ar(e.stats[""]);else{var n=[],o=e.stats;me&&(o=e,n.push({path:"/",stats:Rr(t)})),Object.keys(o).forEach((e=>{if("errMsg"!==e){var t=o[e];""===e&&(e="/"),n.push({path:e,stats:new Ar(t)}),delete o[e]}})),e.stats=n}},Tr=(e={})=>{at("stat",e,{path:""})&&ur("stat",e,{beforeSuccess:t=>{Er(t,e.path)}})},Rr=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,o;if(ur("statSync",{path:e,recursive:t,success(t){Er(t,e),r=t.stats},fail(e){n=e.errMsg,o=e.errno}}),n){var a=new Error(n);throw a.errno=o,a}return r},Mr=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"];class Lr extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class Or extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}function Dr(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}var Br=Object.prototype.hasOwnProperty;function jr(e,t){return Br.call(e,t)}function Nr(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}var Fr=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function Wr(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if(jr(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}function Ur(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],o=r[1];e[n]=o}return e}),{}),o=[];for(var a in n)jr(n,a)&&o.push(`${a}=${encodeURIComponent(n[a])}`);return o.length>0?`${r}?${o.join("&")}`:e}return e}var $r=/^[-+a-zA-Z0-9]+:\/\//,qr=/(^|\/)__[-+a-zA-Z0-9]+__\//;function Vr(e,t,r=!0){if(g.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=function(e){if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t}(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return Vr(e,t.substr(2),!1);var n,o,a=t.split("/");for(n=0,o=a.length;n<o&&".."===a[n];n++);a.splice(0,n);var i=e.length>0?e.split("/"):[];i.splice(i.length-n-1,n+1);var s=i.concat(a).join("/");return g.info(`[getRealRoute] finalRoute=${s}`),s}function Gr(e){var t=e.match($r);if(!t)return e;var r=t[0];if("plugin://"===r){var n=r.length,o=e.indexOf("/",n);if(o>=0){var a=e.slice(n,o),i=R.plugins&&R.plugins[a]?R.plugins[a].provider:a;e=e.slice(0,n)+i+e.slice(o)}var s=e.indexOf("?");s<0&&(s=e.length);var c=e.slice(0,s),u=Me.Component._list[c];if(!u)throw new Lr(`Page "${c}" is not found`);e=u.is+e.slice(s)}else if("plugin-private://"===r){var l=e.indexOf("?");l<0&&(l=e.length);var p=e.slice(0,l);e="/"+Re.convertComponentAliasToRoute(p)+e.slice(l)}else{if("wx://"!==r&&"wxpage://"!==r)throw new Lr(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(r.length)}return e}function Hr(e,t,r=!0){for(;$r.test(t);)t=Gr(t);var n=Vr(e,t,r);return g.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function Kr(e){var t=e.match($r),r=e.match(qr),n="";if(t){var o=t[0];if("plugin://"===o){var a=o.length,i=e.indexOf("/",a);if(i>=0){var s=e.slice(a,i);n=R.plugins&&R.plugins[s]?R.plugins[s].provider:s}}else if("plugin-private://"===o){var c=o.length,u=e.indexOf("/",c);if(u>=0)n=e.slice(c,u)}else"wx://"===o&&(n="//")}if(r){var l=r[0];if(l.endsWith("__plugin__/")){var p=e.indexOf(l)+l.length,f=e.indexOf("/",p);if(f>=0)n=e.slice(p,f)}else l.endsWith("__wx__/")&&(n="//")}return n}function zr(e,t){var r=Kr(t);return!r||Kr(Te.convertRouteToComponentAlias(e))===r}function Jr(e){var t=e.match($r);return t?t[0]:null}var Xr=null,Qr=!1;function Yr(){if(!Qr)throw new Error("WeixinArrayBuffer not ready");return Xr}i.onLoad((()=>{Xr=c.g.WeixinArrayBuffer,Qr=!0}));var Zr={close:(e={})=>{at("close",e,{fd:""})&&ur("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if(ur("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},fstat:(e={})=>{at("fstat",e,{fd:""})&&ur("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:o}=e;n>1617e9&&(n=Math.floor(n/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),e.stats=new Ar({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:o}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,n;if(ur("fstatSync",{fd:e,fail(e){r=e.errMsg,n=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:o,lastModifiedTime:a}=e;o>1617e9&&(o=Math.floor(o/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new Ar({mode:r,size:n,lastAccessedTime:o,lastModifiedTime:a})}}),r){var o=new Error(r);throw o.errno=n,o}return t},write:(e={})=>{var t=Object.assign({},e);if(at("write",t,{fd:""}))if(t.encoding&&-1===Mr.indexOf(t.encoding))st("write",t,`invalid encoding "${t.encoding}"`);else{if(Y(t.data)){if(t.data.byteLength>10485760)return void st("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!V(t.data))return void st("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),ur("write",t)}},writeSync:({fd:e,data:t,offset:r,length:n,encoding:o,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(o&&-1===Mr.indexOf(o))throw new Or(`invalid encoding "${o}"`);if(Y(t)){if(t.byteLength>10485760)throw new Or("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!V(t))throw new TypeError("data must be a string or ArrayBuffer");var i,s,c;if("number"!=typeof a&&(a=void 0),ur("writeSync",{fd:e,data:t,offset:r,length:n,encoding:o,position:a,fail(e){i=e.errMsg,c=e.errno},success(e){s={bytesWritten:e.bytesWritten}}}),i){var u=new Error(i);throw u.errno=c,u}return s},read:(e={})=>{if(at("read",e,{fd:""}))if(Y(e.arrayBuffer)){var t=Object.assign({},e),r=Yr();_e&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),G(t.position)&&t.position<0?t.position=0:H(t.position)||K(t.position)?t.position=null:G(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var o=Number(t.offset);Number.isNaN(o)?t.offset=0:t.offset=o,ur("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){_e&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else st("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!Y(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),o=Yr();_e&&o&&o.trace&&(n.arrayBufferId=o.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),G(n.position)&&n.position<0?n.position=0:H(n.position)||K(n.position)?n.position=null:G(n.position)||(n.position=0);var a=Number(n.length);Number.isNaN(a)?n.length=0:n.length=a;var i,s,c,u=Number(n.offset);if(Number.isNaN(u)?n.offset=0:n.offset=u,ur("readSync",{...n,fail(e){s=e.errMsg,c=e.errno},success(e){i={bytesRead:e.bytesRead,arrayBuffer:r}}}),_e&&o&&o.untrace&&o.untrace(n.arrayBufferId),s){var l=new Error(s);throw l.errno=c,l}return i},ftruncate:(e={})=>{at("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),ur("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),ur("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}}},en=e=>{at("saveFile",e,{tempFilePath:""})&&ur("saveFile",e)},tn=fe("AppEnterBackground"),rn=tn.internalOnMethod;ge("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(tn.emit(e),$e("onAppEnterBackground",e))}));var nn={},on={lastShareTicket:null,get:e=>nn[e],set(e,t){var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return nn[r]={shareKey:e,shareName:t},r}};const an={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:on,emitter:new I};var sn=null;i.onLoad((()=>{i.globalShare.reusableWorkerId&&un(i.globalShare.reusableWorkerId)}));var cn,un=e=>{sn=e},ln=()=>sn;function pn(){WeixinWorker.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;if(t.data){var{cmd:r,callbackId:n,data:o}=t.data;if("callback"===r){var{result:a,errMsg:i}=o;this.emitter.emit(n,a,i)}}}}))}class fn{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new I,pn.call(this)}constructor(){if(ln())this.init(ln());else{var{workerId:e}=WeixinWorker.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var o=String(this.generateCallbackId());this.emitter.once(o,((e,t)=>{t?n(new Error(t)):r(e)}));var a={cmd:e,callbackId:o,data:t};a={data:a},WeixinWorker.postMsgToWorker(this.workerId,a)}))}}var dn=()=>cn||(cn=new fn),hn=e=>{var t,r,n=e.api.find((e=>"request"===e.name));if(n){var o=null===(t=n.req)||void 0===t?void 0:t.interpreterRules,a=null===(r=n.resp)||void 0===r?void 0:r.interpreterRules;dn().runTask("createWeAppRequestInterpreter",{rules:{req:o,res:a,exclusive:!0},appid:R.accountInfo.appId}).catch((e=>{g.error("createWeAppRequestInterpreter error:",e)}))}},gn=[],vn="default",yn=fe("apiCategoryChange");yn.onMethod,yn.offMethod;ge("sheetModeWindowStateChangedEvent",((e={})=>{$e("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==vn&&(vn="default",yn.emit({apiCategory:vn}))})),Ge("getApiCategory",(({callbackId:e},t)=>{$e("apiCategoryGot",{res:vn,callbackId:e},[t])}));var mn=null;ge("onMessageFromNavigateMiniProgram",(({extraData:e,appid:t})=>{mn={extraData:e,appid:t}}));var _n,bn=()=>mn,Sn=()=>{mn=null};dt("postMessageToReferrerMiniProgram",function(){var e=yr()((function*({extraData:e}){return lr("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}());function wn(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes((t=gn.filter((e=>![1038].includes(e))),t[t.length-1])))return"default";var t;switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),function(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(vn=e)}(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=R.isTransparentBackgroundSupport)}const Cn={emitter:new I,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};new WeakMap;var xn=e=>{for(var t in Cn.puidToPluginWX)if(Cn.puidToPluginWX[t]===e)return t},kn=e=>Cn.pluginIDs[xn(e)],In=(Object.keys,{});function Pn(){return In}Ge("getEnterAppInfo",(({callbackId:e},t)=>{$e("appEnterInfoGot",{res:Pn(),callbackId:e},[t])}));class An{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const En=(()=>new An)();var Tn,Rn,Mn;R.onReady((()=>{mt.scene=Tn=R.appLaunchInfo.scene,mt.sceneNote=R.appLaunchInfo.scene_note}));var Ln=fe("AppEnterForeground"),On=Ln.internalOnMethod;function Dn(e){e=function(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:mt.query)||{},e.path=Nr(t?e.path:mt.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?mt.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:mt.lastShareInfo=void 0),an.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(an.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&(ur("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=an.ShareInfoStorage.set(r.shareKey,r.shareName),an.ShareInfoStorage.lastShareTicket=e.shareTicket)}return 1044!==e.scene||e.chatroomUsername||(e.scene=1007),e}(e,!1),In=e;var t=function(e={},t){var r,n,o;0===(e=Object.assign({},e)).scene?e.scene=_n:_n=e.scene;var a=e.scene;1003===a?a=1089:1131===a||1158!==a&&1159!==a&&1160!==a||!Vn("getGroupToolbarInfo")&&(a=1008),[1106,1005,1006,1027,1042].indexOf(a)>-1&&(e.referrerInfo.appId=null),1092===a&&"wxf8df44389465ee03"===(null===(r=e.referrerInfo)||void 0===r||null===(n=r.privateExtraData)||void 0===n?void 0:n.targetAppId)&&(a=1037);var i=bn();Sn();var s=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:null!==(o=e.referrerInfo.extraData)&&void 0!==o?o:i&&i.appid===e.referrerInfo.appId?i.extraData:void 0}:{};1092===a&&s.extraData&&s.extraData.csSessionId&&s.extraData._reportInfo&&(void 0===d||d.shouldStartReport()&&!d.shouldUpdateReportInfo(s.extraData.csSessionId)||(g.info("ca report startegy:",s.extraData._reportInfo),d.convertReportInfo2Strategys(s.extraData._reportInfo),d.startActionChainReport(),d.setSessionId(s.extraData.csSessionId),d.setEventJoinInterval(s.extraData._reportInfo.eventJoinInterval),d.setAsyncCallbackJoinEventInterval(s.extraData._reportInfo.asyncCallbackJoinEventInterval),d.setReportSetting({reportCache:s.extraData._reportInfo.reportCache,reportInterval:s.extraData._reportInfo.reportInterval}),d.protectActionReporter(),hn(s.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId&&(e.referrerInfo.appId&&(s.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var c={path:e.path,query:e.query,scene:a,shareTicket:e.shareTicket,referrerInfo:s};e.chatroomUsername&&1156===a&&(c.chatroomUsername=e.chatroomUsername),e.chatType&&(c.chatType=e.chatType);var u,l,p=e.nativeExtraData||{};return e.hostExtraData&&(c.hostExtraData=e.hostExtraData),p.location&&(c.locationInfo=p.location),(Ae()||Ee())&&(e.nativeExtraData&&(c.nativeExtraData=e.nativeExtraData),null!==(u=e)&&void 0!==u&&null!==(l=u.referrerInfo)&&void 0!==l&&l.privateExtraData&&(c.privateExtraData=e.referrerInfo.privateExtraData),c.sessionId=e.sessionid||e.sessionId,c.isLaunch=e.isLaunch,e.isLaunch&&(c.prerender=!!R.prerender),c.clickTimestamp=e.clickTimestamp,c.preloadType=t),Ae()&&(e.isLaunch?c.userConfig=R.userConfig:c.userConfig=e.userConfig),e.mode&&(c.mode=e.mode),e.apiCategory&&(c.apiCategory=e.apiCategory),1173===a&&(p.mimeType?c.forwardMaterials=[{type:p.mimeType,path:p.materialPath,name:p.materialName,size:p.materialSize}]:Array.isArray(p.materials)&&(c.forwardMaterials=p.materials)),1226===a&&p.iot&&(c.iot=p.iot),e.isTransparentBackgroundSupport&&(c.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),c.referrerInfo&&"wxb6d22f922f37b35a"===c.referrerInfo.appId&&(c.referrerInfo={}),c}(e);e.__public=function(e,t=""){if(Kr(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),Ee()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}(t,""),g.info("[EnterOptions] set enterOptions by onAppEnterForeground"),function(e){e}(t),En.set("api_call_from_hot_boot_time",Date.now(),!0),Ln.emit(e),mt.scene=e.scene,mt.sceneNote=e.scene_note}var Bn=e=>e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess;ge("onAppEnterForeground",((e={})=>{if(me)if(Bn(e)){var t=JSON.stringify(e.referrerInfo.extraData);if(Rn!==t)return void(Rn=t);Rn=t,e.scene=Tn,delete e.referrerInfo}else Tn=e.scene;else if(_e)if(1038===e.scene){if(Bn(e))return void(Mn=!0);var r;null!=e&&null!==(r=e.referrerInfo)&&void 0!==r&&r.appId?(Mn=!1,Tn=e.scene):Mn?e.scene=Tn:Tn=e.scene}else Tn=e.scene;var n=e.debugLaunchInfo||{};Object.assign(e,n),delete e.debugLaunchInfo;var o=1===e.reLaunch||!0===e.reLaunch;g.info(`[onAppEnterForeground] isReLaunch=${o}`),(e=>{gn.push(e)})(e.scene),wn(e);var a=Jr(e.path);if("wxpage://"===a&&(e.path="__wx__/"+e.path.slice(a.length)),o){var i=t=>{g.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${R.prerender}`),"appLaunch"!==t.openType||!0!==R.prerender?(g.info("[onAppEnterForeground] emit enterForeground"),Dn(e)):an.emitter.once("onAppRoute",i)};an.emitter.once("onAppRoute",i)}else Dn(e);$e("onAppEnterForeground",e)}));var jn,Nn={},Fn={},Wn={},Un=0;R.onReady((()=>{rn((()=>{Un=1})),On((()=>{Un=0}))}));var $n=Object.keys(M).map((e=>M[e])),qn=(e,t)=>{for(var r=0;r<$n.length;r++){var n=$n[r],o=1===e[n]||4===e[n];t[n]=o}};ge("onPermissionUpdate",(e=>{qn(e.bg,Nn),qn(e.fg,Fn)})),R.onReady((()=>{ur("getPermissionBytes",{indexes:$n,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?((e=>{for(var t=0;t<e.length;t++){var r=$n[t];Nn[r]=1===e[t].bg||4===e[t].bg,Fn[r]=1===e[t].fg||4===e[t].fg}})(e.permissionBytesForRunningStatus),jn=1):e.permissionBytes&&(jn=0,((e,t)=>{for(var r=0;r<e.length;r++)t[$n[r]]=1===e[r]||4===e[r]})(e.permissionBytes,Wn))},fail(e){g.error("getPermissionBytes failed",e)}})}));var Vn=e=>{var t,r=M[e];if("number"!=typeof r)return!1;if(!H((t=0===jn?Wn:0===Un?Fn:Nn)[r]))return t[r];var n=!1;return ur("getPermissionBytes",{indexes:[r],success(e){e.permissionBytes&&(0===jn?(n=1===e.permissionBytes[0]||4===e.permissionBytes[0],Wn[r]=n):(Nn[r]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,Fn[r]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),n},Gn=null,Hn=new Proxy({},{get(e,t,r){if(!Gn)throw new Error("NativeGlobal not ready");return Reflect.get(Gn,t,r)},set(e,t,r,n){if(!Gn)throw new Error("NativeGlobal not ready");return Reflect.set(Gn,t,r,n)}});function Kn(e){i.onLoad((()=>{e(Hn)}))}i.onLoad((()=>{Gn="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const zn=Hn;var Jn=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(R.expt)){var t=R.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}ur("getABTestConfig",e)},Xn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],Qn=[{match:/^connectSocket/,version:1},{match:/^request/,version:me?3:1},{match:/^downloadFile/,version:me?3:1}];function Yn(e,t){Qn.push({match:e,version:t})}var Zn=!1;R.onReady((()=>{var e=zn.fs;if(e&&e.FileReader){var t=!1,r=_e?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";Jn({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Yn(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=Vn("bindingReadFile");Zn=t||n,g.info(`${Zn?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var eo=(e={})=>{if(at("readFile",e,{filePath:""}))if(H(e.encoding)||V(e.encoding))if(H(e.position)||G(e.position))if(H(e.length)||G(e.length))if(Zn){var t,r=zn.fs;(t=e.workerId&&i.env.isWorker?new r.FileReader(e.workerId):new r.FileReader).onerror=t=>st("readFile",e,t),t.onread=t=>ct({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else ur("readFile",e);else st("readFile",e,`invalid length: ${e.length}`);else st("readFile",e,`invalid position: ${e.position}`);else st("readFile",e,`invalid encoding: ${e.encoding}`)},to=(e={})=>{at("writeFile",e,{filePath:""})&&(e.encoding&&-1===Mr.indexOf(e.encoding)?st("writeFile",e,`invalid encoding "${e.encoding}"`):ur("writeFile",e,{}))},ro=(e={})=>{at("mkdir",e,{dirPath:""})&&ur("mkdir",e)},no=(e={})=>{at("access",e,{path:""})&&ur("access",e)},oo=(e={})=>{at("unlink",e,{filePath:""})&&ur("unlink",e)},ao="readZipEntry",io=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],so={saveFile:en,saveFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if(ur("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},getSavedFileList:(e={})=>{ur("getSavedFileList",e)},getSavedFileInfo:(e={})=>{at("getSavedFileInfo",e,{filePath:""})&&ur("getSavedFileInfo",e)},removeSavedFile:(e={})=>{at("removeSavedFile",e,{filePath:""})&&ur("removeSavedFile",e)},getFileInfo:(e={})=>{if(at("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=Z(e,{digestAlgorithm:""});if(t)return void st("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void st("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}ur("getFileInfo",e,{})}},readFile:eo,readFileSync:(e,t,r,n,o)=>{if(!e||!V(e))throw new Or(`invalid filePath: ${e}`);if(!H(t)&&!V(t))throw new Or(`invalid encoding: ${t}`);if(!H(r)&&!G(r))throw new Or(`invalid position: ${r}`);if(!H(n)&&!G(n))throw new Or(`invalid length: ${n}`);if(Zn){var a=zn.fs;try{return o&&i.env.isWorker?a.readFileSync(e,t,o):a.readFileSync(e,t)}catch(c){throw new Error(c)}}var s,c,u;if(ur("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){s=e.data},fail(e){c=e.errMsg,u=e.errno}}),c){var l=new Error(c);throw l.errno=u,l}return s},writeFile:to,writeFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===Mr.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,o;if(ur("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,o=e.errno}}),n){var a=new Error(n);throw a.errno=o,a}},mkdir:ro,mkdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if(ur("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},rmdir:(e={})=>{at("rmdir",e,{dirPath:""})&&ur("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,n;if(ur("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},readdir:(e={})=>{(we||"wxfile://"!==e.dirPath)&&(!we||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?at("readdir",e,{dirPath:""})&&ur("readdir",e):st("readdir",e,"path permission denied")},readdirSync:e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if(ur("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}return t},access:no,accessSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if(ur("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},unlink:oo,unlinkSync:e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if(ur("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},stat:Tr,statSync:Rr,unzip:(e={})=>{var{zipFilePath:t}=e;t=""+t,at("unzip",e,{zipFilePath:""})&&ur("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},copyFile:(e={})=>{at("copyFile",e,{srcPath:"",destPath:""})&&ur("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if(ur("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},rename:(e={})=>{at("rename",e,{oldPath:"",newPath:""})&&ur("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if(ur("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},appendFile:(e={})=>{at("appendFile",e,{filePath:""})&&(e.encoding&&-1===Mr.indexOf(e.encoding)?st("appendFile",e,`invalid encoding "${e.encoding}"`):ur("fs_appendFile",e,{}))},appendFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===Mr.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,o;if(ur("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,o=e.errno}}),n){var a=new Error(n);throw a.errno=o,a}},readZipEntry:(e={})=>{at(ao,e,{filePath:""})&&(H(e.encoding)||-1!==Mr.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?ur(ao,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${ao}:ok`:e.entries[t].errMsg=`${ao}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):st(ao,e,"invalid entries"):st(ao,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);at("open",e,{filePath:""})&&(void 0===e.flag||io.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),ur("open",t)):st("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,n,{filePath:o}=e,{flag:a}=e;if(!o||"string"!=typeof o)throw new TypeError("filePath must be a string");if(void 0!==a&&!io.includes(a))throw new Or(`invalid flag: ${a}`);if(void 0===a&&(a="r"),ur("openSync",{filePath:o,flag:a,fail(e){r=e.errMsg,n=e.errno},success(e){t=e.fd}}),r){var i=new Error(r);throw i.errno=n,i}return t},truncate:(e={})=>{at("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),ur("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),ur("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var o=new Error(r);throw o.errno=n,o}},readCompressedFile:(e={})=>{at("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&ur("readCompressedFile",e)},readCompressedFileSync:({filePath:e,compressionAlgorithm:t}={})=>{if(!V(e))throw new Or(`invalid filePath: ${e}`);if(!V(t))throw new Or(`invalid compressionAlgorithm: ${t}`);var r,n,o;if(ur("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){n=e.errMsg,o=e.errno}}),n){var a=new Error(n);throw a.errno=o,a}return r}},co={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},uo={openSync:!0,truncateSync:!0},lo="",po="",fo="";R.onReady((()=>{try{lo=R.env.USER_DATA_PATH,po=R.env.OPEN_DATA_PATH,delete R.env.OPEN_DATA_PATH,fo=lo+"/__plugins__",ye?"http://ad":"wxfile://ad"}catch(e){}}));var ho,go,vo,yo=()=>lo,mo=()=>po,_o=()=>fo,bo=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),So=function(e,t,r,n){return(...o)=>{var a,i=t.endsWith("Sync"),s=!i||uo[t]?o[0]:o,c=co[t].every((e=>{var o=((e,t,r,n)=>{var o=yo(),a=mo(),i=_o();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||wr()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!bo.has(n)||!e.startsWith(o)||e:"game"===t||"app"===t?!(e.startsWith(a)||e.startsWith(i)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(a)?e:!e.startsWith(o)||!!e.startsWith(`${i}/${r}`)||e:e)})(s[e],r,n,t);return!0===o||(a=o,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||co[t].forEach((e=>{"string"!=typeof s[e]||s[e].match(/^[a-zA-Z0-9]+:\/\//)||(s[e]=function(e,t=""){return Gr(`plugin-private://${e}/${t=t.replace(/^\//,"")}`)}(n,s[e]))})),c)return e(...o);if(i){var u=new Error(`${t}:fail permission denied with path "${a}"`);throw u.errno=ot,u}ct({success:!1,name:t,args:s,errno:ot,errMsg:`permission denied with path "${a}"`})}},wo=(e,t="")=>{var r={},n=new Set;return function(e,t,r,n){Object.keys(e).forEach((o=>{H(co[o])||(K(co[o])?t[o]=(...t)=>e[o](...t):t[o]=So(e[o],o,r,n))}))}(so,r,e,t),function(e,t,r){Object.keys(e).forEach((n=>{var o=e[n];t[n]=(e={})=>{var{fd:t}=e;if(r.has(t))return o(Object.assign({},e,{fd:t}));if(n.endsWith("Sync"))throw new Error(`${n}:fail invalid fd`);st(n,e,"invalid fd")}}))}(Zr,r,n),function(e,t){var r=e.open,n=e.openSync,o=e.close,a=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;o(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;a({fd:r}),t.delete(r)}}(r,n),r},Co=()=>(ho||(ho=wo("app")),ho),xo=!1,ko=()=>new Promise((e=>{var t="login";xo?e({success:!0,code:go,token:vo,msg:`${t}: success`}):Co().readFile({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:r=>{var n={};try{n=JSON.parse(r.data)}catch(r){return void e({success:!1,msg:`${t}:fail app.miniapp.json json parse failed`})}var o=n.tempWxLoginCode;"string"==typeof o&&o.length>0||(o=void 0);var a=n.mockWithWxLoginToken;"string"==typeof a&&a.length>0||(a=void 0),e({success:!0,code:o,token:a,msg:`${t}: success`}),xo=!0,go=o,vo=a},fail(){e({success:!1,msg:`${t}:fail get app.miniapp.json failed`}),xo=!0}})})),Io={ILLEGAL_URL:-2005,NOT_LIMITS:-1024,NOT_LIMITS_QY:-1025,NOT_LIMITS_CARD:-1026,NOT_LOGIN:41001,INVALID_TOKEN:40001,INVALID_LOGIN:42001,NEED_CONFORM:-12e3,AUTH_DENY:-12006,SCOPE_UNAUTHORIZED:-12007,INVALID_CODE:10010,INVALID_CARD_ID:10023};function Po(){return Po=yr()((function*(e,t,r,n){var o=yield ko(),a=n.scopeList;return Pr({apiName:"jsoperatewxdata",reqData:JSON.stringify({data:JSON.stringify(t.data||{}),grant_scope:a[0].scope,opt:1,token:o.token}),success:t=>{console.warn("operateWXDataConfirm",t);var n=t.data;return r({errMsg:`${e}:ok`,data:JSON.parse(n.data)})},fail:t=>{console.error("operateWXDataConfirm",t),r({errMsg:`${e}:fail response fail`})}})})),Po.apply(this,arguments)}function Ao(){return Ao=yr()((function*(e,t,r){var n=yield ko(),o={data:JSON.stringify(t.data||{}),token:n.token};return"webapi_plugin_setauth"===t.data.api_name&&(o.ext_info={source_env:2}),Pr({apiName:"jsoperatewxdata",reqData:JSON.stringify(o),success:n=>{var o=0,a="";if(void 0!==n.logicRet&&0!==n.logicRet)return o=n.logicRet,a=n.logicErrmsg,void r({errMsg:`${e}:fail ${a}, errCode: ${o}`});try{var i=JSON.parse(n.data),s=i.baseresponse;if(s){var c=i.baseresponse.errcode;if(0===c){var u=JSON.parse(i.data);return r({errMsg:`${e}:ok`,data:u})}return console.warn("jsoperatewxdata fail:",n),c===Io.NEED_CONFORM?function(e,t,r,n){return Po.apply(this,arguments)}(e,t,r,{imageUrl:i.appicon_url,appName:i.appname,scopeList:[i.scope]}):c===Io.SCOPE_UNAUTHORIZED?r({errMsg:`${e}:fail ${s.errmsg}`}):r({errMsg:`${e}:fail ${s.errmsg}`,err_code:c})}var l=n.logicErrmsg||n.errMsg||"no baseresponse";r({errMsg:`${e}:fail ${l}`}),console.error("jsoperatewxdata fail:",n)}catch(t){console.error("operateWXData mock fail",n),r({errMsg:`${e}:fail ${t}`})}},fail:t=>{console.error("operateWXData mock ",t);var n=t.errMsg||"response fail";r({errMsg:`${e}:fail ${n}`})}})})),Ao.apply(this,arguments)}function Eo(e,t,r,n={}){"operateWXData"!==e?(console.error(`invokeMiniapp ${e} not support`),r({errMsg:`${e}:fail response fail`})):function(e,t,r){Ao.apply(this,arguments)}(e,t,r)}var To=0,Ro=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],Mo=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile","webapi_getiapbuyinfo","jsapi_querysettlementmark","webapi_createiapbuygamecoinorder","wxaapi_midascouponsrollback","webapi_closeiapbuyorder","webapi_createiapbuygameitemorder","wxaapi_midasgetcoupons","webapi_queryiapcoupons","webapi_createmidascoinorder","webapi_getiapinfocreateitemorder","webapi_getiapinfocreatecoinorder","webapi_getopencommconf"],Lo=["qbase_commapi","webapi_botdemo"],Oo=(e={},t={},...r)=>{var n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var o=t.beforeAll,a=t.beforeSuccess,i=t.beforeFail,s=n.data&&n.data.api_name;if(Ro.includes(s)?(n.requestInQueue=!0,delete n.timeout):n.requestInQueue=!1,Mo.includes(s)?n.isImportant=!0:n.isImportant=!1,Lo.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0),xe&&e.saaaMock){var c="operateWXData",u=tr(n,c,{},...r);Eo(c,n,u)}else if(!xe||e.data.fromSaaADataPipe){var l={isSuccess:void 0,WXDataApiName:s,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++To};ur("operateWXData",n,{beforeAll(e){var r=Date.now();To--,l.costTime=r-l.invokeTime;try{if(e&&e.data&&e.data.data?l.result=JSON.stringify(e.data):l.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;delete e.clientInfo,Object.keys(n).forEach((e=>{l[e]=n[e]})),l.cost1=n.wxdataQueueTimestamp-l.invokeTime,l.cost2=n.wxdataDequeueTimestamp-n.wxdataQueueTimestamp,l.cost3=n.beginCGITimestamp-n.wxdataDequeueTimestamp,l.cost4=n.CGICallbackTimestamp-n.beginCGITimestamp,l.cost5=n.wxlibCallbackTimestamp-n.CGICallbackTimestamp,l.cost6=r-n.wxlibCallbackTimestamp}}catch(e){g.error(e)}"function"==typeof o&&o.call(t,e)},beforeSuccess(e){l.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof a&&a.call(t,e),gr(l)},beforeFail(e){l.isSuccess=!1,l.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof i&&i.call(t,e),gr(l)}},...r)}else st("operateWXData",e,e.api_name+" fail: SDK暂不支持operateWXData API")};const Do={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,startFacialEncryptionVerify:null,startFacialEncryptionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null};const Bo={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,startFacialEncryptionVerify:20,startFacialEncryptionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30};const jo={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1};const No={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:10,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:30,openChannelsActivity:30,openChannelsUserProfile:30,openChannelsLiveCollection:30,openChannelsEvent:30,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0,addAccountCard:20};const Fo={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10};const Wo={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1};var Uo=Object.create(null);Object.assign(Uo,{openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,createBLEPeripheralServer:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,getAccountInfoSync:10,onAppShow:10,onAppHide:10,base64ToArrayBuffer:10,arrayBufferToBase64:10,version:10,cloud:10});const $o=Uo;var qo=Object.create(null);Object.assign(qo,{sample:Do,ui:Bo,log:jo,tap:No,singlePage:Fo,thirdApp:Wo,background:$o});var Vo=(e,t)=>qo[t][e],Go=!1;function Ho(){return Go||Te.checkTapMark()||__glassEaselAdapter__.checkTapMark()}function Ko(e){var t,r=Vo(e,"thirdApp");return 0!==r&&1!==r||(!(t=R.host)||"WeChat"===t.env||"WMPF"===t.env)||1===r&&Ho()&&ur("showToast",{icon:"",title:"暂不支持当前功能",duration:2500}),!0}var zo=null;function Jo(e,t){var r=Pn(),n=[r.scene||0,r.scene_note||r.sceneNote||"",e||0,t||Date.now()].map(encodeURIComponent).join(",");p.reportKeyValue({key:"ClickWechatAppPreviewPage",value:n})}var Xo={};class Qo{constructor(){this.listener={},this.emitCache={}}emit(e,...t){if(!this.listener[e])return this.emitCache[e]||(this.emitCache[e]=[]),void this.emitCache[e].push(t);(()=>{for(var r of this.listener[e])r.fn.call(r.fn,...t);this.listener[e]=this.listener[e].filter((e=>"once"!==e.type))}).call(this)}_clearCache(e){if(this.emitCache[e])for(;this.emitCache[e].length>0;)this.emit(e,...this.emitCache[e].shift())}on(e,t){var r=l.surroundThirdByTryCatch(t,`at on ${e} callback function`);this._addListener(e,"on",r),this._clearCache(e)}once(e,t){var r=l.surroundThirdByTryCatch(t,`at once ${e} callback function`);this._addListener(e,"once",r),this._clearCache(e)}off(e,t){if(this.listener[e])if(t){var r=t.toString();for(var n in this.listener[e])for(var o=0;!(o>=this.listener[e].length);)r===this.listener[e][o].fn.toString()&&(this.listener[e].splice(o,1),o--),o++}else this.listener[e]=[],delete this.listener[e]}_addListener(e,t,r){this.listener[e]||(this.listener[e]=[]),this.listener[e].push({fn:r,type:t})}}new WeakMap;var Yo,Zo={},ea=(e,t={})=>{if(!Zo[e]||t.noCache){var r={},n={},o={},a={on:(t,n)=>{r[t]&&console.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),r[t]=n,o[t]&&(o[t].forEach((e=>{n(e)})),delete o[t])},subscribe:(t,a)=>{r[t]&&console.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),n[t]||(n[t]=[]),n[t].push(a),o[t]&&(o[t].forEach((e=>{a(e)})),delete o[t])},publish:(e,t)=>{var o,a;return(o=r[e])?(o(t),!0):!!(a=n[e])&&(a.forEach((e=>e(t))),!0)},advancePublish:(e,t,r=!1)=>{(r?a.publish(e,t):ta(e,t))||(o[e]||(o[e]=[]),o[e].push(t))},off:e=>{r[e]=null}};return Zo[e]=a,a}console.warn(`已经存在分包EM ${e}`)},ta=(e,t,r,n)=>{var o=Zo[e];o&&(n?o.advancePublish(t,r):o.publish(t,r))},ra=(e={})=>{var{runCount:t,runCostAverage:r,runError:n,createError:o,isBinding:a,version:i,runErrorRate:s,createSessionParams:c,sessionId:u,resultType:l,createErrno:f,runErrno:d}=e;a=a?1:0,n||(n=""),o||(o="");var h=[t,r,encodeURIComponent(n),encodeURIComponent(o),a,i,s,u,encodeURIComponent(c),l,f,d].map(jt(1024)).join(",");p.reportKeyValue({key:"WeAppXNetInvoke",value:h})},na=((e,t)=>{var r;return function(n,...o){if(r)n.success&&n.success(r),n.complete&&n.complete(r);else{var a=n.success,i=n.complete;n.success=e=>{r=t(e),a&&a(e),i&&i(e)},e(n,...o)}}})(((e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else ur("getInferenceEnvInfo",e)}),(e=>({ver:e.ver}))),oa=new WeakMap;class aa{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,r=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:re(),runErrno:0,createErrno:0};var n=!0;if(!1===e.asyncCreateSession&&(n=!1),this.em=ea("XnetBinding",{noCache:!0}),Yo=zn.XInference,this.getVersionTask=new Promise((e=>{na({success(t){e(t.ver),r.getVersionTask=t.ver},fail(){e("-1"),r.getVersionTask="-1"}},Yo)})),g.warn("asyncCreateSession: ",n),n){Yo.CreateAsync(((e,t)=>{if(e){var r={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(r),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}oa.set(this,t),this.sessionId=t;var n={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(n),this.em.advancePublish("onLoad",void 0,!0)}),e)}else{var o={...e};["success","fail","complate"].forEach((e=>{o[e]&&delete o[e]}));try{var a=Yo.CreateSession(o);a&&(oa.set(this,a),this.sessionId=a,this.em.advancePublish("onLoad"));var i={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(i)}catch(e){var s={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(s),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),r=this;return new Promise(((n,o)=>{var a={session:this.sessionId,inTensors:e};try{Yo.RunAsync((function(e,a){r.reportInfo.runCount++;var i=Date.now()-t;if(r.reportInfo.runCostAverage=(r.reportInfo.runCostAverage*(r.reportInfo.runCount-1)+i)/r.reportInfo.runCount,e)return r.reportInfo.runErrorMsg=e.errMsg,r.reportInfo.runErrno=e.errno,void o({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(a)){var c=a[s].data;c&&ArrayBuffer.isView(c)&&(a[s].data=c.buffer)}n(a)}),a)}catch(e){return void o(e)}}))}destroy(){var e=new Promise(((e,t)=>{var r={session:this.sessionId};try{Yo.ReleaseAsync((function(r,n){r?t(r):e(n)}),r)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,Q(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,ra(e)})):(e.version=this.getVersionTask,ra(e))}get operator(){return{}}}class ia{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){X(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==l)l.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==v)v.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}var sa,ca=JSON.parse,ua=JSON.stringify,la=R.SDKVersion,pa=e=>{var t=ve;_e&&(e.brand="iPhone"),ye&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=la,e.enableDebug=Boolean(R.debug),R.devicePixelRatio&&(e.devicePixelRatio=R.devicePixelRatio),R.theme&&(e.theme=R.theme),R.host&&(e.host=R.host),R.appLaunchInfo&&R.appLaunchInfo.mode&&(e.mode=R.appLaunchInfo.mode),me&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),wr()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),ke&&(e.renderer="h5")},fa=()=>{R.isReady||(new Error).stack},da=()=>{var e={};return va({success(t){delete t.errMsg,e=t}}),e},ha=()=>sa||(sa=Object.assign({},da())),ga=e=>{delete(sa=Object.assign({},e)).errMsg},va=((e,t)=>{var r;return(n={})=>{var{success:o,fail:a}=ut(n,e);if(r){var i={};try{i=ca(r)}catch(e){g.error("constructCachedOptimizedSyncApi parse error",e.message)}o(i)}else t(Object.assign({},n,{success(e){try{r=ua(e)}catch(e){g.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{r=void 0})),o(e)},fail(e){r=void 0,a(e)},complete:void 0}))}})("getSystemInfo",(e=>{fa();ur("getSystemInfo",e,{beforeSuccess:e=>{pa(e),ga(e)}})})),ya=JSON.parse,ma=JSON.stringify,_a=((e,t,{timeout:r}={timeout:1e4})=>{var n,o=null;return(a={})=>{var i,{success:s,fail:c}=ut(a,e);null===o?(i=!1,o=new Promise(((n,o)=>{t(Object.assign({},a,{success:n,fail:o,complete:void 0})),setTimeout((()=>{o({errMsg:`${e}:fail time out`,errno:5})}),r)}))):i=!0,o.then((e=>{if(o=null,i){var t={};try{t=ya(n)}catch(e){g.error("constructCachedOptimizedApi parse error",e)}s(t)}else{try{n=ma(e)}catch(e){g.error("constructCachedOptimizedApi stringify error",e)}s(e)}})).catch((e=>{o=null,c(e)}))}})("getSystemInfoAsync",(e=>{R.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),fa());var t=R.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";ur(t,e,{beforeSuccess:e=>{pa(e),ga(e)}})})),ba=null,Sa=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];R.onReady((()=>{ba={};for(var e=0;e<Sa.length;e++){if(!(Sa[e]in R)){ba=ha();break}ba[Sa[e]]=R[Sa[e]]}if(R.screenHeight&&R.screenWidth)R.screenWidth,R.screenHeight;else{var t=ha();t.screenWidth,t.screenHeight}}));var wa,Ca,xa,ka=(...e)=>{if(wa)return wa;if(!0===e[0]){if(ba)return ba;wa=da()}else wa=da();return wa},Ia=new WeakMap,Pa=new WeakMap;class Aa{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(xa=new Promise((e=>{na({success(t){e(t.ver),xa=t.ver},fail(){e("-1"),xa="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:re(),createErrno:0,runErrno:0,runErrorCount:0},Pa.set(this,new ia("AI",!0)),!Ca){var r=da();Ca=r.version}"8.0.37"===Ca&&me?setTimeout((()=>{this.notSupport=!0,Pa.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):ur("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{Ia.set(this,e),Pa.get(this).emit("Load"),Ea({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{Pa.get(this).emit("Error",e)})),Ea({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){Pa.get(this).on("Load",e)}offLoad(e){Pa.get(this).off("Load",e)}onError(e){Pa.get(this).on("Error",e)}offError(e){Pa.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=Yr(),r={input:{},sessionId:Ia.get(this)};for(var n in e){var o,a;null!==(o=e[n])&&void 0!==o&&o.data&&null!==(a=e[n])&&void 0!==a&&a.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{var o=Date.now(),a=this.reportInfo;a.runCount++,ur("runInferenceSession",Object.assign(r,{success({output:r}){var n=Date.now()-o;for(var i in a.runCostAverage=(a.runCostAverage*(a.runCount-1)+n)/a.runCount,r){var s;if("number"==typeof(null===(s=r[i])||void 0===s?void 0:s.data)){var c=r[i].data;r[i].data=t.getTraceBuffer(c),t.untrace(c)}}e(r)},fail:e=>{a.runErrorCount++,a.runErrorMsg=null==e?void 0:e.errMsg,a.runErrno=null==e?void 0:e.errno,n(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};Ea(e),ur("releaseInferenceSession",{sessionId:Ia.get(this)}),Pa.delete(this),Ia.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};Ea(e)}}var Ea=e=>{e.isBinding=!1,Q(xa)?xa.then((t=>{e.version=t,ra(e)})):(e.version=xa,ra(e))};var Ta=!1;c.g.__isAppServiceRemoteDebugMode__||Kn((e=>{R.onReady((()=>{var e=me?"clicfg_appbrand_android_xnet_binding":0;1===e?Ta=!0:Jn({experimentId:e,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(g.info("[xnet expt] run binding"),Ta=!0)}})}))}));var Ra,Ma;function La(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function Oa(e,t,r,n,o={},a=1){var i,s={},c={func:t,args:o};s.createSessionParams=JSON.stringify(c,La),s.runError=r,s.runCount=a,s.version=(Ra=Ra||zn.XInference,Ma=Ma||(null===(i=Ra)||void 0===i?void 0:i.GetInferenceEnvInfo().ver)||"0.0.0"),s.resultType=4,s.isBinding=e,s.runCostAverage=n,ra(s)}var Da="",Ba=!1,ja=fe("networkstatusChange"),Na=fe("networkWeakChange"),Fa=fe("networkTypeReady"),Wa=e=>{ur("getNetworkType",e)},Ua=ja.onMethod,$a=(ja.offMethod,Na.onMethod),qa=(Na.offMethod,()=>Da),Va=Fa.onMethod,Ga=()=>Ba;"undefined"!=typeof IS_SDK_PACKAGE||(ce("onNetworkStatusChange",((e={})=>{Da=e.networkType,e.signalStrength,mt.currentNetworkType=Da,ja.emit(e),$e("onNetworkStatusChange",e)})),ce("onNetworkWeakChange",((e={})=>{Na.emit(e)}))),R.onReady((()=>{R.networkType&&(Da=R.networkType),Wa({success(e){Da=e.networkType,e.signalStrength,mt.currentNetworkType=Da,Ba=e.hasSystemProxy,Fa.emit(Da)}})}));var Ha,Ka=0,za=[],Ja=Math.random,Xa=new Set;R.onReady((()=>{Ha=Date.now()}));var Qa=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:za,appType:p.getAppType()},null,2);ur("reportRealtimeAction",{actionData:e}),za=[]},Ya=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var o=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=o}catch(e){}})),t},Za=(e,t,r,n,o,a,i,s=0,c=0,u={},l=0,f={},d,h=!0,g=void 0,v=0,y={})=>{var m;t.length>1024&&(t=t.substring(0,1024));var _="",b="",S=0,w="";if(S=mt.scene,w=mt.sceneNote,void 0!==Re){var C=Re.getCurrentPages();if(C&&C.length>0){var x=C[C.length-1];x&&(_=x.route,b=x.__displayReporter&&x.__displayReporter.showOptions&&x.__displayReporter.showOptions.query)}}!g&&o&&/超时|timeout/.test(o)&&(g=5);var k=JSON.stringify(f),I=[e,t,r,n,o,p.getAppType(),a,s,qa(),_,b,c,Ya(u),S,w,d,g,l,k,null===(m=R.wxAppInfo)||void 0===m?void 0:m.maxRequestConcurrent,Date.now()-Ha,v].map(encodeURIComponent).join(","),P=!1;if(n<5e3&&1==r?Ja()<.01&&(P=!0):P=!0,h||(P=!1),P){var A,E=[e,t,r,n,o,p.getAppType(),a,s,qa(),_,b,c,Ya(u),S,w,g,l,k,null===(A=R.wxAppInfo)||void 0===A?void 0:A.maxRequestConcurrent,Date.now()-Ha,v].map(encodeURIComponent).join(",");p.reportKeyValue({key:"NetworkAPI2",value:E})}p.reportKeyValue({key:"NetworkAPI",value:I}),p.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`});var{isHitRule:T,rawUrl:M,rawHost:L,enableAcc:O,host:D,accelerateId:B}=y,{domainLookUpStart:j,domainLookUpEnd:N,connectStart:F,connectEnd:W,SSLconnectionStart:U,SSLconnectionEnd:$,requestStart:q,requestEnd:V,responseStart:G,responseEnd:H,socketReused:K,peerIP:z}=u;1===T&&[1,2].includes(r)&&p.reportKeyValue({key:"AccelerateNetwork",value:[e,M,t,L,D,r,n,o,p.getAppType(),a,s,qa(),c,Ya(u),S,g,T,O,B,N-j,W-F,$-U,V-q,H-G,K?1:0,z].join(",")}),za.push([e,t,r,a||"",n,o,qa(),i?"1":"0",p.getAppType(),s].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),function(e){if(0===Xa.size)return;try{Xa.forEach((t=>t(e)))}catch(e){}}({functionName:e,keyParam:t,result:r,costTime:n,errorMsg:o,statusCode:a,dataLength:s,responseDataLength:c,profile:u,__skipDomainCheck__:i}),Date.now()-Ka>=6e4&&(Ka=Date.now(),setTimeout(Qa,6e4))};class ei{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new ei((t=>t(e)))}static reject(e){return new ei((()=>{throw e}))}}Ua((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(ti).forEach((e=>{ti[e].network!==t&&(ti[e].needUpdateDns=!0,ti[e].network=t,ti[e].doingDns=!1)}))}));var ti={};function ri(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:o,lastHost:a,lastErrorResponse:i,__innerRequestOptions__:s,__polyfill_ldns__:c,retryCount:u,exception:l}={}}){var p,f,d;!t&&null!=s&&s.__retryHttpDNS__&&(t=!0),e.header?(f=q(e.header),e.header=(d=e.header,Object.keys(d).reduce(((e,t)=>("string"==typeof d[t]?e[t]=d[t]:"number"==typeof d[t]?e[t]=d[t]+"":e[t]=Object.prototype.toString.apply(d[t]),e)),{}))):(p=!0,f="Undefined",e.header={}),"Undefined"!==f&&"Object"!==f&&(console.warn("wx.request: header must be an object"),e.header={}),p||(e.header=Object.keys(e.header).reduce(((t,r)=>{var n=r.toLowerCase();return"content-type"===n?t[n]=e.header[r]:t[r]=e.header[r],t}),{}));var h="text";e.responseType&&(h=e.responseType.toLowerCase());var g,v=e.header,y="GET";if("string"==typeof e.method&&(y=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(v["content-type"]=v["content-type"]||"application/json"),g=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==q(e.data)?v["content-type"].indexOf("application/x-www-form-urlencoded")>-1?Wr(e.data,!0):v["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):g.toString():e.data,"GET"===y&&e.data){var m=function(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?");return n[0]+"?"+Wr(Dr((n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],o=r[1];e[n]=o}return e}),{}),r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{})))}return e}(e.url,e.data);e.url=m}var _=null!=s&&s.timeout?s.timeout:e.timeout,b=null!=s&&s.retryCount?s.retryCount:0;b||(b=null!=u?u:0);var S=null!=s&&s.exception?s.exception:null;S||(S=l);var w=(null==s?void 0:s.__polyfill_ldns__)||c;return{header:v,method:y,responseType:h,dataStr:g,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:a,lastUrl:o,__retryHttpDNS__:t,lastErrorResponse:i,startTimestamp:Date.now(),timeout:_,retryCount:b,exception:S,__polyfill_ldns__:w}}}var ni={},oi={},ai={},ii=(e,t,r)=>{if(ai[e])return ai[e];var n,o=e&&e.indexOf(":");n=(n=-1!==o?e.slice(0,o):e).toLowerCase();var a=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return ai[e]=Ir(a).then((t=>{delete ai[e];var n,{wxa_state:o,ttl:a,hit_cache:i,ip_list:s=[],ip:c}=t.data;n=null!=s&&s.length?s[0]:c;var u=s.slice(1);if(0===o)return ni[e]={ip:n,expireTime:1e3*a+Date.now(),candidateIps:u},r?{...ni[e],hitCache:i}:ni[e];throw new Error(o)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete ai[e],t})),ai[e]},si=e=>{var t=ni[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null};Ua((()=>{ni={},oi={},ai={}}));var ci=Symbol("skipDNS");function ui({args:e={},host:t,skipDNS:r,banHttpDNS:n,options:o}){var a,i;if(r!==ci&&!n){var s,c,{enableHttpDNS:u,httpDNSServiceId:l}=e;if(null!==(a=o.__innerRequestOptions__)&&void 0!==a&&a.ip)return{host:t,ip:o.__innerRequestOptions__.ip,candicateIps:null===(c=o.__innerRequestOptions__)||void 0===c?void 0:c.candicateIps};if(null===(null===(i=o.__innerRequestOptions__)||void 0===i?void 0:i.ip))return{};if(!Ga()){if(!0===u&&V(l)){var p=si(t);return p&&!1===p.expired?(s=p.ip,{host:t,ip:s}):ii(t,l).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:o.retryCount?o.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:s,candicateIps:r}}))}return!0===u?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function li({host:e,ip:t,compatUrls:r}){var n=((e,t)=>{var r=oi[e];return t?!(r&&r===t||(delete oi[e],0)):(delete oi[e],!1)})(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:n}:{forbidReuse:n}}var pi,fi=c(371),di=Symbol("pre"),hi=Symbol("next"),gi=Symbol("key");class vi{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[di],r=e[hi];t&&r?(t[hi]=r,r[di]=t,this.cacheTail[hi]=e,e[di]=this.cacheTail,e[hi]=null,this.cacheTail=e):t||r&&(r[di]=null,this.cacheHead=r,this.cacheTail[hi]=e,e[di]=this.cacheTail,e[hi]=null,this.cacheTail=e)}insertCache(e,t){if(t[gi]=e,this.cacheTail?(t[hi]=null,t[di]=this.cacheTail,this.cacheTail[hi]=t,this.cacheTail=t):(this.cacheTail=t,t[hi]=null,this.cacheHead=t,t[di]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[gi]];var r=this.cacheHead[hi];r[di]=null,this.cacheHead[hi]=null,this.cacheHead[di]=null,this.cacheHead=r}else this.cacheLength++}}var yi={},mi={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316},_i=(e,t)=>{var r=mi[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):yi[e]?yi[e][r]:((e=>{if(yi[e])return yi[e];var t={},r=Object.values(mi);ur("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var o=n.pluginPermissionMap;if(o&&o[e]){for(var a=0;a<o[e].length;a++){var i=r[a];t[i]=1===o[e][a]}yi[e]=t}},fail(e){}})})(e),yi[e]&&yi[e][r])},bi=function({args:e={}}){var{ip:t}=e;if(t){var r=kn(this);return r&&_i(r,"skipDNSRequest")?{skipDNS:ci,ip:e.ip}:{}}},Si={request_host_list:"requestHostMap",socket_host_list:"socketHostMap"},wi={isHitRule:0,enableAcc:0,requestHostMap:{},socketHostMap:{}},Ci=0,xi=1,ki=2,Ii={[Ci]:"none",[xi]:"accelerate",[ki]:"disable"};R.onReady((()=>{var e,t,r,n;if("undefined"==typeof IS_WORKER||!IS_WORKER){Date.now();null==R||null===(e=R.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||t.enable_accelerate_network,((null==R||null===(r=R.appContactInfo)||void 0===r||null===(n=r.passThroughInfo)||void 0===n?void 0:n.enable_accelerate_network)||!1)&&kr({apiName:"webapi_get_oversea_accelerate_info",reqData:{},success:e=>{Date.now();var t=e.data.is_region_hit_rule,r=e.data.enable_acc;Object.assign(wi,{isHitRule:t,enableAcc:r}),1===r&&Object.keys(Si).forEach((t=>{(e.data[t]||[]).forEach((e=>{wi[Si[t]][e.host]=e.acc_host}))}))},fail:e=>{}})}}));function Pi(e){var{host:t,args:r,compatUrls:n}=e,{requestHostMap:o,isHitRule:a}=wi,{accelerateOptions:i,...s}=(({host:e,hostMap:t,compatUrls:r,args:n})=>{var{disableAccelerate:o,url:a}=n,i=t[e];if("undefined"!=typeof IS_WORKER&&IS_WORKER||o||0===wi.enableAcc||!t[e])return{accelerateOptions:{accelerateType:o?ki:Ci,enableAcc:0}};var s=e,c=a.replace(s,i);return{accelerateOptions:{accelerateType:xi,enableAcc:1},host:i,args:Object.assign({},n,{url:c}),compatUrls:Object.assign({},r,{host:i,url:c})}})({host:t,compatUrls:n,hostMap:o,args:r});return Object.assign({},s,{accelerateOptions:Object.assign({},i,{isHitRule:a,rawHost:t,rawUrl:r.url})})}var Ai=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},Ei=!1;R.onReady((()=>{_e&&1===Number(R.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(Ei=!0)}));var Ti=br(Tr),Ri=0,Mi=new WeakMap,Li=new WeakMap,Oi=new WeakMap,Di=new WeakMap,Bi=new WeakMap,ji=new WeakMap,Ni=new WeakMap,Fi=new WeakMap,Wi=new WeakMap,Ui=new WeakMap,$i=new WeakMap,qi={},Vi=new ia("Network",!0),Gi=g.createLogger("NetworkTask"),Hi=new WeakMap,Ki={},zi=new WeakMap;class Ji{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:o}){var a=Ri++;this.uniqueId=1e4*Date.now()+Math.round(9999*Math.random()),Mi.set(this,a),Oi.set(this,"waiting"),Di.set(this,e),Bi.set(this,t),Fi.set(this,r),Wi.set(this,n),X(o)&&Ui.set(this,o);var i,s,c=!1;((e=>{if(ke)return!0;if(me)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!_e)return!1;if("Request"===e&&1===Number(R.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}})(t)||(_e||me)&&e.forceCellularNetwork)&&(c=!0),$i.set(this,c);var u=new ei(((e,t)=>{i=e,s=t}));Hi.set(this,{promise:u,resolve:i,reject:s});var l=()=>{rs.call(this)?(Ni.set(this,[Date.now()]),qi[t].taskQueue.push({id:a,item:this})):Qi.call(this)};X(e.customCheck)?e.customCheck(e,(r=>{r?Xi(t,e,r):l()})):l()}abort(){if(Gi.info(`[${Bi.get(this)}][${Mi.get(this)}]abort()`),"waiting"===Oi.get(this)){Gi.info(`[${Bi.get(this)}][${Mi.get(this)}] waiting=true`);var e=qi[Bi.get(this)].taskQueue.findIndex((e=>e.id===Mi.get(this)));e>-1&&(qi[Bi.get(this)].taskQueue.splice(e,1),st(qi[Bi.get(this)].functionName,Di.get(this),"abort")),Oi.set(this,"done")}else{var t=Hi.get(this).promise,r=Di.get(this);t.then((()=>{ur(`operate${Bi.get(this)}Task`,{[`${Bi.get(this).toLowerCase()}TaskId`]:Li.get(this),operationType:"abort",contextId:r.contextId})}))}}onProgressUpdate(e){Hi.get(this).promise.then((()=>{Vi.on(`${Bi.get(this)}${Li.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){Hi.get(this).promise.then((()=>{Vi.off(`${Bi.get(this)}${Li.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){Hi.get(this).promise.then((()=>{Vi.on(`${Bi.get(this)}${Li.get(this)}headersReceived`,e)}))}offHeadersReceived(e){Hi.get(this).promise.then((()=>{Vi.off(`${Bi.get(this)}${Li.get(this)}headersReceived`,e)}))}onChunkReceived(e){Hi.get(this).promise.then((()=>{Vi.on(`${Bi.get(this)}${Li.get(this)}chunked`,e)}))}offChunkReceived(e){Hi.get(this).promise.then((()=>{Vi.off(`${Bi.get(this)}${Li.get(this)}chunked`,e)}))}}function Xi(e,t,r){ct({name:qi[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r})}function Qi(){var e=Di.get(this),t=Bi.get(this),r=$i.get(this);Oi.set(this,"sending"),ji.set(this,Date.now());var n=Yi.call(this);r?Hi.get(this).promise.then((()=>{Zi.call(this)})).catch((r=>{Xi(t,e,r)})):n?Xi(t,e,n):Li.get(this)?Zi.call(this):Hi.get(this).promise.then((()=>{Zi.call(this)}));setTimeout((()=>{Za(qi[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1)}),0)}function Yi(){var e,t=Bi.get(this),r=Di.get(this);qi[t].currentTaskCount++;var n={data:r.data,url:r.url,header:r.header,method:r.method,timeout:"number"==typeof r.timeout?r.timeout:0,enableHttp2:!0===r.enableHttp2,enableQuic:!0===r.enableQuic,enableCache:!0===r.enableCache,enableProfile:!1!==r.enableProfile,ip:r.ip,port:r.port,forbidReuse:!0===r.forbidReuse,host:r.host,enableChunked:r.enableChunked,__skipDomainCheck__:r.__skipDomainCheck__,forceCellular:r.forceCellularNetwork,contextId:r.contextId,redirect:r.redirect,success:e=>{var r=e[`${t.toLowerCase()}TaskId`];Li.set(this,r),qi[t].taskIdMap[r]=this;var n=Hi.get(this).resolve,o=Hi.get(this).promise;n(),o.then((()=>{Ki[r]&&"wait"===Ki[r].status?Ki[r].handlers.forEach((e=>e())):Ki[r]={status:"normal"}}))},fail:n=>{qi[t].currentTaskCount--;var o=n[`${t.toLowerCase()}TaskId`];e=n.errMsg,es.call(this,{taskType:t,options:r,errMsg:e,success:!1}),(0,Hi.get(this).reject)(e),Gi.error(`[${t}][createTask][Fail] taskId=${o}`),Ki[o]&&"wait"===Ki[o].status&&delete Ki[o]},complete:()=>{Oi.set(this,"done")}},o=$i.get(this),a=`create${t}Task${o?"Async":""}`;(_e||me)&&r.forceCellularNetwork&&(a="createCellularNetworkRequestTaskAsync");var s={};"[object ArrayBuffer]"!==Object.prototype.toString.call(r.data)&&(s.notPack=!0);var c=Fi.get(this)(n);return"createRequestTaskAsync"===a&&_e&&Ei&&(a="createRequestTaskRealAsync"),"Request"!==t||ye||we||i.env.isMagicBrushFrameEnv?ur(a,c):fr(a,c,s),e}function Zi(){var e=Li.get(this),t=Di.get(this),r=Bi.get(this),n=qi[r].functionName;Vi.on(`${r}${e}success`,(e=>{Wi.get(this).call(this,e),ct({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),Vi.on(`${r}${e}fail`,(e=>{var r=Ui.get(this),o=r&&r.call(this,e);if(null!=o&&o.__retry__)g.info(`httpDns we retry url: ${t.url}`);else{o&&o.__changeError__&&(e=o.__changeError__);var a={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(a.errno=e.errno),e.exception&&(a.exception=e.exception),ct(a)}}))}function es({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:o=0,statusCode:a="",responseDataLength:i=0,profile:s={},queueTime:c,uniqueId:u,errno:l,queueLength:p,accelerateId:f}){var d=t.url,h=n?1:2,g=Date.now()-ji.get(this),v=t.__skipDomainCheck__;g>=6e4&&Gi.error(`reportTask costTime too long: ${g}ms, taskId=${Li.get(this)}`),Za(qi[e].functionName,d,h,g,r,a,v,o,i,s,c,{},u,!0,l,p,{...t.accelerateOptions,host:t.host,accelerateId:f})}function ts(e,t){var r,n=`${t.toLowerCase()}TaskId`,o=e[n],{state:a,header:i}=e;delete e.state,delete e[n],"chunked"!==a&&(e.cookies=i&&(r=i["Set-Cookie"]||i["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var s=0;i&&(s=parseInt(i["Content-Length"]||i["content-length"]||"0",10));var c,u,l=()=>{if(Vi.emit(`${t}${o}${a}`,e),"success"===a||"fail"===a){var r=qi[t].taskIdMap[o],n=Di.get(r);if(!r)return;qi[t].currentTaskCount-=1;var i=qi[t].taskQueue.length;if(qi[t].taskQueue.length>0){var c=qi[t].taskQueue.shift().item,u=Ni.get(c);if(u&&u[0]){var l=u[0];if(l>0){var p=Date.now()-l;Ni.set(c,[l,p,i])}}Qi.call(c)}var f=Promise.resolve(mr(n.data));if("Upload"===t){var d=0;"object"==typeof n.formData&&null!==n.formData&&(d=JSON.stringify(n.formData).length),f=Ti({path:n.filePath}).then((e=>d+e.stats.size)).catch((()=>d))}var h=Promise.resolve(mr(e.data,s));if("Download"===t){var g=e.dataLength;h="number"==typeof g?Promise.resolve(g):Ti({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([f,h]).then((([o,i])=>{var s=Ni.get(r);es.call(r,{taskType:t,options:n,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===a,dataLength:o,responseDataLength:i,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:Ai(e)}),Ni.delete(r)})),zi.set(qi[t].taskIdMap[o],!0),ns.call(r)}};Ei&&"Request"===t?"normal"===(null===(c=Ki[o])||void 0===c?void 0:c.status)?l():"wait"===(null===(u=Ki[o])||void 0===u?void 0:u.status)||(Ki[o]={status:"wait",handlers:[l]}):l()}function rs(){var e=Bi.get(this);return qi[e].currentTaskCount>=qi[e].maxTaskCount}function ns(){var e=Bi.get(this),t=Li.get(this);delete qi[e].taskIdMap[t],delete Ki[t],Vi.removeAllListeners(`${e}${t}success`),Vi.removeAllListeners(`${e}${t}fail`),Vi.removeAllListeners(`${e}${t}complete`),Vi.removeAllListeners(`${e}${t}progressUpdate`),Vi.removeAllListeners(`${e}${t}headersReceived`),Vi.removeAllListeners(`${e}${t}chunked`)}function os(e,t){var r=qi[e]?qi[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};ce(`on${e}TaskStateChange`,(t=>{ts.call(this,t,e)})),qi[e]=Object.assign(r,t)}os("Download",{maxTaskCount:10,functionName:"downloadFile"}),R.onReady((()=>{try{"number"==typeof R.wxAppInfo.maxDownloadConcurrent&&os("Download",{maxTaskCount:R.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));const as=class extends Ji{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}};var is=({api:e,url:t})=>(ye?"boolean"==typeof R.urlCheck?R.urlCheck:__devtoolsConfig.urlCheck:!0!==R.debug)?new Promise(((r,n)=>{ur("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})):Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}),ss=new WeakMap,cs=new WeakMap,us=new WeakMap,ls=[],ps=0,fs=10;function ds(e=!1){for(e&&(ss.delete(e),cs.delete(e),us.delete(e),ps--);ls.length>0&&ps<fs;){var t=ls.shift(),r=ss.get(t),n=cs.get(t);r&&n&&(r.start(n),ps++)}}R.onReady((()=>{R.wxAppInfo&&R.wxAppInfo.maxDownloadConcurrent&&(fs=R.wxAppInfo.maxDownloadConcurrent)}));class hs{constructor(e){var t=zn.Download,r=e.workerId?new t(e.workerId):new t;delete e.workerId;var n,o=new I;ss.set(this,r),us.set(this,o),cs.set(this,(n=e,["url","header","filePath","enableProfile","timeout"].reduce(((e,t)=>(H(n[t])||(e[t]=n[t]),e)),{}))),r.onfail=t=>{st("downloadFile",e,t),ds(!0)},r.onsuccess=t=>{ct({name:"downloadFile",args:e,res:t}),ds(!0)},r.onheader=e=>o.emit("header",{header:e}),r.onprogress=(e,t,r)=>o.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:r}),is({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(ls.push(this),ds()):st("downloadFile",e,"invalid url")})).catch((()=>{st("downloadFile",e,"url validate error")}))}abort(){var e=ss.get(this);e&&e.abort()}onHeadersReceived(e){var t=us.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=us.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=us.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=us.get(this);t&&t.off("progress",e)}}var gs=!1;function vs(e){return gs?new hs(e):new as(e)}c.g.__isAppServiceRemoteDebugMode__||Kn((e=>{e.Download&&R.onReady((()=>{var e=!1,t=_e?"clicfg_appbrand_ios_native_download_new":"clicfg_appbrand_native_download";Jn({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,Yn(/^downloadFile/,2))},fail(e){}});var r=Vn("bindingDownload");gs=e||r,g.info(`${gs?"binding":"jsapi"} download, abtest: ${e}, permission: ${r}`)}))}));var ys,ms,_s=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(at("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new vs(t)}catch(e){return void st("downloadFile",t,e.message)}}}),bs=(_s(),_s({__skipDomainCheck__:!0})),Ss="wxfile://sdk",ws=`${Ss}/we_model/`,Cs=`${ws}meta.json`,xs=`${ws}vocab_meta.json`,ks=e=>ws+e+".onnx",Is=br(eo),Ps=br(en),As=br(to),Es=br(no),Ts=br(oo),Rs=br(ro),Ms=br(bs),Ls=function(){var e=yr()((function*(e=1){try{yield Es({path:ws})}catch(e){yield Rs({recursive:!0,dirPath:`${Ss}/we_model`})}try{var{data:t}=yield Is({filePath:1===e?Cs:xs,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),Os=function(){var e=yr()((function*(e,t,r=1,n=!1){var o={};if(!n)if(o=yield Ls(r)){if(o[t]&&o[t].src===e)try{return ks(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else o={};var a=yield Ms({url:e,timeout:1e4}),i=yield Ps({tempFilePath:a.tempFilePath,filePath:ks(t)});o[t]={src:e,update:Date.now()};var s=Date.now(),c=-1;if(Object.keys(o).length>(1===r?3:10))for(var u of Object.keys(o)){var l=o[u];l.update<s&&(s=l.update,c=u)}if(-1!==c)try{yield Ts({filePath:ks(c)}),delete o[c]}catch(e){g.error("contentCheck LRU unlink model error: ",e)}return yield As({filePath:1===r?Cs:xs,data:JSON.stringify(o),encoding:"utf8"}),i.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),Ds=e=>{ys=e},Bs=function(){var e=yr()((function*(e){var t;if(!Array.isArray(ys)||-1===(t=ys.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:o}=ys[t];return yield Os(r,n,2,o)}));return function(t){return e.apply(this,arguments)}}(),js=br(eo),Ns=function(){var e=yr()((function*(e){if(ms)return ms;var t=yield Bs(e),r=yield js({filePath:t,encoding:"utf-8"});return ms=(ms=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{})}));return function(t){return e.apply(this,arguments)}}(),Fs=.002;function Ws({isSuccess:e,invokeTime:t,costTime:r,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:o,beginCGITimestamp:a,CGICallbackTimestamp:i,wxlibCallbackTimestamp:s,requestingCount:c,cost1:u,cost2:l,cost3:f,cost4:d,cost5:h,cost6:g,JSApiType:v}){Math.random()<Fs&&setTimeout((()=>{var y,m=mt.currentNetworkType,_=R.appType+1e3,b=R.appLaunchInfo&&void 0!==R.appLaunchInfo.scene?R.appLaunchInfo.scene:0,S=["","",e?1:0,t,r,m,"",_,b,Dt(),Bt(),"",0,0,u,l,f,d,h,g,0,0,c,t,n,o,a,i,0,0,s,v].map((y=1024,e=>V(e)&&e.length>y?e.substr(0,y):e)).join(",");p.reportKeyValue({key:"WeAppOperateWXData",value:S})}),0)}var Us,$s,qs,Vs,Gs,Hs,Ks=({url:e,result:t,cost:r,pointCacheType:n,errMsg:o,errno:a,host:i,fullCost:s})=>{var c=[e,t,r,n,o?encodeURIComponent(o):o,a,i,s].join(",");p.reportKeyValue({key:"WeFreeHttpDns",value:c})},zs=()=>Us,Js=!1,Xs=new Promise((e=>qs=e)),Qs=function(){var e=yr()((function*(){if(!$s&&!Js){Js=!0;try{var e=yield $u();if(!Array.isArray(e))return qs(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:o,regCheckCfg:a,modelName:i,taskId:s,debug:c,key:u,cliParamList:l,isScreenshot:p,isMultiModal:f,typicalShape:d,allowQuantize:h,allowNPU:g,onlyInteractionCheck:v,interactionPreset:y}=e,{after_load_interval:m,after_load_maxcnt:_,at_redirect:b,most_cnt:S}=null!=n?n:{};return r.allowQuantize=h,r.allowNPU=g,r.typicalShape=d,($s={}).mostCnt=S,$s.currentCnt=0,$s.afterLoadInterval=m,$s.afterLoadMaxCnt=_,$s.atRedirect=b,$s.modelUrl=t,$s.cfg=r,$s.domTextPreset=o,$s.regCheckCfg=a,$s.modelName=i,$s.taskId=s,$s.debug=c,$s.key=u,$s.cliParamList=l,$s.isScreenshot=p,$s.isMultiModal=f,$s.typicalShape=d,$s.allowNPU=g,$s.allowQuantize=h,$s.interactionPreset=y,$s.onlyInteractionCheck=v,Us=s,$s})),qs(e)}catch(e){qs(null)}}}));return function(){return e.apply(this,arguments)}}(),Ys=function(){var e=yr()((function*(e,t=!1){Qs();var r=yield Xs;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),Zs=new Promise((e=>{Gs=e}));R.onReady((()=>{Hs=Vn("reportRequestErrorByAI")}));var ec=e=>{Vs=e,Gs(e)},tc=function(){var e=yr()((function*(e){if(Vs&&Hs){var t=yield Ys(Vs);if(t){var{modelUrl:r,modelName:n,cfg:o}=t,a=(yield rl(void 0,r,n,o,void 0,e)).xnetRes;return a=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(a),!!a&&a[0]-a[1]}}}));return function(t){return e.apply(this,arguments)}}(),rc=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=rc(t),e)),[]);if(!J(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=rc(n)}return t};function nc(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=q(e)}return t.replace(/,/g,";").substr(0,1024)}var oc={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};var ac=Math.random,ic=void 0!==t&&t?t.version:"unknown",sc=!1,cc=!1,uc=0,lc={},pc="";R.onReady((()=>{Object.assign(lc,R.appLaunchInfo),pc=R.appLaunchInfo.sessionid||R.appLaunchInfo.sessionId,ge("onAppEnterForeground",(e=>{Object.assign(lc,e),e&&(e.sessionid||e.sessionId)&&(pc=e.sessionid||e.sessionId)}))}));var fc=!1,dc=()=>fc=!0;function hc(e,t,{uuid:r,invokeTime:n,dataType:o,networkType:a,routePath:i}={}){if("undefined"==typeof IS_WORKER||!IS_WORKER){var s=d.shouldStartReport();if(sc&&ac()<uc||s||fc){var c=d.getCurrentRoutePath(),u=Date.now()-n;e=rc(e);var l=(t=rc(t)).data,f=Promise.resolve().then(yr()((function*(){if("string"!=typeof l)return-3;try{JSON.parse(l)}catch(e){return-3}return yield tc(l)}))).catch((()=>-3));dn().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>f.then((t=>(e.nlpRet=t,e))))).then((n=>{try{"json"===o&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t);var{isImportantRequest:l,nlpRet:f}=n;if((n.hasError||f>0)&&sc){var{point:h,reportBody:v,reportArgs:y,schemaVersion:m,key:_,kvResult:b}=n;e.data&&(e.data=y),t.data&&(t.data=v),function(e,t,{point:r,schemaVersion:n,key:o,kvResult:a,routePath:i,networkType:s,nlpRet:c,aiConsistent:u,reportType:l}={}){var f=t.errno,d=oc[l];p.reportKeyValue({key:d,value:[s,e.url,t.errMsg,t.statusCode,nc(e.header),nc(e.data),nc(t.header),nc(t.data),e.method,lc.scene,encodeURIComponent(lc.scene_note||lc.sceneNote),ic,f,n,encodeURIComponent(o),encodeURIComponent(r),encodeURIComponent(a),i,void 0===c?-2:c,u].join(",")})}(e,t,{point:h,schemaVersion:m,key:_,kvResult:b,networkType:a,routePath:i,nlpRet:f,aiConsistent:f>0&&n.hasError?1:2,reportType:cc?"pay":"goverment"})}if(s){var S={isimportant:l,errMsg:t.errMsg,errno:t.errno},w=n.hasError;w&&(S.errinfo=t.errMsg||n.point,S.noFilterRes=!0),d.traceApi("request",e,t,w,r,u,!0,S)}if(fc&&l){var{sensitiveRequestPoint:C,sensitveResponsePoint:x}=n;[C,x].forEach(((t,r)=>{null!=t&&t.length&&p.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,Fr(e.url),e.method,null,c,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){g.error("resolve 24247 worker error:",e)}})).catch((e=>{g.error("report 24247 error:",e)}))}}}var gc=new RegExp("name_not_resolved","i"),vc=(e,t,r)=>!Ga()&&(!(!Vn("useFreeHttpDns")||!(e=>gc.test(e.errMsg))(e))&&(iu(t,r),!0)),yc=0,mc=1,_c={minigamelive:yc,ad:yc,cloud:yc,protobuf:yc,ga:yc,kanata:yc,midas:yc,pixi:yc,sclengine:yc,minigamePlatform:yc},bc=ea("sclEngine"),Sc=!1,wc=()=>{Sc||(Sc=!0,_c["sclengine"]===mc?bc.publish("initReady"):bc.advancePublish("initReady"))},Cc=fe("tapAnyWhere");Ge("tapAnyWhere",Cc.emitInternal);var xc=Cc.internalOnMethod,kc=(Cc.internalOffMethod,Cc.emitInternal,!1);xc((()=>{wc(),kc||(kc=!0,Pc.forEach((e=>e())),Pc=[])}));var Ic,Pc=[],Ac=(e={})=>{((e={})=>{xe?st("openSetting",e,"openSetting:fail SDK暂不支持此API"):ur("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})})(e)},Ec=!1,Tc=void 0,Rc=void 0,Mc=void 0,Lc="group_forcecelluarnetwork",Oc=e=>Tc=e,Dc=()=>{var e,t,{language:r}=ka();switch(r){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!Ec&&(Ec=!0,1)&&(t=()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{Ac({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&Oc(!1)}})}))}))},kc?t():Pc.push(t))},Bc=function(){var e=yr()((function*(){if(xe)return console.warn("[SaaA] checkAndUseMultiLink force use true"),!0;var e;if(void 0!==Tc)return Tc;try{Rc||(Rc=Ir({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[Lc]}})),e=yield Rc}catch(e){return!1}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===Lc)))){var n=r[t];if(0===n.state){yield(Mc||(Mc=Ir({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:Lc,state:1}]}})),Mc).then((e=>{Oc(!0)})).catch((e=>{}))}else 2===n.state?Oc(!1):1===n.state&&Oc(!0)}return Tc}));return function(){return e.apply(this,arguments)}}(),jc=0,Nc=/custom ip is invalid/;os("Request",{maxTaskCount:10,functionName:"request"}),R.onReady((()=>{try{"number"==typeof R.wxAppInfo.maxRequestConcurrent&&os("Request",{maxTaskCount:R.wxAppInfo.maxRequestConcurrent})}catch(e){}}));function Fc(e,t,r){var n=Date.now();if(jc--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var o=e.clientInfo;t.wxdataQueueTimestamp=o.invokeTime,t.wxdataDequeueTimestamp=o.invokeTime,t.beginCGITimestamp=o.beginCGITimestamp,t.CGICallbackTimestamp=o.CGICallbackTimestamp,t.wxlibCallbackTimestamp=o.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,Ws(t)}}function Wc(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}const Uc=class extends Ji{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,o=null==e?void 0:e.__wx_request_route_path__,a=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var i={JSApiType:1,invokeTime:Date.now(),requestingCount:++jc};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(ti[e.host]||(ti[e.host]={needUpdateDns:!1,protocol:e.protocol}),a||e.exception){var c=a||e.exception;s.exception={reasons:c},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}var u,l;!Tc||Ic||Ae()||(Ic=!0,Dc()),e.host&&e.ip&&(u=e.host,l=e.ip,oi[u]=l),i.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(s),function(e){e.statusCode=parseInt(e.statusCode,10)}(s),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(s);try{hc(e,s,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:o})}catch(e){g.error("checkAndReportError error:",e)}"json"===e.dataType&&Wc(s,e._jsonParse);if(e.__retryHttpDNS__){var p=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-p,Ks({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var f=e.accelerateOptions.accelerateType;if(s.accelerateType=Ii[f],f===xi){var d=Ai(s);s.accelerateRequestId=d}return Fc(s,i,e),s},beforeFail(s){var c,u=!1;if(i.isSuccess=!1,Fc(s,i,e),s.errMsg&&Nc.test(s.errMsg)){var l=!0,p=Date.now()-e.startTimestamp,f="number"==typeof e.timeout?e.timeout:6e4;if(p>f&&(l=!1),l){var d,h=e.__retryHttpDNS__;if(null!==(d=e.candicateIps)&&void 0!==d&&d.length){var v=e.exception;v||(v=[]),v.push({errno:600001,errmsg:s.errMsg});var y=e.candicateIps[0],m=e.candicateIps.slice(1);return su(e.originArgs,{__innerRequestOptions__:{ip:y,candicateIps:m,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:f-p,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:v,__retryHttpDNS__:h,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var _=e.exception;return _||(_=[]),_.push({errno:600001,errmsg:s.errMsg}),su(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:f-p,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:_,__polyfill_ldns__:!0,__retryHttpDNS__:h,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.__retryHttpDNS__){var b;Ks({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(b=e.weHttpDNSCoast)&&void 0!==b?b:-1}),u=e.lastErrorResponse}else{var S,w=e.exception;if(vc(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(S=e.retryCount)&&void 0!==S?S:0,exception:w}))return{__retry__:!0,__freehttpdns__:!0}}try{hc(e,s,{uuid:t,invokeTime:r,networkType:n,routePath:o})}catch(e){g.error("checkAndReportError error:",e)}(a||e.exception)&&(c={reasons:a||e.exception},(null==e?void 0:e.retryCount)>0&&(c.retryCount=e.retryCount));return u?{__changeError__:{...u,exception:c}}:s}})}};var $c=new WeakMap;class qc{constructor(){var e,t=new Promise((t=>{e=t}));$c.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=$c.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=$c.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=$c.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=$c.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=$c.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=$c.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=$c.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var Vc={},Gc=!1;function Hc({args:{url:e,__wx_inner_invokeTime__:t},host:r,needHttpdns:n=!1,options:{__retryHttpDNS__:o,lastErrorResponse:a,__refuseDns__:i=!1}}){var s,c;if((o||n)&&!i)if((null===(s=Vc[e])||void 0===s?void 0:s.count)>=4)Ks({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!Ga()){if(Gc){var u=si(r);if(u&&!1===u.expired)return c=u.ip,{host:r,ip:c,hitCache:1}}var l=Date.now();return ii(r,void 0,!0).then((e=>{c=e.ip;var t=e.hitCache?2:0,n=Date.now()-l;return{host:r,ip:c,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{if(602107!=n.errno){Vc[e]?Vc[e].count++:Vc[e]={count:1};var o=setTimeout((()=>{delete Vc[e]}),3e4);Vc[e].cf&&clearTimeout(Vc[e].cf),Vc[e].cf=o}throw Ks({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),a}))}}R.onReady((()=>{Jn({experimentId:_e?"clicfg_appbrand_ios_free_httpdns_sdk_cache":"clicfg_appbrand_android_free_httpdns_sdk_cache",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Gc=!0)}})}));var Kc=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):Bc().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function zc({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}var Jc=!1;function Xc({host:e}){var t,r;return Jc?(null!==(t=ti[e])&&void 0!==t&&t.needUpdateDns&&(ti[e].doingDns||(ti[e].doingDns=!0,su({url:`${ti[e].protocol}//${e}`,timeout:5e3,complete(){ti[e].doingDns=!1,ti[e].needUpdateDns=!1}},{__refuseDns__:!0})),r=!0),{needHttpdns:r}):{needHttpdns:!1}}R.onReady((()=>{1===Number(R.expt.clicfg_appbrand_ios_dns_polyfill)&&(Jc=!0)}));var Qc=!1;function Yc(e){var t,r;if(Qc&&!e.options.__skipDomainCheck__)return null===(t=(r=__cloudSDKMain__).getRequestMiddleware)||void 0===t?void 0:t.call(r,R)(e.args)}R.onReady((()=>{var e,t,r,n,o;(null!==(e=R.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(r=t.wxcloud_gateway_conf)&&void 0!==r&&r.enabled||null!==(n=R.appContactInfo)&&void 0!==n&&null!==(o=n.wxcloud_gateway_conf)&&void 0!==o&&o.enabled)&&(Qc=!0)}));class Zc{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new qc;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:r}=$c.get(e);r(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:ct({name:"request",args:e,errno:101,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:o,port:a,responseType:i,dataStr:s,options:c,forbidReuse:u,currentRequestStartTime:l,lastRequestStartTime:p,weHttpDNSCoast:f,hitCache:d,lastHost:h,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:y,candicateIps:m,startTimestamp:_,timeout:b,protocol:S,compatUrls:w,rawHttpDnsError:C,retryCount:x,exception:k,__polyfill_ldns__:I,accelerateOptions:P}=this.innerParams;try{return new Uc(Object.assign({},e,{header:n,method:o,responseType:i,data:s,ip:r,host:t,port:a,forbidReuse:u,currentRequestStartTime:l,lastRequestStartTime:p,originArgs:e,weHttpDNSCoast:f,hitCache:d,lastHost:h,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:y,__skipDomainCheck__:P.accelerateType===xi||c.__skipDomainCheck__,candicateIps:m,startTimestamp:_,timeout:b,protocol:S,compatUrls:w,rawHttpDnsError:C,retryCount:x,exception:k,__polyfill_ldns__:I,accelerateOptions:P}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var eu,tu,ru=(e={})=>(t={},r={})=>nu(Object.assign({},e,r))(t),nu=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1},e),function(t={}){var r;if(t.url){try{r=function(e){pi||(pi=new vi(50));var t,r=pi.getCache(e);return r?(pi.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,fi.qg)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),pi.insertCache(e,t),t)}(t.url)}catch(e){return void ct({name:"request",args:t,errno:nt,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){Vn("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var n=new Zc({args:t,options:e});if(n.catch((e=>{st("request",t,e.message||e.errMsg,e.errno)})).use(ri()).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(Xc).use(zc).use(bi.bind(this)).use(Pi).use(Hc).use(ui).use(Kc).use(Yc).useAfterAsyncTasks(li),n.catchFn)return n.execute(t)}else ct({name:"request",args:t,errno:600010,errMsg:"data should not be Function",success:!1});else ct({name:"request",args:t,errno:nt,errMsg:`invalid url "${t.url}"`,success:!1})}else ct({name:"request",args:t,errno:1001,errMsg:`invalid url "${t.url}"`,success:!1})}),ou=nu({__skipDomainCheck__:!1}),au=nu({__skipDomainCheck__:!0}),iu=(nu({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),ru({__retryHttpDNS__:!0})),su=ru();i.onLoad((()=>{tu=br(ou)}));var cu,uu=function(){var e=yr()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){t=[2.074*eu,eu]}var r=e;"string"==typeof e&&(r=(yield tu({url:e,responseType:"arraybuffer"})).data);for(var n=Array.prototype.slice.call(new Uint8Array(r)),o=t[0],a=t[1],i=Array(o).fill(0).map((e=>[])),s=function*(e){for(var t=function*(t){var[r,o,s]=Array(3).fill(0).map(((r,o)=>n[e*a*3+3*t+o]));i[e].push([r,o,s])},r=0;r<a;r++)yield*t(r)},c=0;c<o;c++)yield*s(c);return i}));return function(t,r){return e.apply(this,arguments)}}();function lu(){return(lu=yr()((function*(e,t,r){try{var n=e,o="";t.forEach((e=>{"dictName"===e.key&&(o=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var a=yield Ns(o),i=r[r.length-1],s=[],c=JSON.parse(n),u=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{u(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{u(e,t)}));else if(s.length<i){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(a[n]>=0)s.push(a[n]);else{var o=0;if((n=(r+="").toLowerCase()).length<=20)for(var c=0;c<n.length;c++)for(var l=1;l<5;l++)if(a[n.substr(c,l)]>=0){s.push(a[n.substr(c,l)]),o=1;break}0==o&&(n=(t+":other").toLowerCase(),a[n]>=0&&s.push(a[n]))}}};for(u(c);s.length<i;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function pu(){return pu=yr()((function*(e,t,r){class n{constructor(){this.children={},this.idx=null}}class o{constructor(e,t){this.root=new n,this.simple=e,this.dict=t}insert(e,t){var r=this.root;for(var o of e)r.children[o]||(r.children[o]=new n),r=r.children[o];r.idx=t}segment(e){var t,r,n=[],o=[],a="",i=null,s=this.root;for(var c of e)if(s.children[c])a+=c,i=(s=s.children[c]).idx;else{var u,l,p;if(a)n.push(a),o.push(null!==(u=null!==(l=i)&&void 0!==l?l:this.dict[a])&&void 0!==u?u:this.simple?1:100);if(a="",i=null,(s=this.root).children[c])a+=c,i=(s=s.children[c]).idx;else n.push(c),o.push(null!==(p=this.dict[c])&&void 0!==p?p:this.simple?1:100)}a&&(n.push(a),o.push(null!==(t=null!==(r=i)&&void 0!==r?r:this.dict[a])&&void 0!==t?t:this.simple?1:100));return[n,o]}}try{var a,i;t.forEach((e=>{"simple"===e.key&&(a=e.value),"dictName"===e.key&&(i=e.value)})),a="true"===a,i="null"===i?null:i;var s=e;try{s=s.toLowerCase(),s=function(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],r=new RegExp("<(\\/)?(.*?)>","g");return(e=e.replace(r,((e,r,n)=>t.includes(n)?e:" "))).replace(/\s\s+/g," ")}((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var c,u,l={};i=a?"minivocab_html":i;try{l=yield Ns(i)}catch(e){throw e}try{[c,u]=function(e,t,r){var n=new o(r,t);for(var[a,i]of Object.entries(t))i<3209||n.insert(a,i);return n.segment(e)}(s,l,a)}catch(e){throw e}try{var p=r[1]-(a?0:2);if(u.length>p&&(u=u.slice(0,p)),a||(u.unshift(101),u.push(102)),u.length<p)for(;u.length<p;)u.push(0)}catch(e){throw e}return new Int32Array(u).buffer}catch(e){throw e}})),pu.apply(this,arguments)}function fu(){return(fu=yr()((function*(e,t,r){try{var n,o,a=e,i=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(o=e.value),"dictType"===e.key&&"bert"===e.value&&(i=!1)}));var s=r.reduce(((e,t)=>e*t),1);a=a.slice(a.length*n,a.length*n+s);for(var c=yield Ns(i?"minivocab":"alberttiny489kvocab"),u=r[0],l=r[r.length-1],p=[],f=[],d=0;d<a.length+1;d++)if("\n"===a[d]||d===a.length){if(f.length>=o){var h=l-(i?0:2);if(f.length>h&&(f=f.slice(0,h)),i||(f.unshift(101),f.push(102)),f.length<l)for(;f.length<l;)f.push(0);p.push(f)}if(f=[],p.length>=u)break}else f.push(c[a[d]]||(i?1:100));for(;p.length<u;)p.push(new Array(l).fill(0));return new Int32Array(...p).buffer}catch(e){g.warn("reshape occur error:",e)}}))).apply(this,arguments)}var du="FusedResize";function hu(e,t){return function(e,t){try{return{res:t(),errMsg:null}}catch(t){return g.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}(e,(()=>cu.InvokeMethod(e,null,t)))}function gu(){return(new Date).getTime()}function vu(){return(vu=yr()((function*(e,t,r){g.warn("[mnxnet] resizeScreenshotRect use native impl");var n,o=.5,a=.5,i="NCHW",s=Math.min(r[0],r[1]);t.forEach((e=>{"mean"===e.key&&(o=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(i=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{cu=zn.XInference;var c={type:"uint8",shape:[r[0],r[1],3]};g.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(c)}`),c.data=e;var u=1/(255*a),l=o/a,p=gu(),f=!1;"NCHW"===i&&(f=!0),n={image:c,dstHW:[s,s],bias:[l,l,l],scale:[u,u,u],toNCHW:f};var{res:d,errMsg:h}=hu("FuseProcess",n),v=gu()-p;return Oa(1,du,h,v,n,1),g.warn(`[mnxnet] preprocess cost ${v} ms`),d.data.buffer}catch(e){Oa(1,du,JSON.stringify(e),0,n,1),g.warn(`[mnxnet] preprocess err: ${e}`)}}))).apply(this,arguments)}var yu="";function mu(){return mu=yr()((function*(e,t,r){g.warn("[mnxnet]: resizeScreenshotRect called");try{var n=yu.includes(du);if(t.disableDipFuncList&&t.disableDipFuncList.includes(du)&&(n=!1,g.warn("[mnxnet]: disable native fused resize by svr")),n&&((cu=cu||zn.XInference)||(g.warn("[mnxnet]: NativeGlobal.XInference not available"),0)))return g.warn("[mnxnet]: enableNativeFusedResize"),function(e,t,r){return vu.apply(this,arguments)}(e,t,r);var o=(new Date).getTime(),a=.5,i=.5,s="NCHW",c=e;t.forEach((e=>{"mean"===e.key&&(a=e.value),"std"===e.key&&(i=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var u=yield uu(c,r),l=0,p=u.length/u[0].length,f=u[0].length,d=u.length;u.length<u[0].length&&(l=1,p=u[0].length/u.length,f=u.length,d=u[0].length);var h={image:{type:"uint8",shape:[r[0],r[1],3]},dstHW:[f,f],toNCHW:"NCHW"===s},v=Math.ceil(p),y=Math.floor(v/2),m=[];if("NCHW"===s)for(var _=0;_<3;_++)for(var b=0;b<f;b++)for(var S=0;S<f;S++){var w=0,C=0,x=0;x=0===l?Math.floor(b*p):Math.floor(S*p);for(var k=0;k<v;k++){var I=x-y+k;I>=0&&I<d&&(w+=1,C+=0===l?u[I][S][_]:u[b][I][_])}w>0?m.push((C/w/255-a)/i):m.push(0)}else for(var P=0;P<f;P++)for(var A=0;A<f;A++){var E=0;E=0===l?Math.floor(P*p):Math.floor(A*p);for(var T=0;T<3;T++){for(var R=0,M=0,L=0;L<v;L++){var O=E-y+L;O>=0&&O<d&&(R+=1,M+=0===l?u[O][A][T]:u[P][O][T])}R>0?m.push((M/R/255-a)/i):m.push(0)}}var D=(new Date).getTime();return Oa(0,du,null,D-o,h,1),new Float32Array(m).buffer}catch(e){throw e}})),mu.apply(this,arguments)}c.g.__isAppServiceRemoteDebugMode__||Kn((e=>{R.onReady((()=>{var e=me?"clicfg_appbrand_android_mnxnet_dip_func_list":0;1===e?yu="":Jn({experimentId:e,experimentType:"Expt",success:e=>{g.info(`[mnxnet]: _getABTestConfig: ${JSON.stringify(e)}`),e&&e.testConfig.length>0&&(yu=e.testConfig,g.info(`[mnxnet]: enabledNativeDipFuncList: ${yu}`))},fail(t){g.info(`[mnxnet]: experimentId ${e} failed: ${t}`)}})}))}));var _u=function(){var e=yr()((function*(e,t,r){var n,o,a,i,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(n=e.value),"maxSize"===e.key&&(o=e.value-(s?0:2)),"dictName"===e.key&&(a=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),o<0){var c=e.length*n+o;c<0&&(c=0),e=e.slice(c,e.length*n)}else e=e.slice(e.length*n,e.length*n+o);a||(a=s?"minivocab":"alberttiny489kvocab");try{i=yield Ns(a)}catch(e){}for(var u=r[r.length-1]-(s?0:2),l=[],p=0;p<e.length&&p<u;p++)l.push(i[e[p]]||(s?1:i["[UNK]"]));if(s||(l.unshift(i["[CLS]"]),l.push(i["[SEP]"])),l.length<u)for(;l.length<u;)l.push(0);return new Int32Array(l).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function bu(){return(bu=yr()((function*(e,t,r){try{var n=0,o=512,a=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(o=e.value),"dictType"===e.key&&"bert"===e.value&&(a=!1)}));var i,s=e.slice(Math.floor(e.length*n),e.length);try{i=yield r.readWordDict(a?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var c=[],u=0;u<s.length;u++){var l=s[u];i[l]&&i[l]>60&&i[l]<2900&&c.push(i[l])}var p=[],f=o-(a?0:2);if(c.length>f){for(var d=0;d<c.length;d++){var h=c[d];h>270&&h<570||h>580&&h<660||h>790&&h<990||h>1100&&h<1200||h>1300&&h<1900||h>2e3&&h<2800||p.push(h)}p.length>f&&(p=p.slice(0,f))}else p=c;for(a||(p.unshift(101),p.push(102));p.length<o;)p.push(0);return new Int32Array(p).buffer}catch(e){throw e}}))).apply(this,arguments)}var Su=c.g.eval,wu={GetTextIdsVec:_u,GetTextIdsSimple:(e,t,r)=>_u(e,t,r,!0),GetTextIdsMultiDimension:function(e,t,r){return fu.apply(this,arguments)},GetTrimTextProcrss:function(e,t,r){return bu.apply(this,arguments)},exceptionRetProcess:function(e,t,r){return lu.apply(this,arguments)},resizeScreenshotRect:function(e,t,r){return mu.apply(this,arguments)},html2WordEmbedding:function(e,t,r){return pu.apply(this,arguments)}},Cu=function(){var e=yr()((function*(e,t,r,n,o,a){var i=void 0!==a?a:e[t],s=wu[r];if(s)try{return yield s(i,n,o)}catch(e){throw e}return i}));return function(t,r,n,o,a,i){return e.apply(this,arguments)}}(),xu=function(){var e=yr()((function*(e,t,r,n,o){return new Promise(((a,i)=>{var s=a,c=i;try{ku(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:c,env:{readWordDict:Ns,shape:n,transformRGB:uu,sdkUtils:o}})}catch(e){i(e)}}))}));return function(t,r,n,o,a){return e.apply(this,arguments)}}(),ku=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");Su(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Pu(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,n=String(e),o="",a=0,i=Iu;n.charAt(0|a)||(i="=",a%1);o+=i.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Lr("btoa failed");t=t<<8|r}return o}function Au(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Lr(`atob failed: invalid string length ${t.length}`);for(var n,o,a=0,i=0;o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)o=Iu.indexOf(o);return r}function Eu(e){for(var t,r="",n=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,o=0;o<n;o++)r+=String.fromCharCode(t[o]);return Pu(r)}function Tu(e){for(var t=Au(e),r=t.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=t.charCodeAt(o);return n.buffer}var Ru={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},Mu=e=>Ru[e],Lu=null,Ou=void 0!==t&&t?t.version:"unknown";function Du(){return Lu||(Lu=new Promise(((e,t)=>{var r,n=Vs,o=-1;va({success(e){o=e.benchmarkLevel}}),kr({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:R.clientVersion,pub_version:Ou,performance:o,instance_id:R.appLaunchInfo.sessionid||R.appLaunchInfo.sessionId,...n?{xnet_conf_list:[n]}:{}},success:(r=yr()((function*(t){e(t)})),function(e){return r.apply(this,arguments)}),fail:t,complete:void 0})})),Lu)}var Bu,ju=function(){var e=yr()((function*(){return yield Zs,Du()}));return function(){return e.apply(this,arguments)}}(),Nu=!1,Fu=()=>Nu=!0,Wu=1,Uu=(e,t={})=>{if(Nu){var r=zs(),n=t.sessionId;n&&delete t.sessionId;var o={task_id:r,xnet_moment:e,...t,sessionid:n,report_id:Wu++,report_time:Date.now()};kr({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:o})}},$u=()=>new Promise(((e,t)=>{var r,n,o,a;if(null!==(r=R.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(o=n.jsonInfo)&&void 0!==o&&null!==(a=o.op_info)&&void 0!==a&&a.skip_async_secinfo)return e({close:!0});ju().then(function(){var r=yr()((function*(r){try{var n,o;if(null===(n=r.data)||void 0===n||null===(o=n.wxa_client_check)||void 0===o||!o.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&Ds(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&Fu();var a=[];for(var i of r.data.wxa_client_check.check_logic.xnet_list){var s=yield Vu({xnet:i,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);s.taskId=r.data.wxa_client_check.task_id,s.checkConfig=r.data.wxa_client_check.timing,s.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,s.debug_codes=s.debug?r.data.wxa_client_check.debug_code:null,a.push(s)}if(!a.length&&r.data.wxa_client_check.check_logic.reg_list){var c=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{c.push(Mu(e))})),c.length){var u={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:c};u.taskId=r.data.wxa_client_check.task_id,u.checkConfig=r.data.wxa_client_check.timing,u.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,a.push(u)}}1===r.data.wxa_client_check.timing.at_redirect&&(Bu=1),e(a)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),qu=[],Vu=function(){var e=yr()((function*(e,t,r){var n,o={},{model_url:a,model_name:i,cli_param_list:s=[],svr_param_list:c=[],conf_name:u,allowNPU:l,allowQuantize:p,typicalShape:f}=e.xnet||{},d=null!==(n=e.reg_list)&&void 0!==n?n:[],h=[],g=!1,v=!1;if([...d,...s].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(v=!0),!h.includes(t)&&t&&h.push(Mu(t))})),a){var y={};s.forEach(((e,t)=>{var r;if(null!==(r=e.union)&&void 0!==r&&r.length){y[e.key]=e.union;var n="screenshot"!==e.preset_data,o="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==s[t].preset_data?n=!0:o=!0,n&&o&&(e.isMultiModal=!0)}))}if(e.preposition){if(!s[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);s[t].asPreposition=!0}}));for(var m=function*(e){var t,n,a,i=s[e],{preset_data:c,pre_proc:u}=null!=i?i:{},{proc_name:l,param:p}=null!=u?u:{};o[i.key]={type:i.type||"int32",shape:i.shape_list,getData:(a=yr()((function*(e,t,{customShape:n,sdkUtils:a={}}={}){var s;if(r&&-1!==(s=r.findIndex((e=>e.func_name===l)))){var u,f=r[s].code;try{u=yield xu(f,void 0!==t?t:e[Mu(c)],p,null!=n?n:i.shape_list,a)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return u}if(o[i.key].prepositionPreHandler){var d=o[o[i.key].prepositionPreHandler];if(d){var h=yield d.getData(e,t,{customShape:n});return yield Cu(h,Mu(c),l,p,null!=n?n:i.shape_list,t)}}return yield Cu(e,Mu(c),l,p,null!=n?n:i.shape_list,t)})),function(e,t){return a.apply(this,arguments)}),prepositionPreHandler:null===(t=s[i.preposition])||void 0===t?void 0:t.key,isMultiModal:!!i.isMultiModal,modalType:"screenshot"===i.preset_data?"image":"text"},o[i.key].isMultiModal&&(g=!0),Object.keys(y).forEach((t=>{if(-1!==y[t].indexOf(e)){var r;if(null!==(r=i.union)&&void 0!==r&&r.length)throw new Error(`unexpect config: unionsponsor: ${i.key} is also the unionmember`);o[i.key].unionMember=!0}})),null!==(n=i.union)&&void 0!==n&&n.length&&(o[i.key].unionMembers=i.union.map((e=>({key:s[e].key,ready:!1}))))},_=0;_<s.length;_++)yield*m(_);c.forEach((e=>{o[e.key]={type:e.type,shape:e.shape_list,data:Tu(e.base64_data)}}))}qu.push(...h),qu=Array.from(new Set(qu));var b=[];v||qu.forEach((e=>{6!==e&&7!==e&&8!==e||b.push(e)}));var S=!1;return(qu=qu.filter((e=>!(6===e||7===e||8===e)))).length||(S=!0),{onlyInteractionCheck:S&&!v,modelName:i,model:a,config:o,domTextPreset:qu,interactionPreset:b,regCheckCfg:d,key:u,cliParamList:s,isScreenshot:v,isMultiModal:g,allowNPU:!!l,allowQuantize:!!p,typicalShape:f}}));return function(t,r,n){return e.apply(this,arguments)}}(),Gu=function(){var e=yr()((function*(e,t,r,{customShape:n,debugCustomReport:o}={}){for(var a of Object.values(e))"function"==typeof a.getData&&(a.data=yield a.getData(t,r,{customShape:n,sdkUtils:{debugCustomReport:o}}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),Hu=()=>{var e,t;return null!==(e=d)&&void 0!==e&&null!==(t=e.getCurrentRouteStartTime)&&void 0!==t&&t.call(e)?Date.now()-d.getCurrentRouteStartTime()>2e3?Bu:void 0:-1},Ku=function(){var e=yr()((function*(e,t){return Os(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),zu=0,Ju=[],Xu=(e,t={},r,n)=>{var o=zu++;Ju[o]=n,$e("invokeWebviewMethod",{name:e,args:t,callbackId:o},void 0===r?[mt.currentWebviewId]:r)};Ge("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=Ju[t];delete Ju[t],r&&r(e)}));var Qu,Yu=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{Xu("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},Zu=ea("MultiModalCheck",{noCache:!0}),el=(e,t,r={})=>new Promise(((n,o)=>{if(Qu)return n(Qu);Ku(e,t).then((e=>{var t={...r};t.typicalShape||delete t.typicalShape;var a=((e={})=>Ta?new aa(e):new Aa(e))({model:e,...t});a.onLoad((()=>{Qu=a,n(a)})),a.onError((e=>{Qu||o(e)}))})).catch((e=>{o(e)}))})),tl=(e,t)=>{void 0===e&&(e=[]);try{var r,n=Date.now();return e.length&&(o=t,r=e.map((e=>{var t=o[Mu(e.preset_data)],r=new RegExp(e.reg_exp);return{id:e.id,match:r.test(t)}}))),{regRes:r,errMsg:null,cost:Date.now()-n}}catch(e){return{errMsg:e.message,cost:-1}}var o},rl=function(){var e=yr()((function*(e,t,r,n,o,a,{customShape:i,isMultiModal:s,screenshotCheck:c,debug:u}={}){void 0===o&&(o={});var l,p=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:p};try{var f=Date.now();Uu(2,{sessionId:e}),l=yield el(t,r,n),Uu(3,{sessionId:e});var d=Date.now()-f;p.push({logic_type:2,time_cost:d})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:p}}try{var h=Date.now();if(Uu(4,{sessionId:e}),s&&c)return Zu.advancePublish("requestScreenshotData",{shape:i,data:a},!0),{isMultiModal:!0};if(s){var v,y=Object.entries(n).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{}),m=((e,t)=>r=>{kr({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:r,report_id:Wu++}})})(zs(),e);yield Gu(y,o,a,{customShape:i,debugCustomReport:m});var _=new Promise((e=>{v=e}));Zu.on("requestScreenshotData",(e=>{v(e)}));var b=yield _,S=Object.entries(n).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{});yield Gu(S,o,b.data,{customShape:b.shape})}else yield Gu(n,o,a,{customShape:i});Uu(5,{sessionId:e});var w,C={},x=function*(){if("allowNPU"===k||"allowQuantize"===k||"typicalShape"===k)return 1;if(C[k]=n[k],u&&"image"===n[k].modalType)try{w=yield(()=>{var e;return e||Promise.resolve("")})(n[k].data,(n[k].shape[2],n[k].shape[3]),!1)}catch(e){}};for(var k in n)yield*x();var I=Date.now()-h;p.push({logic_type:3,time_cost:I});var P=Date.now(),A=yield l.run(C);l.reportCurrentResult();var E=Date.now()-P;return p.push({logic_type:4,time_cost:E}),Uu(6,{sessionId:e}),{xnetRes:A,logicCost:p,multimodalScreenshotId:w}}catch(e){return g.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:p}}}));return function(t,r,n,o,a,i){return e.apply(this,arguments)}}(),nl=function(){var e=yr()((function*(){var e=yield Ys();if(e){var{domTextPreset:t}=e;return yield Yu({types:t})}}));return function(){return e.apply(this,arguments)}}(),ol=1,al=!0,il=function(){var e=yr()((function*(e,t,r){var n=yield Ys(void 0,!0);if(n&&n.length){var o=ol++;al&&(al=!1,Uu(1,{sessionId:o}));var a,i,s,c=[],{domTextPreset:u,regCheckCfg:l,taskId:p,debug:f}=n[0],h=f?d.getCurrentFullyRoutePath():d.getCurrentRoutePath(),g=Date.now();t?i=!0:t=yield Yu({types:u}),s=t;var v,{res:y,cost:m}=s;i&&(y=t,m=0),y.htmlId&&(v=y,y=y.domData);var _=tl(l,y);_.errMsg&&(a=_.errMsg),c.push({logic_type:1,time_cost:_.cost});var b=!1,S=[],w=n.map(function(){var e=yr()((function*(e){if(!e.asPreposition&&!e.unionMember&&(!e.isScreenshot||e.isMultiModal)){e.isMultiModal&&(b=!0);var{modelUrl:t,cfg:n,modelName:i,key:s,isMultiModal:c}=e,{xnetRes:u,errMsg:l,logicCost:p,multimodalScreenshotId:d}=yield rl(o,t,i,n,y,r?y:void 0,{isMultiModal:c,debug:f}),h={conf_name:s,xnet_res:u,errmsg:l,logic_cost_time_list:p,multimodalScreenshotId:d};if(f){var g=[];for(var v of Object.keys(n)){var m,_=n[v],w=Eu(_.data);(null===(m=w)||void 0===m?void 0:m.length)>2e4&&(w=w.slice(0,2e4)+":size over max"),g.push({key:v,type:_.type,shape_list:_.shape,base64_data:w})}h.debug_data={xnet_param:g}}S.push(h),l&&(a=l)}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(w),S.length||_.regRes||a){var C,x=Date.now()-g;if(c.push({logic_type:5,time_cost:m}),b&&f){var k,I=new Promise((e=>{k=e}));Zu.on("screenshotUpload",(e=>{C=e,k()})),yield I}(({taskId:e,xnetResList:t,regResList:r,curPath:n,runScene:o,runTime:a,costTime:i,errMsg:s,debug:c,domTextPresetData:u,blockTime:l,logicCostList:p,specialCase:f,contentId:d,screenShotId:h,webviewCfg:g,sessionid:v})=>{var y=[],m=[];Array.isArray(t)&&t.forEach((e=>{var t=e.multimodalScreenshotId;t&&m.push(t);var r=e.xnet_res;if(r){var n=[];for(var o of Object.keys(r)){var a=r[o];n.push({key:o,type:a.type,shape_list:a.shape,base64_data:Eu(a.data)})}e.xnet_res=n,y.push(e)}else y.push(e)}));var _={task_id:e,xnet_res_list:y,reg_res_list:r,cur_path:n,run_scene:o,run_time:a,cost_time:i,errmsg:s,block_time:l,logic_cost_time_list:p,special_case:f,content_type:d,webview_url:null==g?void 0:g.webviewUrl,report_id:Wu++,sessionid:v,report_time:Date.now()};if(2===d)_.debug_data={preset_data_list:[{key:"screenshot",value:c}]};else if(Array.isArray(c)){var b=[];u&&c.forEach((e=>{"modal"===e||"toast"===e?b.push({key:e,value:u}):"screenshot"===e?b.push({key:e,value:h}):b.push({key:e,value:u[Mu(e)]})})),m.length&&m.forEach((e=>{b.push({key:"screenshot_preprocessor",value:e})})),_.debug_data={preset_data_list:b}}kr({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:_})})({taskId:p,xnetResList:S,regResList:_.regRes,curPath:h,runScene:e,runTime:Date.now(),costTime:x,errMsg:a,debug:f,domTextPresetData:y,blockTime:-1,logicCostList:c,contentId:b?3:1,screenShotId:C,webviewCfg:v,sessionid:o})}}}));return function(t,r,n){return e.apply(this,arguments)}}();function sl(e,t,r){var n=void 0===t._relativePath?mt.lastRoute:t._relativePath;g.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, Global.lastRoute=${mt.lastRoute}`);try{return Hr(n,t.url,!r)}catch(o){if(!(o instanceof Lr))throw o;if(!r){if(!zr(n,t.url))return t.url;st(e,t,o.message)}}return""}var cl=new class{constructor(){this.blocking=!1,this.pendingRequests=[]}flushPendingRequests(){for(;this.pendingRequests.length;){var e=this.pendingRequests.shift();if(this.routeRequest(e),this.blocking)return}}routeRequest(e){if(this.blocking)return g.info("[RouteScheduler] routeRequest blocked",e.name,e.args),void this.pendingRequests.push(e);g.info("[RouteScheduler] routeRequest applied",e.name,e.args),e.requestFunc(),this.blocking=!!e.blockUntilFinished}isBlocking(){return this.blocking}block(){this.blocking=!0}unblock(){g.info("[RouteScheduler] unblock RouteRequests"),this.blocking=!1,this.flushPendingRequests()}};var ul=fe("AppPerfRouteNavigation");function ll(e,t,r){return!!function(e){return"wxpage://"===Jr(e)}(t)||(!zr(void 0===r._relativePath?mt.lastRoute:r._relativePath,t)||/^__wx__\//.test(t)||function(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!Re.hasPageRoute(n)||(st(e,r,`page "${Nr(t)}" is not found`),!1)}(e,t,r))}function pl(e,t){var r=sl(e,t,!0);if(!r)return!0;var n,o=function(e){if(!e)return-1;var t=-1;try{t=It.findIndex((t=>V(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){Ct.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return Ct.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}(r),a=St[(n=e,n.split(Sr).join("_").toLowerCase()).toUpperCase()],i=!0,s="",c=bt.OK;if(o>-1){var u=It[o];(s=u.redirect_url)&&1===u.is_valid?(st(e,t,"url has been banned"),Xu("openUrl",{url:s}),c=bt.BLOCK,i=!1):s&&1!==u.is_valid&&(c=bt.NO_BLOCK)}return At(e,c,a,s,r),i}var fl=!1;function dl(e,t){return!fl||(st(e,t,"current operation was banned."),!1)}var hl=e=>{if(at("navigateTo",e,{url:""})&&pl("navigateTo",e)&&dl("navigateTo",e)){var t=sl("navigateTo",e,!1);if(t&&(e.url=t,e.url=Ur(e.url),e.singlePageData={routeType:e.routeType},mt.routeType=e.routeType||"",ll("navigateTo",e.url,e))){var r=function(){var e=new Qo,t=new Qo,r={},n=["listener","emit","on","once","off","_addListener"];for(var o of n)"emit"===o?r[o]=t[o].bind(t):"function"==typeof e[o]?r[o]=e[o].bind(e):r[o]=e[o];for(var a of n)"emit"===a?Xo[a]=e[a].bind(e):"function"==typeof t[a]?Xo[a]=t[a].bind(t):Xo[a]=t[a];return r}();if(e.events)for(var n of Object.keys(e.events))r.on(n,e.events[n]);var o=()=>{var t=Date.now();ur("navigateTo",e,{afterFail(){cl.unblock(),d.traceRoute("navigateTo",e.url,!1)},beforeSuccess(t){d.traceRoute("navigateTo",e.url),t.eventChannel=r}}),ul.emit({type:"navigateTo",start:t})};1!==Hu()?o():nl().then((e=>{il(1,e)})).finally((()=>{o()}))}}},gl=e=>{if(at("redirectTo",e,{url:""})&&pl("redirectTo",e)&&dl("redirectTo",e)){var t=sl("redirectTo",e,!1);if(t&&(e.url=t,e.url=Ur(e.url),ll("redirectTo",e.url,e))){e.singlePageData={};var r=()=>{var t=Date.now();ur("redirectTo",e,{afterFail(){cl.unblock(),d.traceRoute("redirectTo",e.url,!1)},beforeSuccess(){d.traceRoute("redirectTo",e.url)}}),ul.emit({type:"redirectTo",start:t})};1!==Hu()?r():nl().then((e=>{il(3,e)})).finally((()=>{r()}))}}},vl=(e={})=>{if(at("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),pl("switchTab",e)&&dl("switchTab",e))){var t=sl("switchTab",e,!1);if(t&&(e.url=t,e.url=Ur(e.url),ll("switchTab",e.url,e))){var r=()=>{var t=Date.now();ur("switchTab",e,{afterFail(){cl.unblock(),d.traceRoute("switchTo",e.url,!1)},beforeSuccess(){d.traceRoute("switchTo",e.url)}}),ul.emit({type:"switchTab",start:t})};1!==Hu()?r():nl().then((e=>{il(2,e)})).finally((()=>{r()}))}}},yl=ft(hl),ml=ft(gl),_l=ft(vl),bl=void 0,Sl=e=>{JSON.stringify(e),bl=e},wl=function(){var e=yr()((function*(e){try{$e("syncHighlightBottomBanner",{highlighted:!0}),yield Cl({navigateInfo:e})}catch(e){}}));return function(t){return e.apply(this,arguments)}}(),Cl=function(){var e=yr()((function*(e={}){try{yield lr("highlightBottomBanner",{shouldHighlight:!0}),Sl(e.navigateInfo)}catch(e){ur("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),t=!0,wr()&&t}var t}));return function(){return e.apply(this,arguments)}}();Ge("highlightBottomBanner",function(){var e=yr()((function*(e){try{yield Cl(e)}catch(e){}}));return function(t){return e.apply(this,arguments)}}()),Ge("cancelHighlightBottomBanner",(()=>{Sl(null),ur("highlightBottomBanner",{shouldHighlight:!1})})),ce("onBottomBannerButtonClicked",((e={})=>{wr()&&(Jo(1),p.submit()),ur("restart",{url:e.currentPath,scene:1155,privateExtraData:{singlePageNavigationInfo:bl},fail(e){g.error("restart fail",e)}})}));R.onReady(yr()((function*(){try{var e,t,r,n=null==R||null===(e=R.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t||null===(r=t.privateExtraData)||void 0===r?void 0:r.singlePageNavigationInfo;if(!n)return;yield(s=500,new Promise((e=>setTimeout(e,s))));var{type:o,url:a,_relativePath:i}=n;switch(o){case"navigate":case"navigateTo":yield yl({url:a,_relativePath:i});break;case"redirect":case"redirectTo":yield ml({url:a,_relativePath:i});break;case"switchTab":yield _l({url:a,_relativePath:i})}}catch(e){}var s})));var xl=!1;function kl(e,t,r){Ko(e);var n=Vo(e,"ui");if(n>0&&xl)return!1;if(n>=20)if(void 0===Re){if(t)return!1}else{var o=Kr(Re.getCurrentRoute()||"");if("//"===o)return!1;if(o!==t&&n>=30)return!1;if(mt.openingInnerPage)return!1}var a,s,c=Vo(e,"singlePage")||0;if(10!==c&&wr())switch(c){default:case 0:return!1;case 1:case 2:return!!Ho()&&(1&~((null===(a=R.appLaunchInfo)||void 0===a?void 0:a.secFlagForSinglePageMode)||0)?wl(2===c?{type:e,url:null==r?void 0:r.url,_relativePath:void 0===(null==r?void 0:r._relativePath)?mt.lastRoute:null==r?void 0:r._relativePath}:void 0):ur("highlightTitleForSinglePage"),!1)}return 10===Vo(e,"background")||!i.isStarted||!(null===zo?null!==(s=R.appLaunchInfo)&&void 0!==s&&s.inBackground:zo)}const Il={};var Pl,Al,El=(e={})=>[e.req,e.res].map(((e,t)=>e?((e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}))(e,t):null)).filter((e=>null!==e)),Tl={},Rl=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),Tl[e]=!0)})),(e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...El(n)]}}));({schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}})})(t)},Ml=new Promise(((e,t)=>{Pl=e,Al=t})).catch((e=>{})),Ll=()=>{Ir({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;Pl(n)})).catch((e=>{Al()}))};R.onReady((()=>{Vn("WxaQualityOssRuleConfig")?Ll():Al()}));function Ol(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),o=Math.max(r.length,n.length);r.length<o;)r.push("0");for(;n.length<o;)n.push("0");for(var a=0;a<o;a++){var i=parseInt(r[a],10),s=parseInt(n[a],10);if(i>s)return 1;if(i<s)return-1}return 0}var Dl="wxfile://ad/sdk_dynamic_item.json",Bl=6048e5,jl=864e5,Nl={},Fl=Math.random,Wl=()=>{try{var e=void 0!==t&&t?t.version:"unknown";return Ol(e,"2.22.1")?"2230_":Ol(e,"2.21.4")?"2215_":""}catch(e){return""}},Ul=br(eo),$l=br(to);R.onReady((()=>{if(!i.env.isMagicBrushFrameEnv){var e=Wl()+"WeAppRequestError",t=Wl()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",n="weQualityConfig",o={[t]:Bl,[e]:jl,[r]:Bl,[n]:jl},a={[t]:null,[e]:null,[r]:null,[n]:null};Ul({filePath:Dl,encoding:"utf-8"}).then((e=>{Vn("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=o[t]||(a[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==i&&!i.env.isWorker){var o=[];(s=[e,r,t,n].filter((e=>(a[e]&&o.push(e),!a[e]))),s.length?Ir({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:s}}):Promise.resolve({data:{conf_item_list:[]}})).then((s=>{try{var c,u=s.data.conf_item_list;o.forEach((e=>{u.push({item_name:e,item_info:a[e].cache_info})}));try{u&&(u.forEach((e=>{switch(e.item_name){case t:try{var o=JSON.parse(e.item_info);Nl=o,Rl(o)}catch(e){}break;case r:try{var a=JSON.parse(e.item_info);c=(e=>{var t=R.appLaunchInfo&&R.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,n=e[t]||e.all,o=e.nlpKey;return n&&(cc=Vn("reportPayVIPQuality"),sc=cc||Vn("reportRequestError2"),uc=null!==(r=n.ratio)&&void 0!==r?r:1,d.allowReportLoadingTime(),sc)?(ec(o),!0):Vn("reportRequestError3")?(sc=!0,uc=1,d.allowReportLoadingTime(),ec(o),!0):void 0}})(a),ec()}catch(e){}break;case n:try{var i=JSON.parse(e.item_info);d.setQualityConfig(i)}catch(e){}}})),Object.values(a).filter((e=>null===e)).length&&$l({filePath:Dl,data:JSON.stringify({...u.reduce(((e,t)=>(null===a[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:a[t.item_name]&&(e[t.item_name]=a[t.item_name]),e)),{})})}).catch((e=>{})));var l=Fl()<=.05;if(l&&dc(),!c&&!l)return;var p=u.find((t=>t.item_name===e));if(p){var f;if(!i.env.isWorker)Ml.then((e=>{f=e})).catch((()=>{})).finally((()=>{var e;dn().runTask("createWeAppRequestInterpreter",{rules:p.item_info,appid:null==R||null===(e=R.accountInfo)||void 0===e?void 0:e.appId,userRules:f||""}).catch((e=>{g.error("createWeAppRequestInterpreter occer error:",e)}))}));var h=JSON.parse(p.item_info);d.convert24247SchemaToSensitiveQueryJudgeSchema(h)}}catch(e){}}catch(e){}})).catch((e=>{ec()}))}var s}))}}));var ql=fe("LifeCycle:Show"),Vl=(ql.emitInternal.bind(ql),ql.emitGlobal.bind(ql),ql.onMethod,ql.offMethod,ql.internalOnMethod);ql.internalOffMethod,Date.now();i.onLoad((()=>{var e=Date.now();e}));var Gl={};En.set("appLaunchInfo",Gl),R.onReady((()=>{var e=Date.now();R.appLaunchInfo.scene,R.appLaunchInfo.sessionid||R.appLaunchInfo.sessionId,Object.assign(Gl,R.appLaunchInfo),ge("onAppEnterForeground",(e=>{Object.assign(Gl,e),Date.now(),e&&e.scene&&e.scene,e&&(e.sessionid||e.sessionId)&&(e.sessionid||e.sessionId)}))}));Vl((e=>{e.sessionId}));new WeakSet;function Hl(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!Xn.includes(t)&&r)))}Math.random;var Kl=(e,t)=>!!(e=>{var t;return!1===(null===(t=Nl[e])||void 0===t?void 0:t.hook)})(e)||!(e=>{var t;return!0===(null===(t=Nl[e])||void 0===t?void 0:t.hook)})(e)&&(!Il[e]&&(!J(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));var zl=Symbol("IS_SUB_PACKAGE_INJECT_API"),Jl=Symbol("EXIT_EXECUTE_SYMBOL"),Xl=(e,...t)=>{X(e)&&e(...t)},Ql=234234669135,Yl=234231453256,Zl=234532352353;var ep=[],tp=e=>ep.push(e),rp=e=>"function"==typeof e,np=e=>"object"==typeof e&&e,op="break_callback_execute",ap=Symbol("defineGeneralSymbol"),ip=new WeakSet;function sp(e,t){return function(r,n,o){if("noCondom"===e&&tp(n),o.value){var a;if(null!==(a=o.value)&&void 0!==a&&a.extraInfos){var i=o.value.extraInfos[e];i?Object.assign(i,t):o.value.extraInfos[e]=t}else o.value={extraInfos:{generalMetadata:{},[e]:t},value:o.value}}else{var s=o.initializer();if("noHook"===e)return void(o.initializer=()=>s);if("noExpose"===e)return void(o.initializer=()=>{});o.value={extraInfos:{[e]:t}},o.initializer=()=>{var e,t=null===(e=o.value)||void 0===e?void 0:e.extraInfos;return delete o.value.extraInfos,t.api=n,t.prefix="",Object.assign(t,r[ap]),cp(t,s,this)}}return o}}function cp(e,t,r,n=1){if(!np(e))return t;var o,{api:a,prefix:i=""}=e;if((e.handleObject||e.handleSdkSubPackageObject||e.lazy)&&np(t))return kl(a,"")||1!==n?new Proxy(t,{get(r,s){var c,u,l=Object.assign({},e,{api:s,prefix:i||a+".",lazy:void 0});l.handleObject=!1;var p=null===(c=e.lazy)||void 0===c||null===(u=c.hookHandlers)||void 0===u?void 0:u.getter;return p?"extraInfos"===s?r[s]:(o||(o=cp(l,p(),t,n)),o[s]):r[s]},set(r,s,c){if(o)o[s]=c;else{var u,l,p=null===(u=e.lazy)||void 0===u||null===(l=u.hookHandlers)||void 0===l?void 0:l.getter;if(p){var f=Object.assign({},e,{api:s,prefix:i||a+".",lazy:void 0});f.handleObject=!1,(o=cp(f,p(),t,n))[s]=c}else r[s]=c}return!0}}):(console.error(new Lr(a+":fail rejected due to no permission currently")),null);if(!rp(t))return t;var s,c=!0,u=[],l=[],p={},f=function(...r){var o,f,d;r[r.length-2]===zl&&(t=r[r.length-1],r=r.slice(0,-2));var h=!1,g=r[0],v=g,y=i+a,m={};if(c){c=!1,s=new Map;var _={};Object.keys(e).forEach((function(t){var r=e[t];if("object"==typeof r&&r){var{hookHandlers:o,getState:c,otherDecoratorStates:f}=r;if(o&&Object.keys(o).forEach((e=>{var r=s.get(e);r?r.push({fn:o[e],metaKey:t}):s.set(e,[{fn:o[e],metaKey:t}])})),c){u.push(t);var d=c(),h=Date.now(),v=Math.random(),y=1e4*h+Math.round(9999*v);d.prefix=i,d.api=a,d.originArgs=g,d.invokeTime=h,d.random=v,d.uuid=y,m[t]=d,_[t]&&(_[t].forEach((e=>{e[t]=d})),delete _[t]),d.deep>n&&(p[t]=d.deep)}f&&(l.push(t),m[t]=m[t]||{},m[t].otherDecoratorStates={},f.forEach((e=>{m[e]?m[t].otherDecoratorStates[e]=m[e]:_[e]?_[e].push(m[t].otherDecoratorStates):_[e]=[m[t].otherDecoratorStates]})))}}))}else{var b=Date.now(),S=Math.random(),w=1e4*b+Math.round(9999*S);u.forEach((function(t){var r=e[t],{getState:n}=r,o=n();o.prefix=i,o.api=a,o.originArgs=g,o.invokeTime=b,o.random=S,o.uuid=w,m[t]=o})),l.forEach((function(t){var r=e[t],{otherDecoratorStates:n}=r;m[t]=m[t]||{},m[t].otherDecoratorStates={},n.forEach((e=>{m[t].otherDecoratorStates[e]=m[e]}))}))}var C,x,k=()=>{if(J(g));var o,c,u,l,f;try{var d,_=!1,b=s.get("beforeExecute");if(b&&b.forEach((function({fn:e,metaKey:t}){var r=e.call(m[t]);Array.isArray(r)&&r[0]===Jl&&(_=r)})),!1!==_)return r[0]&&"object"==typeof r[0]?void setTimeout((()=>{st(y,r[0],_[1])})):rp(_[2])?_[2]():void 0;var S=s.get("paramHandler");S&&S.forEach((function({fn:e,metaKey:t}){m[t].modifyArgs?e.call(m[t],r):e.call(m[t],...r)})),(!(null==m||null===(d=m.promised)||void 0===d||!d.promise)||!Kl(y,r[0]))&&(h||(v=Object.assign({},v),m.timeout&&(m.timeout.afterCopyArgs=v)),["complete","success","fail"].forEach((function(e){var t=s.get(e),r=v[e];v[`__origin_${e}__`]=r,t&&(v[e]=function(n){"fail"===e&&(o=n),"success"===e&&(l=n);try{t.forEach((({fn:e,metaKey:t})=>e.call(m[t],n)))}catch(e){if(e===op)return}rp(r)&&r.call(g,n);var a="after"+e[0].toUpperCase()+e.slice(1),i=s.get(a);i&&i.forEach((({fn:e,metaKey:t})=>e.call(m[t],n)))})})),h||(r[0]=v,h=!0));var w=s.get("hookArgs");w&&w.forEach((({fn:e,metaKey:t})=>e.call(m[t],v)));var C=!1,x=s.get("breakDirectly");if(x)for(var k=0;k<x.length;k++){var I=x[k].fn.call(m[x[k].metaKey],...r);if(I!==Yl){C=!0,u=I;break}}if(!C)try{u=t.call(this,...r)}catch(e){var P=!1,A=s.get("errorHandler");A&&A.forEach((({fn:t,metaKey:r})=>{t.call(m[r],e)===Zl&&(P=!0)})),P||(c=e)}var E={};for(var T in p)if(J(u)){var R=Object.getPrototypeOf(u);for(var M of Object.getOwnPropertyNames(u).concat(Object.getOwnPropertyNames(R))){var L=M in R?R:u,O=(i||"")+a,D=Hl(L,M);if(D&&(!D.get&&D.writable&&rp(L[M]))){var B={prefix:O+".",api:M};E[M]||(E[M]=B),E[M][T]=e[T]}}}var j=s.get("resultHandler");if(j&&j.forEach((({fn:e,metaKey:t})=>{var n=e.call(m[t],u,r,{syncError:c,callbackError:o});n!==Ql&&(u=n)})),!ip.has(u)&&J(u)){for(var N of Object.getOwnPropertyNames(E))u[N]=cp(E[N],u[N],u,n+1);ip.add(u)}}catch(e){f=e;var F=s.get("uncaughtErrorHandler");F&&F.forEach((({fn:t,metaKey:r})=>{t.call(m[r],e)===Zl&&(f=null)}))}var W=!0,U=s.get("afterCallback");if(U&&U.forEach((function({fn:e,metaKey:t}){e.call(m[t],r,l||u,{syncError:c,callbackError:o})===Zl&&(W=!1)})),f)throw f;if(!c)return u;if(W)throw c},I=!0,P=s.get("asyncPrepositive"),A=s.get("syncPrepositive"),E=(null==m?void 0:m.promised)&&!(null!==(o=v)&&void 0!==o&&o.success||null!==(f=v)&&void 0!==f&&f.fail||null!==(d=v)&&void 0!==d&&d.complete);if(A)for(var T of A){var{fn:R,metaKey:M}=T,L=R.call(m[M],v);if(L[0]){if(L[3])return;var O,D,B=void 0;return B=L[4]?`${i+a}:fail${L[1]?" ":""}${L[1]}`:{errMsg:`${i+a}:fail${L[1]?" ":""}${L[1]}`,...L[2]?{errno:L[2]}:{}},E?Promise.reject(B):(null!==(O=v)&&void 0!==O&&O.fail&&v.fail(B),void(null!==(D=v)&&void 0!==D&&D.complete&&v.complete(B)))}}if(P){var j=[];P.forEach((({fn:e,metaKey:t})=>{j.push(e.call(m[t],v))})),j.find((e=>Q(e)))&&(x=Promise.all(j))}return x?E?new Promise(((e,t)=>{x.then((r=>{for(var n of r)if(n[0]){I=!1,C=n[4]?`${i+a}:fail${n[1]?" ":""}${n[1]}`:{errMsg:`${i+a}:fail${n[1]?" ":""}${n[1]}`,...n[2]?{errno:n[2]}:{}};break}return I?void e(k()):void t(C)}))})):void x.then((e=>{for(var t of e)if(t[0]){I=!1,C=t[4]?`${i+a}:fail${t[1]?" ":""}${t[1]}`:{errMsg:`${i+a}:fail${t[1]?" ":""}${t[1]}`,...t[2]?{errno:t[2]}:{}};break}if(I)return k();var r,n;null!==(r=v)&&void 0!==r&&r.fail&&v.fail(C),null!==(n=v)&&void 0!==n&&n.complete&&v.complete(C)})):k()};return n>1?f.bind(r):f}var up={promise:null};function lp(){return sp("promised",{hookHandlers:{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:o}=t;if(!(r||n||o)){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}));var a=this.promise.then.bind(this.promise),i=this.promise.catch.bind(this.promise),s=!1,c=!1;i((e=>{s&&!c&&p.thirdErrorReport({error:e})})),this.promise.then=(...e)=>("function"==typeof e[0]&&(s=!0),"function"==typeof e[1]&&(c=!0),a(...e)),this.promise.catch=e=>(c=!0,i(e)),up.promise=this.promise}},resultHandler(e){var t,r;if(null!==(t=this.otherDecoratorStates.checkTapPermission)&&void 0!==t&&t.refuseExec)return Ql;if(null!==(r=this.otherDecoratorStates.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return Q(this.otherDecoratorStates.apiCache.cacheInfo.ret)?this.otherDecoratorStates.apiCache.cacheInfo.ret:(this.resolve(this.otherDecoratorStates.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.otherDecoratorStates)&&void 0!==n&&n.apiCache&&(this.otherDecoratorStates.apiCache.cacheInfo.rawResult=e),this.promise}return Ql},success(e){var t,r,n=null===(t=this.otherDecoratorStates)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)}},getState:()=>({promise:void 0,resolve:void 0,reject:void 0}),otherDecoratorStates:["checkTapPermission","apiCache"]})}var pp=function(){if(!this.emitFail){if(this.isTimeout)throw op;clearTimeout(this.timer)}};var fp={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,isShowing:!1},dp={jsapi_location:!0,jsapi_location_background:!0,jsapi_gameclubdata:!0,group_jumpfinderlive:!0,jsapi_fuzzy_location:!0,webapi_userinfo:!0,webapi_getuserwxphone_group:!0,webapi_werun:!0,jsapi_licenseplate:!0,jsapi_record:!0,jsapi_camera:!0,webapi_bluetooth:!0,jsapi_photos_album:!0,jsapi_phonecontact:!0,jsapi_photocalendar:!0,jsapi_choose_location:!0,jsapi_address:!0,jsapi_invoice:!0,jsapi_media:!0,jsapi_messagefile:!0,jsapi_accelerometer:!0,jsapi_wxfriend_interaction:!0,jsapi_compass:!0,jsapi_devicemotion:!0,jsapi_gyroscope:!0,jsapi_clipboard:!0};function hp({UIArea:e=0,PositionID:t=0,ActionID:r,SourceID:n="",Time:o,ExternInfo:a,AppType:i}){var s={key:"PrivacyPopup",value:[qa(),R.appLaunchInfo.scene,0,101100,e,t,r,"",0,0,"",n,"","",0,"",o,0,"",0,1,0,a?encodeURIComponent(JSON.stringify(a)):"",i,101].join(",")};p.reportKeyValue(s)}var gp={},vp="wxfile://__wxprivate__/privacy",yp=vp+"/scopeState.txt";function mp(e){e.apiName;var t=JSON.stringify(e.state);if("{}"!==t){var r=()=>{to({filePath:yp,data:t,encoding:"utf8",success(e){},fail(e){}})};no({path:vp,success(){r()},fail(e){1300002===e.errno&&ro({dirPath:vp,recursive:!1,success(){r()},fail(e){}})}})}}var _p,bp=br(((e={})=>{var t=e.success,r=e.complete,n={data:""+(ye?0:"number"==typeof R.appLaunchInfo.appversion?R.appLaunchInfo.appversion:"number"==typeof R.accountInfo.appVersion?R.accountInfo.appVersion:0),errMsg:"getAppContact:ok"};t&&t(n),r&&r(n)})),Sp=!1,wp=()=>Sp?_p:(Sp=!0,_p=Promise.any([Cp(),xp()]).then((e=>{var t,r,n,o,a,i,s;e.isFetchedData,fp.isCache=!0,fp.protoRes=e;var c=fp.protoRes.data,u=c.unauth_scope_list||[],l=c.need_popup_scope_list||[],p=c.min_popup_interval;fp.minGap=p,fp.forceOffcial=c.force_official,1===fp.forceOffcial&&(fp.useCustomPrivacyAuthorization=!1),(c.popup_interval_item_list||[]).forEach((e=>{fp.popUpInterval[e.scope]=e.min_popup_interval}));var f=c.wording,d=fp.regExp,h=null==f?void 0:f.privacy_protocol_desc,g=null===(t=h)||void 0===t?void 0:t.match(d);fp.customUrl=null===(r=g)||void 0===r?void 0:r[2],fp.urlTitle=null===(n=g)||void 0===n?void 0:n[3],fp.standardInfo.title=f.title_wording,g=null===(o=h=null==f?void 0:f.desc)||void 0===o?void 0:o.match(d),fp.standardInfo.desc1=null===(a=g)||void 0===a?void 0:a[1],fp.standardInfo.urlTitle=null===(i=g)||void 0===i?void 0:i[3],fp.standardInfo.desc2=null===(s=g)||void 0===s?void 0:s[4],fp.standardInfo.allow=f.allow_wording,fp.standardInfo.cancel=f.cancel_wording,fp.standardInfo;var v=c.action_code;fp.actionCache=v,fp.banReasonCache=c.ban_reason,Object.assign(gp,dp),u.forEach((e=>{fp.unauthScopeCache[e]=!1,gp[e]=!1})),fp.unauthScopeCache,fp.hasAgree||(fp.needScopeCache=l),fp.needScopeCache,fp.needScopeCache.forEach((e=>{gp[e]=!1})),mp({apiName:"getPrivacyAuthinfoPromise",state:gp})}))),Cp=()=>new Promise(((e,t)=>{(e=>{try{ur("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){ct({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){ct({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}})({fetchType:"1",success:r=>{if(r.fetchedData)try{var n=JSON.parse(r.fetchedData);e({isFetchedData:!0,data:n})}catch(e){g.error("parse private_getBackgroundFetchData fail",e),t(e)}else t({errMsg:"empty fetchedData"})},fail:e=>{g.error("backgroundfetch privacy fail",e),t(e)}})})),xp=()=>bp().catch((()=>({}))).then((e=>e.data?JSON.parse(e.data):0)).then((e=>{var t,r={popup_type:fp.useCustomPrivacyAuthorization?1:0,version:3,libVersion:R.SDKVersion,use_privacy_check:null!==(t=R.__usePrivacyCheck__)&&void 0!==t&&t,app_version:e};return Ir({apiName:"webapi_getwxauserprivacyauthinfo",sdkApiName:"getwxauserprivacyauthinfo",reqData:r})})),kp=function(){var e=yr()((function*(e){var t,r,n,{event:o,env_check:a}=e,i="reportPrivacyAuthorization";switch(o){case"exposureAuthorization":break;case"agree":if(fp.needScopeCache.forEach((e=>{gp[e]=!0})),mp({apiName:i,state:gp}),fp.needScopeCache=[],fp.hasAgree=!0,hp({UIArea:fp.useCustomPrivacyAuthorization?10110003:10110002,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-fp.popUpTime,ExternInfo:fp.externInfo}),!1===fp.isCache)try{yield wp()}catch(e){return void e.errors}if(0!==(null===(t=fp.protoRes)||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.need_popup_scope_list)||void 0===n?void 0:n.length)){var s={opt:1,auth_scope_list:fp.protoRes.data.need_popup_scope_list,env_check:a};Ir({apiName:"webapi_setwxauserprivacyauthinfo",sdkApiName:"setwxauserprivacyauthinfo",reqData:s}).then((e=>{})).catch((e=>{}))}break;case"disagree":hp({UIArea:fp.useCustomPrivacyAuthorization?10110003:10110002,PositionID:2,ActionID:7,AppType:1e3,Time:Date.now()-fp.popUpTime,ExternInfo:fp.externInfo})}}));return function(t){return e.apply(this,arguments)}}();new Set;xc((e=>{e.timeStamp,!0})),rn((()=>{!1}));var Ip=()=>{Date.now(),!0},Pp=(Object.assign,(e,t)=>{((e,t,r)=>{r&&ge(e,t)})(e,t,"undefined"==typeof IS_SDK_PACKAGE)}),Ap=new I({maxListeners:2e5}),Ep="portrait";R.onReady((()=>{Ep=R.deviceOrientation||Ep,(R.isReady?Object.assign({},ba):((new Error).stack,{})).model||""}));var Tp=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;var Rp=e=>{var{id:t}=JSON.parse(e.data);Ap.emit(Tp("click",t))};Pp("onTextViewClick",Rp),Pp("onImageViewClick",Rp),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();Pp(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);Ap.emit(Tp(t,r),e.touch||e.touches)}else Ap.emit(Tp(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));new Map,new WeakMap;R.onReady((()=>{0}));new Map;var Mp=!1,Lp=(e,t,r)=>{t&&(il(11,{res:e,cost:-1}),setTimeout((()=>Lp(e,t-1,r)),r))},Op=0,Dp=0;new Set;ge("onDumpWebviewDom",(e=>{(e=JSON.parse(e)).domData={1:e.innerText,2:e.innerHTML,3:e.textContent},ur("setAcquireWebviewDom",{enableAcquireWebviewDom:!1}),Lp(e,Op,Dp)}));var Bp=[];function jp(e,t){try{Bp.forEach((r=>r(e,t)))}catch(e){}}var Np=(e={},t=!1)=>{var r={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==a.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==a.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:"",upper:!1};if(at("showModal",r=function(e,t){for(var r in t)e[r]=t[r];return e}(r,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var n=!1;if(e.__sdk_inner_allowShowMoreLength__&&(n=!0),!n&&r.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)st("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!n&&r.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)st("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var o=d.getCurrentRoutePath(),i=qa();jp("showModal",r),ur("showModal",r,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),e.cancel=_e?!e.confirm:!e.confirm&&Boolean(e.cancel),jp("closeModal",e),Ip()},beforeAll(){!0},afterAll(){!1;Mp&&Mp("modal",{content:r.content,title:r.title,networkType:i}),((e={})=>{if(("undefined"==typeof IS_WORKER||!IS_WORKER)&&sc){var{apiName:t,content:r="",routePath:n,networkType:o,title:a=""}=e,i=cc?"interactiveApiPay":"interactiveApiGoverment";i=oc[i];var s=a+","+r;"showModal"!==t&&"showToast"!==t||dn().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var a=[t,encodeURIComponent(s),n,pc,r,o,encodeURIComponent((c=e.hitUserLowPriortyCustom,u=e.hitUserHighPriorityCustom,`0,0,${c?2:u?3:0}, ${c||u?2:0}`))].join(",");p.reportKeyValue({key:i,value:a})}var c,u})).catch((e=>{g.error("resolveInteractiveApiContent:",e)}))}})({apiName:"showModal",content:r.content,title:r.title,routePath:o,networkType:i})}})}}},Fp=(e={})=>{(e=Object.assign({},e)).__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,void 0!==e.upper&&delete e.upper,Np(e)},Wp=new I,Up=fe("LifeCycle:beforeHide"),$p=fe("LifeCycle:Hide"),qp=fe("LifeCycle:afterHide"),Vp=($p.emitInternal.bind($p),$p.emitGlobal.bind($p),Up.emitInternal.bind(Up),qp.emitInternal.bind(qp),$p.onMethod,$p.offMethod,Up.internalOnMethod,Up.internalOffMethod,$p.internalOnMethod);$p.internalOffMethod,qp.internalOnMethod,qp.internalOffMethod;Wp.on("beforeTouchEnd",(()=>{!0})),Wp.on("afterTouchEnd",(()=>{!1})),Vp((()=>{!1}));Symbol("skipTouchEventCheckFlag");var Gp=function(){var e=yr()((function*(e={}){if(!1===fp.isCache)try{yield wp()}catch(e){e.errors}hp({UIArea:fp.useCustomPrivacyAuthorization?10110003:10110002,PositionID:3,ActionID:2,AppType:1e3,Time:Date.now()-fp.popUpTime,ExternInfo:fp.externInfo}),null!==fp.customUrl?ur("private_openUrl",{url:fp.customUrl,isNativeStyle:!0,success:e.success,fail:t=>{t.errMsg+=" invalid url: "+fp.customUrl,e.fail(t)},complete:e.complete},{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPrivacyContract")}}):st("openPrivacyContract",e,"url is null")}));return function(){return e.apply(this,arguments)}}(),Hp=fe("lifeCycle:AppRoute"),Kp=Hp.internalOnMethod;Hp.internalOffMethod,new Set,Hp.offMethod;var zp=new I;ce("onPageReload",((e={},t=0)=>{e.webviewId=t,zp.emit("onPageReload",e)}));var Jp,Xp={},Qp=0,Yp=function(e,t,r){var n=r;n||(n=Qp++),((e,t)=>(Xp[e]=Xp[e]||{},!!Xp[e][t]||(Xp[e][t]=!0,!1)))(e,n)||zp.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},Zp=fe("navigateBackIntercept"),ef=[1,2,3,4],tf=[],rf=0;ce("onNavigateBackIntercept",((e={})=>{var{id:t}=Jp||{};Zp.emit({...e,id:t}),$e("onNavigateBackIntercept",{...e,id:t})}));var nf=Object.create(null);Kp((e=>{var t=e.webviewId;nf[t]||(Yp(t,(()=>{if(delete nf[t],tf.length)for(var e,r=0;r<tf.length;)(e=tf[r]).options.webviewId&&e.options.webviewId===t?tf.splice(r,1):r+=1}),"setNavigateBackInterception"),nf[t]=!0),tf.length&&af()}));var of,af=function(){var e=yr()((function*(){var e;Jp=void 0;for(var t=tf.length-1;t>=0;--t)if(void 0===(e=tf[t]).options.webviewId||e.options.webviewId===mt.currentWebviewId){Jp=e;break}var r=Jp?Jp.options.scopes:[],n=new Set(r||[]);return lr("setNavigateBackInterception",{scopes:ef.map((e=>({type:e,interception:n.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),sf=function(){var e=yr()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:ef};var r=++rf;return tf.push({id:r,options:e}),yield af(),{id:r}}));return function(){return e.apply(this,arguments)}}(),cf=(dt("setNavigateBackInterceptionById",sf),function(){var e=yr()((function*({id:e}={}){var t=tf.findIndex((t=>t.id===e));t<0||(tf.splice(t,1),yield af())}));return function(){return e.apply(this,arguments)}}()),uf=(dt("stopNavigateBackInterceptionById",cf),Zp.internalOnMethod),lf=Zp.internalOffMethod,pf=function(){var e=yr()((function*(e,t=ef){var{id:r}=yield sf({scopes:t}),n=t=>{t.id===r&&e(t)};return uf(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),ff=function(){var e=yr()((function*(e){var{id:t,handler:r}=(yield e)||{};yield cf({id:t}),lf(r)}));return function(t){return e.apply(this,arguments)}}(),df=null,hf=[],gf=(br((({title:e,desc1:t,urlTitle:r,desc2:n,allow:o,cancel:a,success:i})=>{fp.popUpTime=Date.now(),hp({UIArea:10110002,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:fp.externInfo});fp.isShowing?hf.push(i):(fp.isShowing=!0,__sclEngine__.initScl((s=>{of=pf((e=>{console.log("拦截回调",e)}),[1,2,3]),(df=s.mainRoot.append("privacy-pop",{title:e,desc1:t,urlTitle:r,desc2:n,confirmText:o,cancelText:a})).addListener("jump",(({detail:e})=>{"jump"===e.reason&&Gp({success:()=>{},fail:e=>{}})})),df.addListener("destroy",(({detail:e})=>{if(ff(of),"cancel"===e.reason){kp({event:"disagree"});var t={success:!1,errMsg:"privacy permission is not authorized",errno:104};i(t),hf.forEach((e=>{e(t)})),fp.isShowing=!1,hf=[];try{s.mainRoot.remove(df)}catch(e){g.error("remove error:",e)}df=null}else{kp({event:"agree"});var r={success:!0};i(r),hf.forEach((e=>{e(r)})),fp.isShowing=!1,hf=[];try{s.mainRoot.remove(df)}catch(e){}df=null}}))}),!0))})),Symbol("Cache"),1),vf=2,yf=4,mf=6,_f=7,bf=8,Sf=9,wf=10,Cf=e=>{if(e.action){var t=e.data||"";V(t)||(t=ee(t));var r=e.action;if(G(r)||(r=Number(r),!z(r))){var n=e.uintData||0;if(G(n)||(n=Number(n),!z(n))){var o=e.data2||"";V(o)||(o=ee(o)),ur("sendSaaAReportData",{data:t,uintData:n,action:r,data2:o,moduleId:R.accountInfo.appId})}}}},xf=null,kf=null,If=e=>{var t=Z(e,{method:"",param:{}});if(t)throw new Error(`onMiniappNativeExtensionMsg callback error: ${t}`);"object"==typeof xf&&xf[e.method]&&xf[e.method](e.param)},Pf=e=>{ur("sendExtNative",e)},Af=(e={},t=!1)=>{var r;null===xf&&(r=If,ce("onExtNative",(e=>{r&&r(e)})),xf={},kf={});var n=Z(e,{method:"",callback:()=>{}});if(n)throw new Error(`onMiniappNativeExtensionMsg error: ${n}`);kf[e.method]||(kf[e.method]=new Set,xf[e.method]=r=>{var n=kf[e.method];n&&n.forEach((e=>e(r))),t&&Cf({action:9,data:e.method,uintData:1})}),kf[e.method].add(e.callback)},Ef=(e,t)=>{if("object"==typeof e&&(t=e.callback,e=e.method),"string"!=typeof e)throw new Error("offMiniappNativeExtensionMsg error: paramter method should be string");if(!t)return null!==xf&&delete xf[e],void(null!==kf&&delete kf[e]);kf[e]&&(kf[e].delete(t),0===kf[e].size&&(delete kf[e],delete xf[e]))},Tf=function(){var e=yr()((function*(e){return new Promise((t=>{Pf({method:"__is__native__register__exits__",param:{method:e},success(e){t(e.result)},fail(){t(!1)}})}))}));return function(t){return e.apply(this,arguments)}}(),Rf=1,Mf=2,Lf=3,Of=4,Df=5,Bf=6,jf=8,Nf=0,Ff=1,Wf=3,Uf=4,$f=5;function qf(e){var t=e.lastIndexOf("."),r=t<1?"":e.substr(t+1);return-1!==["png","jpg","jpeg","bmp","webp","psd","svg","tiff"].indexOf(r.toLowerCase())}var Vf=!1,Gf=void 0,Hf=[];function Kf(){if(Vf=!1,Gf=void 0,Hf.length>0){var e=Hf.shift();zf(e)}}Af({method:"__appActiveBySystemForOpenSdkQueue__",callback:()=>{!function(e){Gf&&"function"==typeof Gf.fail&&(ct({name:"sendOpenReq",args:Gf,errno:10100001,errMsg:e,errCode:void 0,success:!1}),Gf.success=()=>{},Gf.fail=()=>{});Kf()}("opensdk failed 并没有通过微信返回多端App。")}});var zf=(e,t)=>{Vf?Hf.push(e):(Gf=e,Vf=!0,ur("sendOpenReq",{...e,success(...t){e.success&&e.success(...t),Kf()},fail(t){e.fail&&e.fail(t),Kf()},requestInQueue:!1},t))},Jf=fe("sendOpenReq_log");ce("sendOpenReq_log",(e=>{Jf.emit(e)}));var Xf,Qf=Jf.onMethod,Yf=Jf.offMethod,Zf=(e={})=>{Cf({action:12,data:"miniapp.login"}),zf({...e,scope:"snsapi_userinfo",type:Rf})},ed=new Map,td=()=>{var e=new Map;return ye||c.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper?new Proxy(e,{get:()=>()=>{}}):e},rd=null;function nd(){return Xf?Promise.resolve(Xf):rd||(rd=Ir({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array(Tu(t)),o=new Uint8Array(Tu(r));return rd=null,Xf={encryptKeyBytes:n,ivBytes:o}})).catch((e=>{throw rd=null,e})))}var od=!1;function ad(){od||(dn().runTask("initAesWasm",{}),od=!0)}function id(){return id=yr()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&ad();var o=yield r,a=yield function(e,t,r){return dn().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(t,n,o);return a})),id.apply(this,arguments)}function sd(e={},t){var{key:r,data:n,dataType:o,storageId:a,encryptEnv:i="wasm"}=e,{failWithMsg:s}=ut(e,"setStorage"),c=[nd()];"wasm"===i&&ad(),Promise.all(c).then((([e])=>function(e,t,r){return dn().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(n,i,e))).then((n=>{ur(_e?"setStorageAsync":"setStorage",{key:r,data:n,dataType:o,storageId:a,success:t=>{ed.get(a).set(r,{data:n,dataType:o}),X(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),g.error("encryptThenSetStorage error",e)}))}var cd=dt("getStorage",yr()((function*(e={},t){var{encrypt:r,key:n}=e,o=r&&WeixinWorker.isSupportWXLibWorker(),a=_e?"getStorageAsync":"getStorage";it(e,{key:""});var s,c={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},u=Object.assign({},e,{storageId:t}),l=ed.get(t),p=o?nd():null;return!i.env.isMagicBrushFrameEnv&&l.has(n)?s={...l.get(n)}:(s=yield lr(a,u,c),l.set(n,{data:s.data,dataType:s.dataType})),o&&(s.data=yield function(){return id.apply(this,arguments)}(e,s.data,p)),s.data=(e._stringToAnyType||se)(s.data,s.dataType),delete s.dataType,s})));var ud=dt("batchGetStorage",yr()((function*(e={},t){it(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=ed.get(t),o=yield lr("batchGetStorage",r);return Array.isArray(o.dataList)&&(o.dataList=o.dataList.map(((e,t)=>{var{data:o,dataType:a}=e;return o&&n.set(r.keyList[t],e),se(o,a)}))),o}))),ld=dt("batchSetStorage",function(){var e=yr()((function*(e,t){it(e,{kvList:[{key:"1"}]});var r=ed.get(t),n={kvList:e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=ae(e.value);return{key:e.key,data:t,dataType:n}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete,contextId:e.contextId};return yield lr("batchSetStorage",n)}));return function(t,r){return e.apply(this,arguments)}}()),pd=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},fd={setStorage:(e,t={})=>{var{encrypt:r}=t;if(at("setStorage",t,{key:""}))try{var{data:n,dataType:o}=ae(t.data),a=t.key,s={key:a,data:n,dataType:o,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv,contextId:t.contextId},c={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&WeixinWorker.isSupportWXLibWorker())sd(s,c);else{var u=ed.get(e),l=u.get(a);if(!i.env.isMagicBrushFrameEnv&&l&&l.dataType===o&&l.data===n)ct({name:"setStorage",args:t});else ur(_e?"setStorageAsync":"setStorage",s,{...c,beforeSuccess:()=>{u.set(a,{data:n,dataType:o})}})}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},batchSetStorage:(e,t={})=>ld(t,e),setStorageSync:(e,t,r="")=>{if("string"==typeof t){var n=_e?"setStorage":"setStorageSync",{data:o,dataType:a}=ae(r),i=!1,s="",c=ed.get(e),u=c.get(t);if(!u||u.dataType!==a||u.data!==o){if(ur(n,{key:t,data:o,dataType:a,storageId:e,fail(e={}){i=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),i)throw new Lr(s);c.set(t,{data:o,dataType:a})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${q(t)}`)},batchSetStorageSync:(e,t)=>{it(t,[{key:"1"}]);var r,n=ed.get(e),o=t.map((e=>{var{data:t,dataType:r}=ae(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return ur("batchSetStorageSync",{storageId:e,kvList:o,beforeAll(e){r=e}}),r},getStorage:(e,t={})=>cd(t,e),batchGetStorage:(e,t={})=>ud(t,e),getStorageSync:function(e,t){var r=arguments[arguments.length-1]||{};if(V(t)){var n,o=ed.get(e);if(o.has(t)){var{data:a,dataType:i}=o.get(t);return(r._stringToAnyType||se)(a,i)}return ur(_e?"getStorage":"getStorageSync",{key:t,storageId:e},{beforeSuccess:(e={})=>{o.set(t,{data:e.data,dataType:e.dataType}),n=(r._stringToAnyType||se)(e.data,e.dataType)},beforeFail:()=>{n=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),n}},batchGetStorageSync:(e,t)=>{var r;it(t,["1"]);var n=ed.get(e);return ur("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:o,dataType:a}=e;return o&&n.set(t[r],e),se(o,a)}))}}),r.dataList},getStorageInfo:(e,t)=>{ur("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=pd(e.keys)}})},getStorageInfoSync:e=>{var t;return ur("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=pd(e.keys),delete e.errMsg}}),t},removeStorage:(e,t)=>{at("removeStorage",t,{key:""})&&(ed.get(e).delete(t.key),ur("removeStorage",Object.assign({},t,{storageId:e})))},removeStorageSync:(e,t)=>{at("removeStorageSync",t,"")&&(ed.get(e).delete(t),ur("removeStorageSync",{key:t,storageId:e}))},clearStorage:(e,t)=>{ed.get(e).clear(),ur(_e?"clearStorageAsync":"clearStorage",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},clearStorageSync:e=>{ed.get(e).clear(),ur(_e?"clearStorage":"clearStorageSync",{storageId:e})}},dd={app:0,game:0,opendata:1,singlePage:2,cache:3,idaas:4},hd=e=>{var t=dd[e];return ed.has(t)||ed.set(t,td()),Object.keys(fd).reduce(((e,r)=>(e[r]=(...e)=>fd[r](t,...e),e)),{})};const gd={app:hd("app"),game:hd("game"),opendata:hd("opendata"),singlePage:hd("singlePage"),cache:hd("cache"),idaas:hd("idaas")};var vd=gd.idaas,yd="idaas_tokens",md="",_d=0;function bd(e){md=e.sysAccessToken,_d=e.expireTime;var t=Id();Pd(t?{...t,...e}:{...e})}function Sd(){if(md)return md;var e=Id();return e?(md=e.sysAccessToken,_d=e.expireTime,md):""}function wd(){var e=Sd();return e?{sysAccessToken:e,expireTime:_d}:{sysAccessToken:"",expireTime:0}}function Cd(){var e=Id();return e?e.sysRefreshToken:""}function xd(){md="",_d=0,Pd("")}function kd(e){return String(e).length<13&&(e*=1e3),Date.now()<e}function Id(){try{return vd.getStorageSync(yd)}catch(e){console.error("idaas getStorage fail ",e.message),ye&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}function Pd(e){try{return vd.setStorageSync(yd,e)}catch(e){console.error("idaas setStorage fail ",e.message),ye&&console.warn("请升级至最新 nightly 以支持调试身份管理 API")}}var Ad=void 0,Ed=void 0,Td="MULTIAPPID";function Rd(){return Ad?Promise.resolve(Ad):Ed||(Ed=new Promise((e=>{var t=()=>{e(Ad=ye?{authorizeMiniprogramType:0,clientId:Td,userName:"",miniprogramLoginPath:""}:{authorizeMiniprogramType:0,clientId:"",userName:"",miniprogramLoginPath:"",adaptWxLogin:!1})};eo({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:r=>{var n={};try{n=JSON.parse(r.data)}catch(e){return void t()}if(n.identityServiceConfig)if(n.identityServiceConfig.clientId||ye){var o=n.identityServiceConfig.miniprogramLoginPath;o&&!o.startsWith("/")&&(n.identityServiceConfig.miniprogramLoginPath="/"+o),Ad=n.identityServiceConfig,ye&&(Ad={...Ad,clientId:Td}),e(Ad)}else t();else t()},fail:e=>{console.error("idaas get identityServiceConfig fail ",e.errMsg),ye&&console.warn("请升级至最新 nightly 以支持调试身份管理 API"),t()}})})).finally((()=>{Ed=void 0})))}var Md={Idaas_Refresh_Token_Expired:-2001020},Ld=void 0;function Od(){var{sysAccessToken:e,expireTime:t}=wd(),r=Cd(),n={sysAccessToken:"",expireTime:0};return e&&kd(t)?Promise.resolve({sysAccessToken:e,expireTime:t}):r?Ld||(Ld=new Promise((e=>{var t=0,o=()=>Rd().then((a=>{var i;a.clientId?(i={refresh_token:r,grant_type:"refresh_token",client_id:a.clientId},new Promise((e=>{Pr({apiName:"idaas_oauth_token",reqData:JSON.stringify(i),success:t=>{"object"==typeof t.data?e({errCode:t.logicRet,errMsg:t.logicErrmsg,...t.data}):e({errCode:t.logicRet,errMsg:t.logicErrmsg,...JSON.parse(t.data||"{}")})},fail:t=>{console.error("updateSysAccessToken fail",{...t}),e({errCode:t.err_code||-1,errMsg:t.errMsg.replace("sendSaaADataPipe:fail ","")})}})}))).then((r=>{if(r.errCode===Md.Idaas_Refresh_Token_Expired)return xd(),e(n);0===r.errCode?(bd({sysAccessToken:r.access_token,expireTime:r.expire_time}),e(wd())):t<3?(t++,o()):e(n)})).finally((()=>{Ld=void 0})):e(n)}));o()})),Ld):Promise.resolve(n)}var Dd=(e={})=>{zf({...e,type:Lf})},Bd=(e={})=>{ur("closeAppModule",Dr(e,{requestInQueue:!1}))},jd=(e={})=>{ur("sdk_getSDKVersion",e)};Vl((()=>{Co().readFile({filePath:"/saaa_config.json",encoding:"utf8",position:0,success(e){try{var t=JSON.parse(e.data).minSDKVersionMap;"object"==typeof t&&jd({success(e){var r,n;"ios"===e.platform?(r=e.iosVersion,n=t.iosVersion):"android"===e.platform&&(r=e.androidVersion,n=t.androidVersion),"string"==typeof n&&"string"==typeof r&&((e,t)=>{if(e===t)return 0;for(e=e.split("."),t=t.split(".");e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0");for(var r=0;r<e.length;r++){if(1*e[r]>1*t[r])return 1;if(1*e[r]<1*t[r])return-1}return 0})(n,r)>0&&Np({title:"错误！",content:`SDK版本(${r})无法兼容当前代码包的版本要求(${n})`,confirmText:"关闭App",showCancel:!1,complete:()=>{Bd()}})}})}catch(e){}},fail(e){}})}));var Nd,Fd="0",Wd=1,Ud=2,$d=3,qd=4,Vd=5,Gd=6,Hd=7,Kd=8,zd=9,Jd=10,Xd=11,Qd=12,Yd=e=>(_e||st("IAP",e,"IAP only for IOS"),!_e),Zd=e=>{ur("takeIAPAction",{...e,success(...t){e.success&&e.success(...t)},fail(t){e.fail&&e.fail(t)},requestInQueue:!1})},eh=["updatedTransactions","restoreCompletedTransactionsFailedWithError","paymentQueueRestoreCompletedTransactionsFinished","shouldAddStorePayment","paymentQueueDidChangeStorefront","didRevokeEntitlementsForProductIdentifiers","removedTransactions"],th=null,rh=!1,nh={requestSKProducts:(e={})=>{if(Cf({action:12,data:"requestSKProducts"}),!Yd(e))if(Array.isArray(e.productIdentifiers)){if(!(e.productIdentifiers.filter((e=>"string"!=typeof e||0===e.length)).length>0)){var t=`${Fd++}_${Date.now()}`;return Zd({...e,requestId:t,type:Wd}),{requestId:t}}st("requestSKProducts",e,"One of the productIdentifiers is not string or is empty string")}else st("requestSKProducts",e,"productIdentifiers should be array")},cancelRequestSKProducts:(e={})=>{if(!Yd(e)){var t=Z(e,{requestId:"1"});t?st("cancelRequestSKProducts",e,`parameter error: ${t}`):Zd({...e,type:Ud})}},addPaymentByProductIdentifiers:(e={})=>{if(Cf({action:12,data:"addPaymentByProductIdentifiers"}),!Yd(e)){var t={productIdentifier:"1"};void 0!==e.applicationUsername&&(t.applicationUsername=""),void 0!==e.quantity&&(t.quantity=1),void 0!==e.simulatesAskToBuyInSandbox&&(t.simulatesAskToBuyInSandbox=!0),void 0!==e.discountIdentifier&&(t.discountIdentifier="1");var r=Z(e,t);r?st("addPaymentByProductIdentifiers",e,`parameter error: ${r}`):Zd({...e,type:$d})}},addTransactionObserver:(e={})=>{if(Cf({action:12,data:"addTransactionObserver"}),!Yd(e)){var t=eh.filter((t=>!(!e[t]||"function"==typeof e[t])));t.length>0&&st("addTransactionObserver",e,`parameter error: ${t.concat(" ")} is not function`),null===th&&(th=[],ce("onPaymentObserverCallback",(e=>{Array.isArray(th)&&th.forEach((t=>{"function"==typeof t[e.type]&&t[e.type]&&t[e.type](e.params)}))}))),th.push(e),rh||(Zd({...e,type:qd}),rh=!0)}},removeTransactionObserver:(e={})=>{if(!Yd(e))if(Array.isArray(th)){var t=th.indexOf(e);t>-1?(th.splice(t,1),"function"==typeof e.success&&e.success({msg:"removeTransactionObserver:ok"})):st("addTransactionObserver",e,"cant find TransactionObserver")}else st("addTransactionObserver",e,"no TransactionObserver is added")},finishTransaction:(e={})=>{if(Cf({action:12,data:"finishTransaction"}),!Yd(e)){var t=Z(e,{transactionIdentifier:"1"});t?st("finishTransaction",e,`parameter error: ${t}`):Zd({...e,type:zd})}},restoreCompletedTransactions:(e={})=>{Yd(e)||Zd({...e,type:Kd})},canMakePayments:(e={})=>{if(!Yd(e)){var t=!1;return Zd({...e,success:e=>{t=!!e.success},type:Hd}),t}},getAppStoreReceiptURL:(e={})=>{Cf({action:12,data:"getAppStoreReceiptURL"}),Yd(e)||Zd({...e,type:Vd})},getAppStoreReceiptData:(e={})=>{Yd(e)||Zd({...e,type:Gd})},requestSKReceiptRefreshRequest:(e={})=>{Yd(e)||Zd({...e,type:Jd})},getStorefront:e=>{Yd(e)||Zd({...e,type:Xd})},getTransactions:(e={})=>{Yd(e)||(Cf({action:12,data:"getTransactions"}),Zd({...e,type:Qd}))}},oh=nh,ah=e=>{_e?ur("forceCellularNetwork",e):st("forceCellularNetwork",e,"forceCellularNetwork:fail 仅在 iOS 平台支持该 API")},ih=c(827),sh=3e5,ch=!1,uh=[],lh=0,ph=!1;function fh(){if(ch=!1,uh.length>0){var e=uh.shift();dh(e)}}var dh=function(){var e=yr()((function*(e){xe?gh(e):hh(e)}));return function(t){return e.apply(this,arguments)}}(),hh=e=>{ur("login",Dr(e,{requestInQueue:!1}))},gh=function(){var e=yr()((function*(e){if(ye)return console.warn("多端App无法在真机上使用wx.login, 请查看兼容文档"),void hh(e);var t=yield ko();if(!0===t.success&&t.code)ct({name:"login",args:e,success:!0,errMsg:"",res:{code:t.code}});else if(!0===t.success&&t.token)try{Pr({apiName:"jslogin",reqData:JSON.stringify({scope:["snsapi_base"],token:t.token}),success:t=>{var r,n=0,o="";if(void 0!==t.logicRet&&0!==t.logicRet)n=t.logicRet,o=t.logicErrmsg;else try{var a=JSON.parse(t.data);r=a.code;var i=a.baseresponse;o=0===(n=null==i?void 0:i.errcode)?"":`${i.errmsg}`}catch(e){n=-1,o=`${e}`,console.error("wx.login mock ",t)}ct({name:"login",args:e,success:0===n,errMsg:o,errCode:n,res:{code:r}});var s=0===n?"wx.login mock success，code为非真实用户的jscode":`wx.login mock fail，${o}`;console.warn(s)},fail:t=>{console.error(`wx.login mock fail，${JSON.stringify(t)}`);var r=t.errMsg||"system error";st("login",e,r)}})}catch(t){st("login",e,"system error"),console.error(`wx.login mock fail，${t}`)}else{var{adaptWxLogin:r}=yield Rd();if(r){var{getMiniProgramCode:n}=(0,ih.getIdaasAPI)();n(e)}else{var o={...e,fail(...t){var r="wx login failed:";try{r+=JSON.stringify(t)}catch(e){}Pf({method:"__saaa__report__action__",param:{success:!1,errMsg:r}}),"function"==typeof e.fail&&e.fail(...t)},success(...t){Pf({method:"__saaa__report__action__",param:{success:!0,errMsg:"login:success"}}),"function"==typeof e.success&&e.success(...t)}};if(ch)uh.push(o);else{if(ch=!0,!(yield ng()))return st("wx.login",o,"wx.login: 多端App无法使用wx.login"),void fh();Date.now()-lh<=sh?Fp({title:"调用wx.login中",content:"• 发现短时间再次调用wx.login，点击确定后将会再次跳转微信。\n• 可使用 wx.getMiniProgramCode 以实现静默获取小程序 jscode",confirmText:"确定",cancelText:"取消",success(e){e.confirm?vh(o):(st("wx.login",o,"wx.login:短时间调用多次，取消使用SDK兼容模式。"),fh())},fail(){st("wx.login",o,"wx.login:短时间调用多次，使用SDK兼容模式失败。"),fh()}}):(ph=!1,vh(o))}}}}));return function(t){return e.apply(this,arguments)}}();function vh(e){return yh.apply(this,arguments)}function yh(){return yh=yr()((function*(e){var t=yield ng();ph?(mh(e,t),t&&_h(e)):Fp({title:"调用wx.login中",content:t?"确认后将跳转微信，请等待授权小程序唤起。":"•调用 wx.login 需前往「微信开发者工具-工具-微信能力调试」将微信授权页推送至微信客户端\n•如己确认在微信推送成功，可点击「确认」发起wx.login调用。",confirmText:"确认",cancelText:"取消",success:function(){var r=yr()((function*(r){r.confirm?(ph=!0,mh(e,t),t&&_h(e)):(st("wx.login",e,"wx.login:取消使用SDK登陆兼容模式。"),fh())}));return function(e){return r.apply(this,arguments)}}(),fail(){st("wx.login",e,"wx.login:使用SDK登陆兼容模式失败。"),fh()}})})),yh.apply(this,arguments)}function mh(e,t){ug({action:"login",isShell:t,...e,success(...t){lh=Date.now(),e.success(...t),fh()},fail(t){e.fail(t),fh()}})}function _h(e){return bh.apply(this,arguments)}function bh(){return(bh=yr()((function*(e){if(yield sg("login"));else{var t="wx.login 兼容模式调用失败：推送授权页失败.";Fp({title:"wx.login调用失败",content:t,showCancel:!1,complete:()=>{st("wx.login",e,t),fh()}})}}))).apply(this,arguments)}var Sh=e=>{xe?Date.now()-lh<=sh?"function"==typeof e.success&&e.success():"function"==typeof e.fail&&e.fail({errMsg:"checkSession fail: 兼容模式下，只保留 超过login的兼容时间 5min"}):(Nd&&clearTimeout(Nd),ur("refreshSession",e,{beforeSuccess:e=>{Nd=setTimeout((()=>{ur("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}}))},wh=gd.idaas;Ge("miniappIdaasSendPhoneSmsToAppservice",function(){var e=yr()((function*(e){var{sendPhoneSms:t}=(0,ih.getIdaasService)();t({phoneNumber:e.phoneNumber,smsType:e.smsType,complete:t=>{$e("miniappIdaasSendPhoneSmsToWebview",{callbackId:e.callbackId,data:t})}})}));return function(t){return e.apply(this,arguments)}}()),Ge("miniappIdaasPhoneOneClickLoginToAppservice",function(){var e=yr()((function*(e){var{phoneOneClickLogin:t}=(0,ih.getIdaasService)();t({complete:t=>{$e("miniappIdaasPhoneOneClickLoginToWebview",{callbackId:e.callbackId,data:t})}})}));return function(t){return e.apply(this,arguments)}}());var Ch=(e={})=>{Cf({action:12,data:"XGPush_registerPush",uintData:1}),ur("XGPush_registerPush",{...e,success(t){Cf({action:12,data:"XGPush_registerPush_success",uintData:1}),"function"==typeof e.success&&e.success(t)},fail(t){Cf({action:12,data:"XGPush_registerPush_fail",uintData:1}),"function"==typeof e.fail&&e.fail(t)}})},xh=(e={})=>{Cf({action:12,data:"XGPush_unregisterPush",uintData:1}),ur("XGPush_unregisterPush",e)},kh=(e={})=>{var t=Z(e,{number:0});if(t)throw new Error(`setBadge parameter error: ${t}`);ur("XGPush_setBadge",e)},Ih=(e={})=>{Cf({action:12,data:"XGPush_uploadXgPushLog",uintData:1}),ur("XGPush_uploadXgPushLog",{...e,success(t){Cf({action:12,data:"XGPush_uploadXgPushLog_success",uintData:1}),"function"==typeof e.success&&e.success(t)},fail(t){Cf({action:12,data:"XGPush_uploadXgPushLog_fail",uintData:1}),"function"==typeof e.fail&&e.fail(t)}})},Ph=fe("XGPush_NotificationShowedResult"),Ah=Ph.onMethod,Eh=Ph.offMethod;ce("XGPush_onNotificationShowedResult",((e={})=>{Cf({action:12,data:"XGPush_onNotificationShowedResult",uintData:1}),Ph.emit(e)}));var Th=fe("XGPush_NotificationClickedResult"),Rh=Th.onMethod,Mh=Th.offMethod,Lh=[];ce("XGPush_onNotificationClickedResult",((e={})=>{Cf({action:12,data:"XGPush_onNotificationClickedResult",uintData:1}),Th.getGlobalListeners().length>0?Th.emit(e):Lh.push(e)}));var Oh=e=>{Rh(e),Lh.length>0&&(Lh.forEach((e=>{Th.emit(e)})),Lh=[])},Dh=fe("XGPush_onXGPushLog");ce("XGPush_onXGPushLog",(e=>{Dh.emit(e)}));var Bh,jh=!1,Nh=e=>{jh||(jh=!0,ur("XGPush_registXgPushLog",{success(){Dh.onMethod(e)},fail(t){Dh.onMethod(e),Dh.emit(t)}}))},Fh=Dh.offMethod,Wh=fe("saaa_registOpenUrl"),Uh=Wh.onMethod,$h=Wh.offMethod;ce("SaaaOpenUrlMgr_OnOpenByUrl",((e={})=>{Wh.emit(e)})),ce("SaaaOpenUrlMgr_OnNavigateByOpenUrl",((e={})=>{hl({url:e.url,fail:e=>{console.error("OnNavigateByOpenUrl fail",e.errMsg)}})}));var qh=fe("SaaaAd_LoadingSplashError"),Vh=qh.onMethod,Gh=qh.offMethod;ce("SaaaAd_onLoadingSplashError",(e=>{var t;null!==(t=a)&&void 0!==t&&t.debug&&console.warn(`[LoadingSplashError] errorCode:${e.errorCode} errorMsg:${e.errorMsg}`),qh.emit(e)}));var Hh="loadPlugin",Kh=["onMiniPluginEvent","offMiniPluginEvent"];function zh(e,t){"function"==typeof e&&e(t)}var Jh={};ce("SaaaNativePluginsMgr_onPluginEvent",(e=>{if("string"==typeof e.pluginId&&Jh[e.pluginId]&&Jh[e.pluginId].plugin){var t=Jh[e.pluginId].listeners;Array.isArray(t)&&t.forEach((t=>{var r={...e};delete r.pluginId,t(r)}))}}));var Xh,Qh="video-ad has been destroyed";class Yh{constructor({adUnitId:e,multiton:t=!1}){this._private=void 0,this._destroyed=void 0,this._private={emitter:new I,adUnitId:e,multiton:t},this._destroyed=!1,Cf({action:12,data:"createRewardedVideoAd",uintData:0,data2:""}),ur("createRewardedVideoAd",{adUnitId:e,multiton:t,success:()=>{this.load()},fail:e=>{var t;null===(t=this._private)||void 0===t||t.emitter.emit("_error",e)}},{})}load(){return this._destroyed?Promise.reject({errMsg:Qh}):new Promise(((e,t)=>{Cf({action:12,data:"RewardedVideoAd.load",uintData:0,data2:""}),ur("loadRewardedVideoAd",{success:()=>{var t;e(),null===(t=this._private)||void 0===t||t.emitter.emit("_load")},fail:e=>{var r;t(e),null===(r=this._private)||void 0===r||r.emitter.emit("_error",e)}},{})}))}show(){return this._destroyed?Promise.reject({errMsg:Qh}):new Promise(((e,t)=>{Cf({action:12,data:"RewardedVideoAd.show",uintData:0,data2:""}),ur("showRewardedVideoAd",{success:()=>{Cf({action:12,data:"listenRewardedVideoAd.close",uintData:0,data2:""}),ur("listenRewardedVideoAdClose",{success:e=>{var t;null===(t=this._private)||void 0===t||t.emitter.emit("_close",e),this.load()},fail:()=>{}},{}),e()},fail:e=>{var r;t(e),null===(r=this._private)||void 0===r||r.emitter.emit("_error",e)}},{})}))}destroy(){this._destroyed||(this._destroyed=!0,this._private=null,Cf({action:12,data:"RewardedVideoAd.destroy",uintData:0,data2:""}),ur("destoryRewardedVideoAd",{},{}))}onLoad(e){var t;this._destroyed||null===(t=this._private)||void 0===t||t.emitter.on("_load",e)}offLoad(e){var t,r;this._destroyed||(e?null===(t=this._private)||void 0===t||t.emitter.removeListener("_load",e):null===(r=this._private)||void 0===r||r.emitter.removeAllListeners("_load"))}onError(e){var t;this._destroyed||null===(t=this._private)||void 0===t||t.emitter.on("_error",e)}offError(e){var t,r;this._destroyed||(e?null===(t=this._private)||void 0===t||t.emitter.removeListener("_error",e):null===(r=this._private)||void 0===r||r.emitter.removeAllListeners("_error"))}onClose(e){var t;this._destroyed||null===(t=this._private)||void 0===t||t.emitter.on("_close",e)}offClose(e){var t,r;this._destroyed||(e?null===(t=this._private)||void 0===t||t.emitter.removeListener("_close",e):null===(r=this._private)||void 0===r||r.emitter.removeAllListeners("_close"))}}_e&&Kp((e=>{e&&"appLaunch"===e.openType&&ur("getExtendModules",{success(e){var t=e.modulesMap;for(var r in t)!0!==t[r]&&console.error("Failed to load Extended Modules:",r)},fail(e){}})}));var Zh={login:Zf,requestPayment:(e={})=>{Cf({action:12,data:"requestPayment"});var t=null;(t="string"!=typeof e.timeStamp&&"number"!=typeof e.timeStamp?"parameters error: timeStamp should be string or number":Z(e,{mchId:"",prepayId:"",package:"",nonceStr:"",sign:""}))?st("requestPayment",e,`parameter error: ${t}`):zf({...e,type:Mf})},launchMiniProgram:Dd,shareTextMessage:(e={})=>{var t=Z(e,{text:"",scene:0});t?st("shareTextMessage",e,`parameter error: ${t}`):zf({...e,type:Of,shareType:Nf})},shareWebPageMessage:(e={})=>{var t=Z(e,{title:"",description:"",thumbPath:"",webpageUrl:"1",scene:0});t?st("shareWebPageMessage",e,`parameter error: ${t}`):qf(e.thumbPath)?zf({...e,type:Of,shareType:Uf}):st("shareWebPageMessage",e,"thumbPath is not image")},shareMiniProgramMessage:(e={},t={})=>{var r=Z(e,{webpageUrl:"1",userName:"",path:"",imagePath:"",withShareTicket:!0,miniprogramType:0,scene:0});return r?(e.fromShareButton&&console.error(`wx.miniapp.shareMiniProgramMessage parameter error: ${r}`),void st("shareMiniProgramMessage",e,`parameter error: ${r}`)):qf(e.imagePath)?void zf({...e,type:Of,shareType:$f},t):(e.fromShareButton&&console.error(`wx.miniapp.shareMiniProgramMessage is not image ${JSON.stringify(e)}`),void st("shareMiniProgramMessage",e,"imagePath is not image"))},shareImageMessage:(e={})=>{var t=Z(e,{imagePath:"",thumbPath:"",scene:0});t?st("shareImageMessage",e,`parameter error: ${t}`):qf(e.thumbPath)?qf(e.imagePath)?zf({...e,type:Of,shareType:Ff}):st("shareImageMessage",e,"imagePath is not image"):st("shareImageMessage",e,"thumbPath is not image")},shareVideoMessage:(e={})=>{var t=Z(e,{title:"",description:"",thumbPath:""});t?st("shareVideoMessage",e,`parameter error: ${t}`):e.videoUrl||e.videoLowBandUrl?qf(e.thumbPath)?zf({...e,type:Of,shareType:Wf}):st("shareVideoMessage",e,"imagePath is not image"):st("shareVideoMessage",e,"parameter error: videoUrl and videoLowBandUrl can not be empty in same time")},shareMusicMessage:(e={})=>{},shareFile:function(e={}){ur("shareFile",e,{})},requestSubscribeMessage:(e={})=>{var t=Z(e,{scene:1,templateId:"",reserved:""});t?st("shareVideoMessage",e,`parameter error: ${t}`):zf({...e,type:Df})},openCustomerServiceChat:(e={})=>{zf({...e,type:Bf})},invokeMiniappNativeExtension:e=>{var t=Z(e,{method:"",param:{}});if(t)throw new Error(`invokeMiniappNativeExtension parameter error: ${t}`);Pf(e),Cf({action:9,data:e.method,uintData:0})},onMiniappNativeExtensionMsg:(e={})=>{Af(e,!0)},offMiniappNativeExtensionMsg:Ef,onOpensdkLog:Qf,offOpensdkLog:Yf,closeAppModule:Bd,getSDKVersion:jd,jumpToAppStore:e=>{Cf({action:12,data:"jumpToAppStore"}),ur("jumpToAppStore",e)},jumpToGooglePlay:e=>{ur("jumpToGooglePlay",e)},copyNativeFileToWx:e=>{Cf({action:12,data:"copyNativeFileToWx"}),ur("copyNativeFileToWx",e)},installApp:function(e={}){Cf({action:12,data:"installApp"}),ur("installApp",e,{})},hasWechatInstall:(e={})=>{ur("hasWechatInstall",e)},setSaaAUserId:e=>{var t=e.userId||"";V(t)||(t=ee(t)),ur("setSaaAUserId",{userId:t})},IAP:oh,openSaaAActionSheet:(e={})=>{ur("openSaaAActionSheet",e)},getXGPushManager:()=>(Bh||(Bh={registerPush:Ch,unregisterPush:xh,onNotificationShowedResult:Ah,offNotificationShowedResult:Eh,onNotificationClickedResult:Oh,offNotificationClickedResult:Mh,setBadge:kh,onXgPushLog:Nh,offXgPushLog:Fh,uploadXgPushLog:Ih}),Bh),registOpenURL:e=>{if("function"!=typeof e)throw new Error("registOpenURL error: parameter must be functions");Uh(e),Cf({action:12,data:"registOpenURL"}),ur("registOpenUrl",{success(e){Array.isArray(e.urlMsgArr)&&(e.urlMsgArr.forEach((e=>{Wh.emit(e)})),Cf({action:12,data:"registOpenURL_success"}))}})},unRegistOpenURL:e=>{if("function"!=typeof e)throw new Error("registOpenURL error: parameter must be functions");$h(e)},loadNativePlugin:e=>{var t=Z(e,{pluginId:"1"});t?st("loadPlugin",e,`parameter error: ${t}`):Jh[e.pluginId]?Jh[e.pluginId].plugin?zh(e.success,Jh[e.pluginId].plugin):Jh[e.pluginId].loaded&&st("loadPlugin",e,"already loaded but not finished"):(Jh[e.pluginId]={loaded:!0},ur("sendNativePluginsMsg",{action:Hh,nativePluginId:e.pluginId,success(t){var r=function(e,t){Jh[e]&&(Jh[e].listeners=[]);var{synMethodList:r,asynMethodList:n}=t,o={};return r.forEach((t=>{var r=t.replace(":","");Kh.includes(r)?console.error(`原生插件[${e}] ${r} 注册失败，该方法名是内部保留方法，请替换方法名`):Object.defineProperty(o,r,{get:()=>t=>{if(void 0===t&&(t={}),"[object Object]"===Object.prototype.toString.call(t)){var n,o;if(ur("invokeNativePluginMethodSync",{nativePluginId:e,methodName:r,args:t,success(e){n=e.data},fail(e){o=e.errMsg}}),o)throw new Error(o);return n}console.error(`原生插件[${e}]方法 ${r} 调用失败，原生插件方法仅支持 Object 类型的参数`)},enumerable:!1,configurable:!1})})),n.forEach((t=>{var r=t.replaceAll(":","");Kh.includes(r)?console.error(`原生插件[${e}] ${r} 注册失败，该方法名是内部保留方法，请替换方法名`):Object.defineProperty(o,r,{get:()=>(...t)=>{var n=0===t.length?[{},()=>{}]:t;"[object Object]"===Object.prototype.toString.call(n[0])?"[object Function]"===Object.prototype.toString.call(n[1])?ur("invokeNativePluginMethod",{nativePluginId:e,methodName:r,args:n[0],success(e){var t=e.data;zh(n[1],t)},fail(t){console.error(`原生插件[${e}]方法 ${r} 调用失败, ${t.errMsg}`)}}):console.error(`原生插件[${e}]方法 ${r} 调用失败，原生插件方法第二个参数仅支持 Function 类型的参数`):console.error(`原生插件[${e}]方法 ${r} 调用失败，原生插件方法第一个参数仅支持 Object 类型的参数`)},enumerable:!1,configurable:!1})})),Object.defineProperty(o,"onMiniPluginEvent",{get:()=>t=>{if("function"!=typeof t)throw new Error("onMiniPluginEvent error: parameter must be type of function");Jh[e].listeners.push(t)},enumerable:!1,configurable:!1}),Object.defineProperty(o,"offMiniPluginEvent",{get:()=>t=>{if(void 0===t)Jh[e].listeners=[];else if("function"==typeof t){var r=Jh[e].listeners.findIndex((e=>e===t));-1!==r&&Jh[e].listeners.splice(r,1)}},enumerable:!1,configurable:!1}),Object.freeze(o)}(e.pluginId,t.pluginInfo);Jh[e.pluginId].plugin=r,zh(e.success,r)},fail(t){zh(e.fail,t)}}))},...(0,ih.getMiniAppAPI)({sdk:r}),onAdSplashError:Vh,offAdSplashError:Gh,openUrl:e=>{Cf({action:12,data:"openUrl"});var t=Z(e,{url:"1"});t?st("miniapp.openUrl",e,`parameter error: ${t}`):ur("saaaOpenUrl",e)},getPrivacySetting:(e={})=>{ur("getPrivacySetting",e)},agreePrivacyAuthorization:(e={})=>{ur("agreePrivacyAuthorization",e)},chooseFile:function(e={}){ur("chooseFile",e)},setEnableAdSplash:(e={})=>{var t=Z(e,{enable:!0});t?st("setEnableAdSplash",e,`parameter error: ${t}`):ur("setEnableAdSplash",e)},createRewardedVideoAd:e=>(Xh&&!Xh._destroyed||(Xh=new Yh(e)),Xh),invoiceAuthInsert:(e={})=>{zf({...e,type:jf})},getMetaData:(e={})=>{ur("getMetaData",e)}};function eg(){var e,t;return null!==(e=a)&&void 0!==e&&null!==(t=e.accountInfo)&&void 0!==t&&t.appId?a.accountInfo.appId:""}var tg=1,rg=void 0,ng=()=>new Promise((e=>{function t(t){e(rg=t)}void 0!==rg&&e(rg),va({success:e=>{"android"===e.platform&&"com.tencent.dountapp"===e.host.packageName?t(!0):"ios"===e.platform?"com.tencent.devtools.donutapp.db"===e.host.bundleIdentifier?t(!0):Tf("__is__shell__app__").then((e=>{t(e)})):t(!1)},fail:()=>{t(!1)}})}));function og(e,t=""){var r=eg();return!!r&&(("login"===e||"phonenumber"===e)&&`pages/index/index?action=${e}&moduleid=${r}&callbackId=${tg}${t}`)}Ge("miniappGetPhonenumbeToAppservice",function(){var e=yr()((function*(e){var t=yield ng();Fp({title:"调用getphonenumber中",content:"确认后将跳转微信，请等待授权小程序唤起。",confirmText:"确定",cancelText:"取消",success:function(){var r=yr()((function*(r){if(r.confirm){if(ug({action:"phonenumber",isShell:t,success:t=>{$e("miniappGetPhonenumbeToWebview",{...e,data:t})},fail:t=>{$e("miniappGetPhonenumbeToWebview",{...e,data:t})}}),!(yield sg("phonenumber"))){var n="getPhoneNumber 兼容模式调用失败：推送授权页失败.";return void Fp({title:"getPhoneNumber调用失败",content:n,showCancel:!1,complete:()=>{$e("miniappGetPhonenumbeToWebview",{...e,data:{errMsg:n}})}})}}else $e("miniappGetPhonenumbeToWebview",{...e,data:{errMsg:"getphonenumber: 取消跳转微信。"}})}));return function(e){return r.apply(this,arguments)}}(),fail(){$e("miniappGetPhonenumbeToWebview",{...e,data:{errMsg:"getphonenumber: 取消跳转微信。(弹窗failed)"}})}})}));return function(t){return e.apply(this,arguments)}}());var ag=void 0,ig=()=>new Promise((e=>{if(void 0===ag){var t=eg();t?Tf("get__User__Ticket__for__shell").then((r=>{r?(Af({method:"on__User__Ticket__for__shell",callback:t=>{t.ticket?(ag={ticket:t.ticket,transitiveData:t.transitiveData||""},e(ag)):e(!1),Ef("on__User__Ticket__for__shell")}}),Pf({method:"get__User__Ticket__for__shell",param:{moduleId:t}})):e(!1)})):e(!1)}else e(ag)}));function sg(e){return cg.apply(this,arguments)}function cg(){return(cg=yr()((function*(e){return new Promise((t=>{ig().then((r=>{if(!1!==r){var n=og(e,r.transitiveData);if(n){var o={scene:1069,path:n,query:{},mode:"default",appearance:"default",referrerInfo:{appId:"wx9487a19f6505e47f"}},a=eg();if(a){var i=`https://p6ngateway.weixin.qq.com/cpf-dev/devapp/sendauthweapp?module_id=${a}&debug_launch_info=${encodeURIComponent(JSON.stringify(o))}`;r?au({url:i,header:{"x-wx-accesstoken":r.ticket},success:e=>{var r,n;return 0===(null==e||null===(r=e.data)||void 0===r||null===(n=r.base_resp)||void 0===n?void 0:n.ret)?void t(!0):void t(!1)},fail:()=>{t(!1)}}):t(!1)}else t(!1)}else t(!1)}else t(!1)})).catch((()=>{t(!1)}))}))}))).apply(this,arguments)}var ug=e=>{var{action:t,isShell:r}=e;(tg++,"login"===t||"phonenumber"===t)?Co().readFile({filePath:"/app.miniapp.json",encoding:"utf8",position:0,success:n=>{var o={};try{o=JSON.parse(n.data)}catch(r){return void st(t,e,`${t}:fail app.miniapp.json json parse failed`)}if(o.adapteByMiniprogram)if(o.adapteByMiniprogram.userName){var a=og(t);a?Zh.launchMiniProgram({userName:o.adapteByMiniprogram.userName,path:a,openWechatWithoutOpensdk:!!r,callbackIdForOpenWechat:tg,extData:"",miniprogramType:1,success:r=>{if("function"==typeof e.success){if("string"!=typeof r.extMsg)return void st(t,e,`${t}:fail to get code from launchMiniProgram, no extMsg`);var n="",o={};try{o=JSON.parse(r.extMsg)}catch(e){}if("login"===t)(n=o.data)?ct({name:"login",args:e,success:!0,errMsg:"",res:{code:n}}):st(t,e,`${t}:fail to get code from launchMiniProgram`);else if("phonenumber"===t){var a=o.data;a?ct({name:"phonenumber",args:e,success:!0,errMsg:"",res:a}):st("getphonenumber",e,"getPhoneNumber:fail to getPhoneNumber from launchMiniProgram")}}},fail:t=>{"function"==typeof e.fail&&e.fail(t)}}):st(t,e,`${t}:fail generate autho page path failed`)}else st(t,e,`${t}:fail app.miniapp.json cant find userName 小程序原始id`);else st(t,e,`${t}:fail app.miniapp.json cant find adapteByMiniprogram`)},fail(){st(t,e,`${t}:fail get app.miniapp.json failed`)}}):st("adapteByMiniprogram",e,"adapteByMiniprogram:fail action type not match")};var lg,pg,fg=new Promise((e=>{e})),dg=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onShow=3]="App_onShow",e[e.Evaluate_Script_Begin=4]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=5]="Evaluate_Script_End",e[e.SubPackage_Ready=6]="SubPackage_Ready",e[e.AppRoute_Begin=7]="AppRoute_Begin",e[e.AppRoute_End=8]="AppRoute_End",e[e.AppRoute_Callback_Begin=9]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=10]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=11]="AppRoute_AppServiceEngine",e[e.Open_New_Page=12]="Open_New_Page",e[e.Publish_Init_Data=13]="Publish_Init_Data",e[e.Send_Init_Data=14]="Send_Init_Data",e[e.Recv_Init_Ready=15]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=16]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=17]="AppRoute_Done_End",e[e.TriggerAppRoute=18]="TriggerAppRoute",e[e.Evaluate_WAWebview_Begin=19]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=20]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=21]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=22]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=23]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=24]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=25]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=26]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=27]="Set_CSS_Begin",e[e.Set_CSS_End=28]="Set_CSS_End",e[e.Generate_Func_Ready=29]="Generate_Func_Ready",e[e.Recv_Init_Data=30]="Recv_Init_Data",e[e.Init_Render_Begin=31]="Init_Render_Begin",e[e.Init_Render_End=32]="Init_Render_End",e[e.VD_Init_Render_Begin=33]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=34]="VD_Init_Render_End",e[e.Send_Init_Ready=35]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=36]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=37]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=38]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=39]="Init_Ready_Client",e[e.Real_Init_Ready=40]="Real_Init_Ready",e[e.First_User_Interaction=41]="First_User_Interaction",e[e.FP=42]="FP",e[e.FCP=43]="FCP",e[e.LCP=44]="LCP",e[e.First_Start_Render=45]="First_Start_Render",e}({}),hg={};null===(lg=i)||void 0===lg||null===(pg=lg.env)||void 0===pg||pg.typeStr;new Set;function gg(e){return hg[e]||0}var vg=!1,yg=!1,mg=0,_g=!1,bg="",Sg=0,wg=0,Cg=0,xg=[_f,bf,Sf,wf],kg=[gf,vf,yf,_f,bf,wf],Ig=!1,Pg=0,Ag=!1;Kp(((e={})=>{Sg=Date.now(),_g=yg,Ag=Ig,bg=e.path||e.rawPath||""})),Vp(((e={})=>{3===e.targetAction&&function(){yg&&Eg(yf,null,{duration:Date.now()-mg});Ig&&Eg(wf,null,{duration:Date.now()-Pg})}(),vg&&(Eg(mf,null,{matchCount:wg,matchSuccessCount:Cg}),wg=0,Cg=0)}));var Eg=function(){var e=yr()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:o=0,matchCount:a=0,matchSuccessCount:i=0,extra1:s}={}){t=t||qa()||"";var c,u={},l=yield fg;-1!==kg.indexOf(e)&&(c=gg(dg.AppRoute_Begin),u={fr:gg(dg.Real_Init_Ready)-c,fp:gg(dg.FP)-c,fcp:gg(dg.FCP)-c});var f=-1!==xg.indexOf(e),d=f?Ag:_g,h=[t,0,(f?Ig:yg)?1:0,e,encodeURIComponent(bg),o,r?1:0,n,d?1:0,u.fr||0,u.fp||0,u.fcp||0,(null==l?void 0:l.duration)||0,a,i,s||""].join(",");p.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:h})}));return function(t,r){return e.apply(this,arguments)}}();function Tg(e){Ig||(Pg=Date.now(),Ig=!0,!Ag&&Pg-Sg<5e3&&(Ag=!0),Eg(_f,e))}function Rg(e){Ig&&(Ig=!1,Eg(bf,e,{duration:Date.now()-Pg}))}Va((e=>{"offline"!==e&&"none"!==e||Tg(e)})),Ua((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?Tg(t):Rg(t)})),$a((e=>{e.weakNet?Tg():Rg()}));try{R.onReady((()=>{_a({success(e){var t=e;fp.externInfo.deviceOrientation="portrait"===t.deviceOrientation?1:2,fp.externInfo.screenWidth=t.screenWidth,fp.externInfo.screenHeight=t.screenHeight}})}))}catch(e){}var Mg={};["setStorage","batchSetStorage","getStorage","batchGetStorage","getStorageInfo","removeStorage","clearStorage"].forEach((e=>{Mg[e]=(t={})=>{if(t.key&&t.key.toString().startsWith("__plugins__"))return void st(e,t,`invalid key "${t.key}"`);return gd[wr()?"singlePage":"app"][`${e}`](t)},Mg[`${e}Sync`]=(t,...r)=>{if(!t||!t.toString().startsWith("__plugins__"))return gd[wr()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r)};var t=`plugin_${e}`;Mg[t]=(t={})=>(t.key&&(t.key=`__plugins__/${t.key}`),gd[wr()?"singlePage":"app"][`${e}`](t)),Mg[`${t}Sync`]=(t,...r)=>(t&&(t=`__plugins__/${t}`),gd[wr()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r))}));const Lg=Mg;var Og="getLatestUserKey";var Dg,Bg,jg,Ng,Fg,Wg,Ug,$g,qg,Vg,Gg,Hg,Kg,zg,Jg,Xg,Qg,Yg,Zg,ev,tv,rv,nv={getLatestUserKey:function(e){xe?st("getLatestUserKey",e,"getLatestUserKey:fail SDK暂不支持此API"):function({contextId:e}={}){return Ir({apiName:"webapi_getuserencryptkey",reqData:{},contextId:e}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:o}=e.data;return{encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:o}}))}({contextId:e.contextId}).then((t=>(ct({name:Og,args:e,res:t}),null))).catch((t=>{st(Og,e,t.message||t.errMsg)}))},getRandomValues:(e={})=>{at("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&st("getRandomValues",e,"invalid length"),ur("getRandomValues",e))}},ov=()=>nv,av=new I,{setStorage:iv,batchSetStorage:sv,getStorage:cv,batchGetStorage:uv,getStorageInfo:lv,removeStorage:pv,clearStorage:fv}=Lg,dv={},hv={},gv={},vv={},yv=!1;function mv(e={}){var{frameId:t,message:r}=e,n=vv[t];n&&r&&"string"==typeof r&&ur("postMessageToMiniprogram",{appId:n,message:r})}function _v(e,t,r={}){console.info("[MagicBrushFrame] sendEventToMiniprogram",e,t,r),mv({frameId:e,message:JSON.stringify({type:"event",data:{name:t,args:r}})})}function bv(e){if(void 0===v)return Sv(e.frameId);v.createMagicBrushFrameContext(e)}function Sv(e){_v(e,"renderError",{frameId:e})}ce("onInsertFrame",(({frameId:e,extraData:t}={})=>{if(console.info("[MagicBrushFrame] onInsertFrame",e),!e||!t)return Sv(e);"string"==typeof t&&(t=JSON.parse(t));var{appId:r,envVersion:n="release",size:o,needDowoloadPackage:a,sourceAppId:i,debugMode:s}=t;if(!r)return Sv(e);yv=s,vv[e]=i,dv[e]=dv[e]||{};var c=dv[e];c.appId=r,c.envVersion=n,c.width=(null==o?void 0:o.width)||0,c.height=(null==o?void 0:o.height)||0,c.pageShow=!0,c.needDowoloadPackage=a;var u={frameId:e,extraData:t};if(function(e){if(void 0===v)return;v.initMagicBrushFrameContext(e)}(u),a){var l=`${r}-${n}`,p=()=>{bv(u),u.packageInfo=hv[l]};if(hv[l])p();else{var f=gv[l]||[];gv[l]=f,f.push(p)}}else bv(u)})),ce("onRemoveFrame",(({frameId:e}={})=>{console.info("[MagicBrushFrame] onRemoveFrame",e);var t=dv[e];t&&(!function(e){if(void 0===v)return;v.removeMagicBrushFrameContext(e)}(e),delete t[e])})),ce("onMiniprogramPackageReady",(({appId:e,envVersion:t,appPath:r}={})=>{if(console.info("[MagicBrushFrame] onMiniprogramPackageReady",e,t,r),e){var n=`${e}-${t}`;hv[n]={appId:e,envVersion:t,appPath:r};var o=gv[n];o&&o.length&&(o.forEach((e=>e())),delete gv[n])}})),ce("onMessageFromMiniprogram",(({message:e,appId:t}={})=>{console.info("[MagicBrushFrame] onMessageFromMiniprogram",e,t);var r=JSON.parse(e);if("miniprogramPackageRemoved"===r.type){var n=r.data;delete hv[`${n.appId}-${n.envVersion}`]}else av.emit("onMessageFromMiniprogram",{message:e,appId:t})})),av.on((({message:e})=>{e=JSON.parse(e||"{}");var{type:t,data:r={}}=e;if("event"===t){var{name:n,frameId:o}=r,a=dv[o];if(!a)return;"_$pageShow"===n?a.pageShow=!0:"_$pageHide"===n&&(a.pageShow=!1)}}));var wv,Cv,xv=new(Dg=function(e=!0){return function(t){var r=Object.getOwnPropertyDescriptors(e?t.prototype:t);for(var n in r)if("constructor"!==n){var o,a=r[n],i=null===(o=a.value)||void 0===o?void 0:o.extraInfos;i&&(i.api=n,i.prefix="",Object.assign(i,t.prototype[ap]),Object.defineProperty(e?t.prototype:t,n,{value:cp(i,a.value.value,e?t.prototype:t),configurable:!0}))}}}(),Bg=lp(),jg=sp("timeout",{hookHandlers:{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,Xl(this.afterCopyArgs?this.afterCopyArgs.fail:t.fail,e),Xl(this.afterCopyArgs?this.afterCopyArgs.complete:t.complete,e),this.emitFail=!1}),r))},success(){pp.call(this)},fail(){pp.call(this)},complete(){pp.call(this)}},getState:()=>({isTimeout:void 0,timer:void 0,afterCopyArgs:void 0,emitFail:!1})}),Ng=lp(),Fg=lp(),Wg=lp(),Ug=lp(),$g=lp(),qg=lp(),Vg=lp(),Gg=lp(),wv=Hg=Dg((Kg=class{constructor(){y()(this,"login",zg,this),y()(this,"checkSession",Jg,this),y()(this,"setStorage",Xg,this),y()(this,"batchSetStorage",Qg,this),y()(this,"getStorage",Yg,this),y()(this,"batchGetStorage",Zg,this),y()(this,"getStorageInfo",ev,this),y()(this,"removeStorage",tv,this),y()(this,"clearStorage",rv,this),this.request=ou,this.getUserCryptoManager=ov}},zg=_()(Kg.prototype,"login",[Bg,jg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dh}}),Jg=_()(Kg.prototype,"checkSession",[Ng],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sh}}),Xg=_()(Kg.prototype,"setStorage",[Fg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iv}}),Qg=_()(Kg.prototype,"batchSetStorage",[Wg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sv}}),Yg=_()(Kg.prototype,"getStorage",[Ug],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cv}}),Zg=_()(Kg.prototype,"batchGetStorage",[$g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uv}}),ev=_()(Kg.prototype,"getStorageInfo",[qg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lv}}),tv=_()(Kg.prototype,"removeStorage",[Vg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pv}}),rv=_()(Kg.prototype,"clearStorage",[Gg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fv}}),Hg=Kg))||Hg,Cv=wv.prototype.constructor,function(...e){var t=new Cv(...e),r=Object.getOwnPropertyDescriptors(t);return Object.keys(r).forEach((e=>{var n,o=r[e],a=null===(n=o.value)||void 0===n?void 0:n.extraInfos;a&&(Object.assign(a,wv.prototype[ap]),Object.defineProperty(t,e,{value:o.value.value()}))})),t}||Hg),kv=Object.getOwnPropertyNames(Object.getPrototypeOf(xv)),Iv=Object.getOwnPropertyNames(xv),Pv=kv.concat(Iv).reduce(((e,t)=>("constructor"===t||(e[t]=xv[t]),e)),{}),Av={getWx:(e,t)=>{var r=Object.keys(Pv),n={},o=function(r){var o=Pv[r];n[r]=function(a){var i=dv[t];if(i){if(i.needDowoloadPackage){var s=`${i.appId}-${i.envVersion}`;if(!hv[s])return st(r,a,"connot be invoked because the miniprogram package is not found")}if(!i.pageShow)return st(r,a,"connot be invoked when page is hidden")}if("getUserCryptoManager"===r){var c=o.call(n,a),u=Object.keys(c),l={},p=function(){var t=c[f];l[f]=function(r){return r=Object.assign({},r,{contextId:e}),t.call(l,r)}};for(var f of u)p();return l}return a=Object.assign({},a,{contextId:e}),o.call(n,a)}};for(var a of r)o(a);return n},getConsole:e=>{var t={};return["log","info","debug","warn","error"].forEach((r=>function(t,r){t[r]=function(...t){if(yv)try{mv({frameId:e,message:JSON.stringify({type:"vconsole",data:{frameId:e,name:r,args:t}})})}catch(e){}}}(t,r))),t},renderMagicBrushFrameError:Sv,postMessageToMiniprogram:mv,sendEventToMiniprogram:_v,onMessageFromMiniprogram:e=>av.on("onMessageFromMiniprogram",e),offMessageFromMiniprogram:e=>av.off("onMessageFromMiniprogram",e),createMagicBrushFrameSetRoot:function(e="index",t="",r=!1){ur("createMagicBrushFrameSetRoot",{path:e,query:t,useClientClick:r})},createMagicBrushFrameSet:function(e,t){var r=dv[t];if(r){var{appId:n,width:o,height:a}=r;ur("createMagicBrushFrameSet",{name:e,frameId:t,appId:n,width:o,height:a})}},removeMagicBrushFrameSet:function(e){ur("removeMagicBrushFrameSet",{name:e})},traceBeginEvent(){},traceEndEvent(){},onAppEnterForeground(){},exportGlobal:{}};const Ev=Av})(),h=u.default})();var v,y=h.wx;(()=>{var e={57:(e,t,r)=>{r.d(t,{H:()=>o,Q:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},o={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_",APP_CARDS:"CARD_"}},251:(e,t,r)=>{var n=r(240),o=r(700);i.onBridgeReady((()=>{s.on("onError",(e=>{i.emitUnhandledError(e)})),s.on("unhandledRejection",(e=>{i.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),i.onUnhandledRejection((function(e={}){(0,n.tU)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),g.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.I_)(e.reason,"",e.promise||null)})),i.onUnhandledError((function(e){e=(0,o.i0)(e),(0,n.tU)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),g.error("Uncaught FrameworkError",e)):(0,n.I_)(e,"")})),i.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),g.error("FrameworkError",e)}))},632:(e,t,r)=>{r.d(t,{Jd:()=>a,iz:()=>n,k4:()=>o});function n(){if(r.g.PerfDog)return r.g.PerfDog}function o(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var a=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},48:(e,t,r)=>{var n=r(702);a.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.d)(),r=0;r<t.length;r++){var o=t[r].contextGlobal.__wxSourceMap;if("object"==typeof o&&o[e]){var a=void 0;try{a=JSON.parse(JSON.stringify(o[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return a}}})}))},748:(e,t,r)=>{r.d(t,{A:()=>E,f:()=>T});var n,o=r(284),s=r.n(o),u=r(240),l=r(700),p=r(57),f={},d={},v={},y={},m={},_={},b={},S=0;c.subscribe("subContextMessage",((e,t)=>{var r=v[t];return r&&r.__onMessageHandler(e)})),c.subscribe("injectGamePerformanceUtilsSDK",(e=>{var t=GamePerformanceUtilsSDK.getSDK();g.warn("gamePerformanceUtilsSdk: ",t),e.success({sdk:t})})),c.subscribe("subContextReady",((e,t)=>{var r;if(((0,u.hX)()||(0,u.WR)())&&(r=v[t]),i.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var o=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,u.hX)()||(0,u.WR)()?v[t].__onReadyHandler(t,e):o&&o.__onReadyHandler(t,e)},(0,u.hX)()||(0,u.WR)())return void v[t].__onPreloadReadyHandler(t,e);if(!o)return;o.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,u.hX)()||(0,u.WR)())return void v[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,u.hX)()||c.isAsync())return void v[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),c.subscribe("subContextLibVarReady",((e,t)=>{v[t].__onLibVarReadyHandler(e)}));var w=function(e){var t=c.create(e);return f[this.__guid__]=t,t},C=function(e,t,r){var n,o,a=(0,u.hX)()||c.isAsync(),s=!1;if("number"==typeof t&&c.supportAllocFromSnapshot()?(g.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=c.allocFromSnapshot(e,t),e===p.Q.APP&&c.setAppSubContextId(n),c.associateRealId2SdkId(n)):r&&c.supportAllocEmpty()?(g.info(`[JSContext] alloc(empty) name=${e}`),s=!0,a?o=new Promise((t=>{n=c.allocEmpty(e,(()=>{t(n)}))})):n=i.env.isMagicBrushFrameEnv?c.allocEmpty(e):c.allocEmpty()):(r&&g.warn("SubContext: allocEmpty is not supported"),g.info(`[JSContext] alloc name=${e}`),n=a?c.alloc(e):c.alloc(),e===p.Q.APP&&c.setAppSubContextId(n),c.associateRealId2SdkId(n)),a&&(v[n]=this),f[this.__guid__]=n,s&&n>0)if(o)o=o.then((e=>{var t=this.loadLibFiles(r);return g.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var l=this.loadLibFiles(r);g.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${l}`)}return o||n},x=function(e,t,r){Object.defineProperty(this,e,{value:t,...r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}})},k=function(){void 0!==d[this.__guid__]&&(_[this.__guid__].forEach((e=>{this.postMessage(e)})),_[this.__guid__]=[])},I=function(){void 0!==d[this.__guid__]&&(0,l.Lv)((()=>{b[this.__guid__].forEach((e=>{this.postMessage(e)})),b[this.__guid__]=[]}))},P=(e,t)=>(h.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{h.traceEndEvent({isSuccess:e})}),A=new Set;const E=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:o=null,injectAfterAlloc:a=!0,snapshotContextName:i="",isPreload:s=!1}){x.call(this,"__name__",e,s),x.call(this,"__guid__",S++,s),x.call(this,"__secure__",t,s),x.call(this,"__entry__",n,s),x.call(this,"__entryLibs__",o,s),x.call(this,"__injectAfterAlloc__",a,s),x.call(this,"__snapshotContextName__",i,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),m[this.__guid__]=[],_[this.__guid__]=[],b[this.__guid__]=[]}static supportEntryLibs(){return c.supportAllocEmpty()}getInnerId(){return d[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=a)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!(c.supportAlloc()||this.__entryLibs__&&c.supportAllocEmpty()))return w.call(this,this.__entry__);var t=C.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(g.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(g.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,u.hX)()||c.isAsync())&&(0,u.tU)())return s()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>{this.evaluateScriptFile(e)}))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!c.supportAlloc())return w.call(this,this.__entry__);C.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,u.hX)()||c.isAsync())&&(0,u.tU)())return s()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),o=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var a=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(a)}else{if(Date.now()-r>2e4)return i.env.platform,t();setTimeout(o)}};o()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===i.env.platform||"ios"===i.env.platform)&&!c.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(m[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),m[this.__guid__]=[])}postMessage(e){var t=d[this.__guid__];return void 0!==t?c.publish("mainContextMessage",e,[t])[0]:void _[this.__guid__].push(e)}postMessageAsync(e){var t=d[this.__guid__];void 0!==t?(0,l.Lv)((()=>{c.publish("mainContextMessage",e,[t])})):b[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,y[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}updateExportEnv(e){d[this.__guid__]}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");var r=y[this.__guid__];e.notUpdateIntact&&(e=Object.assign({},r,e)),this.setExportEnv(e);var n=y[this.__guid__],o=d[this.__guid__];c.publish("subContextEnvReady",n,[o],!0),c.subscribe("subContextRefreshEnvReady",((e,r)=>{o===r&&t()}))}))}refreshWxConfig(e,t){var r=d[this.__guid__];c.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=d[this.__guid__];c.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==f[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=f[this.__guid__];if(void 0!==r){"game.js"===e&&(c.notifyGameEngineReady(),h.recordGameJSInjectTimestamp(Date.now()));var n=P([e],t);if(((0,u.hX)()||c.isAsync())&&(0,u.tU)())return new Promise((t=>{var o=c.evaluateScriptFile(r,e,(()=>t(o)));if(1!==o)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${o}`)})).then((()=>{n(!0)}));var o=c.evaluateScriptFile(r,e);if(1!==o)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${o}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=f&&f[this.__guid__];if(void 0===t)return"fail: no clientId";if(!c||!c.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=c.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:o=!1}={}){e=e.map((e=>"/"===e[0]?e:"/"+e));var i=f&&f[this.__guid__],s=null,u=e.length-(e=e.filter((e=>!this.alreadyLoadedJsFiles.has(e)))).length;if(u>0&&g.info(`[SubContext] loadJsFiles ignored loaded: [${u} files]`),0===e.length)return g.info("[SubContext] loadJsFiles have no files to load, return"),s;var l={};if(void 0!==i){var d="android"===a.platform?"key":"reportKey",h=n;if(void 0!==h){if(A.has(h)){var v=1;do{h=n+"-#"+v++}while(A.has(h))}A.add(h)}if(l[d]=h,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),o&&!this.initialScriptInjected&&this.__name__===p.Q.APP&&(this.initialScriptInjected=!0,l.initialScript=!0,l.initialScriptStartTime=this.firstLoadJsFilesStartTime),c&&c.batchLoadJsFiles)try{var y=Date.now(),m=P(e,t);try{c.batchLoadJsFiles(i,e,l)}catch(e){throw m(!1),e}r?s=e=>{m(!!e)}:m(!0),g.info("[SubContext] loadJsFiles done, cost "+(Date.now()-y)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return s}destroy(){var e=f[this.__guid__],t=d[this.__guid__];e>0&&(c.publish("subContextDestroy",{},[t]),c.destroy(e)),delete v[t],delete f[this.__guid__],delete d[this.__guid__],delete y[this.__guid__],delete m[this.__guid__],delete _[this.__guid__],delete b[this.__guid__];try{delete this.__guid__}catch(e){}delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void m[this.__guid__].push(e)}__onReadyHandler(e,t){v[e]=this,d[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=y[this.__guid__];r&&c.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,k.call(this),I.call(this)}__onPreloadReadyHandler(e,t){v[e]=this,d[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=y[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,r.expt=!1,c.publish("preloadSubContextEnvReady",r,[e],!0))}};var T=e=>f[e]},702:(e,t,r)=>{r.d(t,{$:()=>o,d:()=>a});var n=[],o=function(e){n.push(e)},a=function(){return n}},240:(e,t,r)=>{r.d(t,{Cb:()=>S,Gw:()=>_,I_:()=>h,Un:()=>b,WR:()=>C,Zk:()=>d,hX:()=>v,ik:()=>g,jj:()=>i,m0:()=>m,tU:()=>l,un:()=>y,xJ:()=>w,z9:()=>f});var n=r(284),o=r.n(n),i=globalThis;var l=function(){return void 0!==a&&a.isIsolateContext},f=function(){u.deepFreezeGlobalObjs(["console"],!0)},d=function(){var e=o()((function*(e,t){p.reportIDKey({key:t});try{yield e()}catch(e){p.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";p.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),h=function(e,t,r){void 0!==r?p.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):p.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},g=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){p.errorReport({key:e,error:t,extend:""})}}},v=function(){return"devtools"===a.platform},y=function(){return"ios"===a.platform},m=function(){return"android"===a.platform},_=e=>{var t;if(s.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},b=e=>{var t,r;if(s.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},S=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",o=t.alias||"",a=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=a.length){var i=a.every(((e,t)=>e===r[t]));if(i)return i}if(o&&0===e.indexOf(o))return!0}return!1}));if(n)return n}return!1},w=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1047,1107,1155].indexOf(e)>=0,C=()=>c.isAsync()},872:(e,n,o)=>{o.d(n,{n:()=>D,x:()=>B});var u=o(748),l=o(632),v=o(240),y=o(205),m=o(932),_=o(57);o.g.LanDebug=l.Jd,o.g.getPerfDog=l.iz,o.g.getProfiler=l.k4;var b,S="undefined"!=typeof __AppServiceRemoteDebugger__,w=null,C={};i.onLoad((()=>{w=S?__AppServiceRemoteDebugger__(a.platform,y.u,y.$,v.Un,o.g.WeixinJSBridge):null,S&&w&&((C=(0,v.un)()?w.runtime.getSubContextGlobals():{}).BaseConsole&&w.runtime.setupConsole(console,C.BaseConsole),o.g.__remoteDebug__=w.__remoteDebug__,o.g.__isAppServiceRemoteDebugMode__=!0,o.g.__debuggerMessager__=y.$)}));var x=e=>b=e,k="app-service.js",I="appservice.app.js",P="common.app.js",A="appservice.js",E=new u.A({name:_.Q.APP,secure:!1,entry:[k],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),T=new Set;a.onReady((()=>{"develop"!==a.envVersion&&"trial"!==a.envVersion||(T.add("wx0354ba48aadc0ab2"),T.add("wxfa43a4a7041a84de"))}));var R=e=>g.info("[injectEntryFile] "+e),M=new Set,L=(e,t,r)=>{if(!M.has(e)){h.traceBeginEvent("Framework",`injectEntryFile # [${e}]`),S&&w&&(0,v.un)()&&w.runtime.registerScript(e);var n=-1,o=-1;M.add(e);var i="boolean"==typeof r?r:a.isLazyLoad;R(`isLazyLoad: ${i}`),R(`moduleName: ${e}`),R(`separatedPlugins: ${JSON.stringify(t)}`);var s=[];if(i){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,T.add(t.plugin_id));try{R(`accessSync path: ${r+P}`),(0,v.Gw)(r+P),s.push(r+P,r+I),t.prefix_path||((e,t)=>{g.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,v.Un)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}g.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(a.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,g.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),E.refreshWxConfig("subPackages",a.subPackages)}})(e,r+"plugin.json")}catch(e){s.push(r+A)}})),s.push(e+P,e+I),R(`using separated plugins: ${JSON.stringify(s)}`);var c=e||"__APP__";n=Date.now(),E.loadJsFiles(s,c,{reportKey:`entry-${c}`}),o=Date.now()}else(s=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,T.add(t.plugin_id)),r+A}))).push(e+k),R(`using separated plugins: ${JSON.stringify(s)}`),n=Date.now(),s.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!E.alreadyLoadedJsFiles.has(t)){try{E.evaluateScriptFile(t,e||"__APP__")}catch(e){R(`inject ${t} failed, reason: ${e.message}`)}E.alreadyLoadedJsFiles.add(t)}})),o=Date.now();E.refreshWxConfig("extendedLibList",Array.from(T)),n>0&&o>0&&R("time cost: "+(o-n)),h.traceEndEvent()}},O=(0,v.ik)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[],o=e.isLazyLoad;"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),b.globalRequireBlocker.block(),t.endsWith("/")||(t=`${t}/`),(0,v.un)()&&S?(t=r?"":t,w.runtime.isInitialInject()?(w.runtime.startBufferBridgeMessages(),w.runtime.runAfterAttached((()=>{L(t,n,o),w.runtime.dispatchBridgeMessages()}))):L(t,n,o)):L(r?"":t,n,o),b.globalRequireBlocker.unblock(),__glassEaselAdapter__.getEnv().afterPackageCommonEvaluation(),a.onReady((()=>{h.traceBeginEvent("Framework","ExecuteMiniProgram # "+t),b.globalRequireBlocker.flushQueue(),h.traceEndEvent()}))})),D=function(){var e,n={};S&&w&&(n={__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:w.__remoteDebug__,...C});var i={wxLibVersion:(null===(e=t)||void 0===e?void 0:e.version)||"9.9.9",__Function__:r,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:a,Reporter:p,BaseConsole:__appServiceConsole__.BaseConsole,wxNativeConsole:g,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:f,__freezeLibContextGlobal__:()=>(0,v.z9)(),originConsole:console,...n,debuggerMessager:y.$,__userActionTracer__:d,__appServiceSDK__:h,WeixinJSBridge:s,WeixinNativePluginMgr:m.N,setWxModule:x,__glassEaselAdapter__:__glassEaselAdapter__,__refreshEnv:(e={},t=null)=>{"sclEngine"===t&&(e||(e={}),__sclEngine__.inject&&__sclEngine__.inject(),e.__sclEngine__=__sclEngine__),E.refreshExportEnv({...e,notUpdateIntact:!0})}};return i.Trace=Trace,h.beforeSubPackageReady((()=>{E.refreshWxConfig("exportBaseMethods",o.g.__wxConfig.exportBaseMethods)}),{once:!0}),h.onSubPackageReady(O),E.setExportEnv(i),E.init()},B=function(){return E};c&&c.subscribe&&c.subscribe("injectEntryFile",(e=>{L(e.moduleName,e.separatedPlugins)}))},576:(e,t,r)=>{r.d(t,{V4:()=>i,i1:()=>u,uk:()=>l});var n=r(57),o=new(r(748).A)({name:n.Q.APP_RENDER,secure:!0,entry:[],entryLibs:["WARenderContext.js"],snapshotContextName:"app:subRender"}),i=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:a,Reporter:p,BaseConsole:__appServiceConsole__.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:g,WeixinJSBridge:s,__sclEngine__:__sclEngine__,__appServiceConsole__:__appServiceConsole__,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal,__glassEaselAdapter__:__glassEaselAdapter__};return e.Trace=Trace,h.beforeSubPackageReady((()=>{o.refreshWxConfig("exportBaseMethods",r.g.__wxConfig.exportBaseMethods)}),{once:!0}),o.setExportEnv(e),o.__initPromise__=o.init(),o},u=function(){return o},l=(e,t)=>c.publish(e,t,[o.getInnerId()])},650:(e,t,r)=>{r.d(t,{Ab:()=>l,cs:()=>u,x$:()=>i});var n=r(57),o=new(r(748).A)({name:n.Q.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),i=function(){__sclEngine__.initScl((()=>{}),!0);var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:a,Reporter:p,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:g,WeixinJSBridge:s,__sclEngine__:__sclEngine__};return e.Trace=Trace,o.setExportEnv(e),o.__initPromise__=o.init(),o},u=function(){return o},l=(e,t)=>c.publish(e,t,[o.getInnerId()])},357:(e,t,r)=>{r.d(t,{K:()=>c,O:()=>u});var n,o=r(57),i=r(748),c=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new i.A({name:o.Q.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===a.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:a,Reporter:p,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:g,WeixinJSBridge:s,Trace:Trace,console:console,subContextInitCallback:e,BaseConsole:__appServiceConsole__.BaseConsole};return n.setExportEnv(t),n.init(),n},u=()=>n},205:(e,t,r)=>{r.d(t,{$:()=>o,u:()=>a});var n=[],o="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};o.registerCallback=e=>{"function"==typeof e&&n.push(e)},o.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var a="undefined"!=typeof JSThread?JSThread:null},629:(e,t,r)=>{r.d(t,{Lz:()=>y,bZ:()=>w,e2:()=>b,on:()=>S});var n=r(748),o=r(240),s=r(632),l=r(205),p=r(57);r.g.LanDebug=s.Jd,r.g.getPerfDog=s.iz,r.g.__debuggerMessager__=l.$;var f,d="object"==typeof window&&window&&window.__wkrenderer_h5,v={};i.onLoad((()=>{f=d?[...u.globalEsObjs.map(((e,t)=>(v[t]=e,globalThis[e]))),...u.globalEsHiddenObjs]:(f=(f=[...u.globalEsObjs.map((e=>({key:e,val:globalThis[e]}))),...u.globalEsHiddenObjs]).filter((e=>null!=e&&e.key?Boolean(e.val)&&e.val!==eval:Boolean(e)&&e!==eval))).map(((e,t)=>e.key?(v[t]=e.key,e.val):(v[t]=`globalEsHiddenObjs-${t}`,e)))}));var y=new class{constructor(){var e;this.__readyCondomFn=[],this.whiteExptName="android"===(null===(e=a)||void 0===e?void 0:e.platform)?"clicfg_appbrand_android_control_close_condom_white":"clicfg_appbrand_ios_control_close_condom_white"}condomPrototype(e){var t;return(null===(t=a)||void 0===t?void 0:t.expt[this.whiteExptName])?e.length!==f.length?(g.warn("Condom Unexpected Error: the subCtx globalEnv length not equal mainCtx"),this.__readyCondomFn.forEach((e=>e(!1))),!1):(u.bridgeGlobalInstanceOf(e,f,v),this.__readyCondomFn.forEach((e=>e())),!0):(this.__readyCondomFn.forEach((e=>e(!1))),!1)}getGlobals(){return f||(console.error("unexpected error: getGlobals in gameContext too early"),[])}onCondomBridgeFinshed(e){this.__readyCondomFn.push(e)}},m=new n.A({name:p.Q.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"});function _(){h.getABTestConfig({experimentId:(0,o.un)()?"clicfg_appbrand_ios_game_split_multi_plugincode":"clicfg_appbrand_game_split_multi_plugincode",experimentType:"Expt",success(e){e&&1===Number(e.testConfig)&&function(){var e=a.plugins||a.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!r||r.some((e=>"gameContext"===e.type))})).map((t=>e[t]));m.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}()},fail(e){g.error("getABTestConfig fail",e)}})}var b=function(e){return e.__wxConfig=a,e.__ctx_bridge=y,e.__is_wk_game=d,m.setExportEnv(e),(0,o.hX)()||c.isAsync()||_(),m.afterPreloadInit()},S=function(){return m},w=function(e,t){return m.preInit(e,t)}},473:(e,t,r)=>{r.d(t,{k:()=>u,s:()=>l});var n=r(57),o=r(748),i=r(240),s=new o.A({name:n.Q.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var u=e=>(e.__wxConfig=a,s.setExportEnv(e),(0,i.hX)()||c.isAsync()||function(){var e=a.plugins||a.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));s.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),s.init()),l=function(){return s}},848:(e,t,r)=>{r.d(t,{$I:()=>S,lD:()=>x,pI:()=>w,yN:()=>C});var n=r(284),o=r.n(n),s=r(57),u=r(748),l=r(702),p=r(240),f=r(629),d=r(473),g={},v={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},y=e=>`__plugin__/${e}/plugin.js`,m=null,_=!1,b=1;i.onLoad((()=>{i.env.isGame&&a.preload&&"android"===i.env.platform&&!c.isAsync()?(m=new u.A({name:s.H.GAME_PLUGIN_PRELOAD+b,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),b++,m.preInit()):_=!0}));var S=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:i}=e,{provider:f}=e;if(!1===(0,p.tU)())throw new Error("isn't isolateContext mode!");var d,b=g[f=`${f}_${i?"_sub":"main"}`];if(b)return d=b.contextGlobal.__require,!0===b.__isCompleted||!1===b.__isCompleted&&(b.dynamicExportGlobal({name:"pluginEnv",value:t}),v.isolatedContext[f]=d),d;var S,w=s.H.GAME_PLUGIN+f,C=y(f.slice(0,-5));S=_?new u.A({name:w,secure:r,entry:[C],snapshotContextName:"game:sub"}):m;var x=e=>{if(e.__wxConfig=a,S.setExportEnv({...e,pluginEnv:t}),_)return S.init();S.setName(w),S.setEntry([C]),S.afterPreloadInit(),_=!0};return((0,p.hX)()||c.isAsync())&&!0===n?o()((function*(){return yield(0,p.Zk)(o()((function*(){(0,l.$)(S),yield x(h.getIsolatedGamePluginContextEnv(e)),d=S.contextGlobal.__require,S.__isCompleted=!1,g[f]=S})),"initGamePluginContext"),d}))():((0,p.Zk)((()=>{(0,l.$)(S),x(h.getIsolatedGamePluginContextEnv(e)),d=S.contextGlobal.__require,S.__isCompleted=!0,g[f]=S}),"initGamePluginContext"),v.isolatedContext[f]=d,d)},w=(e,t,r)=>{var{__name__:n}=e,a=y(t),i="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,p.hX)()||c.isAsync())&&!0===r?o()((function*(){return yield e.evaluateScriptFile(a),v[i][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:i}}))():(e.evaluateScriptFile(a),v[i][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:i})},C=function(){var e=o()((function*(){var e,t,r=(e=a.gamePlugins||a.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push({...e[r],context:n,contexts:null});var o=e[r].provider;"wx20afc706a711eefc"!==o&&"wx4d5893418b75cb20"!==o||t.push({...e[r],context:n,subContext:!0,contexts:null})}));else{t.push({...e[r],context:{type:"gameContext"},contexts:null});var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push({...e[r],context:{type:"gameContext"},subContext:!0,contexts:null})}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return S({...e,isPreload:!0});case"gameContext":return n((0,f.on)(),y(t));case"openDataContext":return n((0,d.s)(),y(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),x=()=>v},11:(e,t,n)=>{n.d(t,{Iz:()=>M,it:()=>R,kT:()=>L});var o=n(748),i=n(240),l=n(702),d=n(57),v=n(424),y=n.n(v),m=!1,_=!1,b=!1,S=null,w=0,C=null,x=null,k={},I={},P=[],A={},E={},T={};c.subscribe("magicBrushFrameSubContextBridge",((e={})=>{x=e.__subContextEngineBridge__})),c.subscribe("magicBrushFrameSubContextReady",((e={},t)=>{console.info("[MagicBrushFrame] magicBrushFrameSubContextReady",e);var r=e.frameSetInfo,n=h.renderMagicBrushFrameError;if(r){var o=A[r.frameId];if(!o)return n(r.frameId);var a=(0,l.d)().find((e=>e.getInnerId()===t));if("app-card"===o.bizType){var{componentName:i}=o.data,{appPath:s,cardPath:c}=o.data;if("/"!==s[s.length-1]&&(s+="/"),"/"===s[0]&&(s=s.substr(1)),"/"===c[0]&&(c=c.substr(1)),console.info("[MagicBrushFrame] inject user code",i,s,c),a.loadJsFiles([`${s}common.app.js`,`${s}appservice.app.js`,`${s}${c}.appservice.js`]),!S.getComponentSpace().getComponentByUrlWithoutDefault(i,""))return console.error("[MagicBrushFrame] inject user code error",i,s,c),n(r.frameId)}h.createMagicBrushFrameSet(r.name,r.frameId)}}));var R=e=>{var t;m||(m=!0,mb.requirePlugin("sclRectPaletteLib"),"undefined"!=typeof __wxLib__?(S=__wxLib__.codeSpace,w=(null===(t=__wxLib__.versionInfo)||void 0===t?void 0:t.glassEaselVersion)||0,console.info("[MagicBrushFrame] glassEasel version",w),h.onMessageFromMiniprogram((({message:e})=>{e=JSON.parse(e||"{}");var{type:t,data:r={}}=e;if("event"===t){var{name:n,frameId:o,args:a={}}=r,i=T[o];i&&i.emit(n,a)}}))):console.error("mb.requirePlugin('sclRectPaletteLib') error!"));var n=e.extraData.bizType;n&&("app-card"===n&&function(e){if(!_){_=!0;var t=y()(w);Object.assign(k,t),S.addCompiledTemplate("index",{content:k.index}),S.addComponentStaticConfig("index",{frame:"wx://component/frame","frame-set":"wx://component/frame-set"}),S.globalComponentEnv(globalThis,"index",(()=>{globalThis.Component({data:{frameSetList:[]},lifetimes:{created(){console.info("[MagicBrushFrame] frameSetRoot created"),C=this,P.length&&this.setData({frameSetList:P})},attached(){console.info("[MagicBrushFrame] frameSetRoot attached")}},methods:{onFrameLoad(e){if(e.currentTarget){var t,r,n=null===(t=e.currentTarget.data)||void 0===t||null===(r=t.params)||void 0===r?void 0:r.frameId;T[n]=e.detail.eventChannel}}}})}));var{appCardDef:n}=e.extraData;if(n){var{template:o,template2:a,cards:i}=n;if(!o&&!a||!i||!i.length)return;var s=null;if(w>=1&&"string"==typeof a?s=a:"string"==typeof o&&(s=o),s){var c=new r("global","require","module","exports","window","document","frames","self","location","navigator","localStorage","history","Caches","screen","alert","confirm","prompt","XMLHttpRequest","WebSocket","Reporter","webkit","WeixinJSCore",`return ${s}`).call({});c&&Object.assign(k,c)}for(var u of i){var l=u.type;l&&(I[l]={path:`${l}/index`,...u})}}}}(e),h.createMagicBrushFrameSetRoot())},M=e=>{var t=h.renderMagicBrushFrameError,{frameId:n,extraData:c}=e,v=c.bizType;if(!v)return t(n);if(console.info("[MagicBrushFrame] createMagicBrushFrameContext",n,v),"app-card"===v){var{appId:y,type:m,pageId:_,params:w,appPath:T,cardPath:R}=c,{path:M,style:L,config:O,definitionFilter:D}=I[m]||{},B=`${_}-${y}-${m}`,j=function(e){return e};if(!M||!T||!R)return t(n);S.addCompiledTemplate(B,{content:k[M]}),L&&L.url&&S.addStyleSheet(B,L.url,L.scopeName),O&&"object"==typeof O&&S.addComponentStaticConfig(B,O||{usingComponents:{}}),D&&"string"==typeof D&&(j=new r("definition","Behavior",`${D}`));var N=w||{};N.frameId=n;var F={frameId:n,name:B,path:B,properties:N};if(C){var W=C.data.frameSetList;W.push(F),C.setData({frameSetList:W})}else P.push(F);b||(u.hijack(),b=!0);var U=new o.A({name:`${d.H.APP_CARDS}${y}`,secure:!0,entry:[],entryLibs:["WAMagicBrushSubContext.js"],env:{}});A[n]={frameSetName:F.name,subContextGuid:U.__guid__,bizType:v,data:{componentName:B,appPath:T,cardPath:R}},(0,l.$)(U),S.globalComponentEnv(globalThis,B,(()=>{if("app-card"===v){var t=globalThis.Component,r=globalThis.Behavior;globalThis.Component=function(e){return e.behaviors=e.behaviors||[],e.behaviors.unshift(r({lifetimes:{created(){E[n]=this._$;var e=this._$,t=function(){},r={},o=function(t){Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:()=>e[t],set(e){this[t]=e}})},a=function(t){r[t]=e[t].bind(e)};o("is"),o("id"),o("dataset"),o("data"),a("setData"),a("updateData"),a("replaceDataOnPath"),a("spliceArrayDataOnPath"),a("applyDataUpdates"),a("groupUpdates"),a("hasBehavior"),a("traitBehavior"),a("triggerEvent"),this.createSelectorQuery=t,this.selectComponent=t,this.selectAllComponents=t,this.selectOwnerComponent=t,this.getRelationNodes=t,this.general=t,this.asInstanceOf=t,this._$=r,this._$onCardEvent=this._$onCardEvent.bind(this)},attached(){this.onEventFromMiniprogram("_$pageShow",this._$onPageShow),this.onEventFromMiniprogram("_$pageHide",this._$onPageHide),this.onEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("attached")},detached(){this.offEventFromMiniprogram("_$pageShow",this._$onPageShow),this.offEventFromMiniprogram("_$pageHide",this._$onPageHide),this.offEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("detached")}},methods:{sendEventToMiniprogram(e,t={}){h.sendEventToMiniprogram(n,e,{frameId:n,...t})},onEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.on(e,t)},offEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.off(e,t)},_$onPageShow(){var e=E[n];e&&e.triggerPageLifeTime("show")},_$onPageHide(){var e=E[n];e&&e.triggerPageLifeTime("hide")},_$onTapCard(){this.sendEventToMiniprogram("tap")},_$onCardEvent(e){this._$dealWithCardEvent&&this._$dealWithCardEvent(e)}}})),t(j.call({},e,r))}}var c={console:console,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:a,Reporter:p,wxNativeConsole:g,__subContextEngineBridge__:x||f,__freezeLibContextGlobal__:x?()=>{}:()=>(0,i.z9)(),WeixinJSBridge:s};U.setExportEnv(c),U.init(),U.refreshExportEnv({isRefresh:!0,Component:globalThis.Component,Behavior:globalThis.Behavior,frameSetInfo:{name:F.name,frameId:e.frameId},__appServiceSDK__:{wx:h.getWx((0,o.f)(U.__guid__),n),console:Object.assign({group:()=>{},groupEnd:()=>{}},h.getConsole(n))},...c})}))}},L=e=>{var t=(0,l.d)(),r=A[e];if(r){var n=t.findIndex((e=>e.__guid__===r.subContextGuid)),o=t[n];if(o)if(o.destroy(),t.splice(n,1),delete A[e],delete E[e],delete T[e],h.removeMagicBrushFrameSet(r.frameSetName),C){for(var a=C.data.frameSetList,i=a.length-1;i>=0;i--)a[i].frameId===e&&a.splice(i,1);C.setData({frameSetList:a})}else for(var s=P.length-1;s>=0;s--)P[s].frameId===e&&P.splice(s,1)}}},932:(e,t,r)=>{r.d(t,{N:()=>n});var n="undefined"!=typeof WeixinNativePluginMgr?WeixinNativePluginMgr:{}},424:e=>{e.exports=e=>{return e>=1?(n=function(e){return null==e?Object.create(null):e},o=function(e,t){return!0===e||(e?e[t]:void 0)},(r={}).index=((t={})[""]={}[""]=(e,t,r,a)=>{e.c,e.m;var i=e.r,s=!0===a;return{C:(t,c,u,l,p)=>{p(r.frameSetList,"name",a?a.frameSetList:void 0,["frameSetList"],((t,r,a,c,u,l,p,f)=>{f("frame-set",{},((e,t)=>{(t||s||o(c,"name"))&&i(e,"name",n(r).name)}),((t,a,u)=>{u("frame",{},((t,a)=>{(a||s||o(c,"path"))&&i(t,"path",n(r).path),(a||s||o(c,"properties"))&&i(t,"params",n(r).properties),a&&i(t,"left","0px"),a&&i(t,"top","0px"),a&&i(t,"width","100%"),a&&i(t,"height","100%"),a&&e.r(t,"bindload","onFrameLoad")}),(e=>{}))}))}))},B:{}}},function(e){return t[e]}),r):(()=>{var e=function(e){return null==e?Object.create(null):e},t=function(e,t){return!0===e||(e?e[t]:void 0)},r={};return r.index=(()=>{var r={};return r[""]={}[""]=(r,n,o,a)=>{r.c,r.y,r.m;var i=r.r,s=!0===a;return{C:(r,n,c,u)=>{u(o.frameSetList,"name",a?a.frameSetList:void 0,["frameSetList"],((r,n,o,a,c,u,l,p)=>{p("frame-set",{},(o=>{(r||s||t(a,"name"))&&i(o,"name",e(n).name)}),((o,c)=>{c("frame",{},(o=>{(r||s||t(a,"path"))&&i(o,"path",e(n).path),(r||s||t(a,"properties"))&&i(o,"params",e(n).properties),r&&i(o,"left","0px"),r&&i(o,"top","0px"),r&&i(o,"width","100%"),r&&i(o,"height","100%"),r&&i(o,"bindload","onFrameLoad")}),(()=>{}))}))}))},B:{}}},function(e){return r[e]}})(),r})();var t,r,n,o}},287:(e,t,r)=>{var n=r(702);c&&c.subscribe&&(c.subscribe("loadJsFiles",(e=>{var t=(0,n.d)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);g.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),c.subscribe("loadLibFiles",(e=>{var t=(0,n.d)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);g.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},700:(e,t,r)=>{r.d(t,{Lv:()=>i,i0:()=>n});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},o=!1,a=[],i=e=>{a.push(e),o||(o=!0,Promise.resolve().then((()=>{for(var e=0;e<a.length;++e)if("function"==typeof a[e])try{a[e]()}catch(e){throw g.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}o=!1,a.length=0})))}},284:e=>{e.exports=o.asyncToGenerator}},l={};function y(t){var r=l[t];if(void 0!==r)return r.exports;var n=l[t]={exports:{}};return e[t](n,n.exports,y),n.exports}y.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return y.d(t,{a:t}),t},y.d=(e,t)=>{for(var r in t)y.o(t,r)&&!y.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},y.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),y.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),y.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var m={};y.r(m),y.d(m,{createAppRenderContext:()=>D,createAppSclContext:()=>j,createAppXRFrameRenderContext:()=>F,createGameOpenDataContext:()=>V,createIsolatedGamePlugin:()=>P.$I,createMagicBrushFrameContext:()=>A.Iz,getAppContext:()=>S.x,getGameContext:()=>k.on,getGameOpenDataContext:()=>I.s,getGamePlugins:()=>P.lD,getPool:()=>T.d,initAppRelatedContexts:()=>O,initFunctionalPage:()=>U,initGameJS:()=>$,initGameRelatedContexts:()=>W,initMagicBrushFrameContext:()=>A.it,injectGamePlugin:()=>P.pI,isIsolateContext:()=>E.tU,isValidGameIndependentSubpackagePath:()=>E.Cb,loadJsFiles:()=>G,onSubContextMessage:()=>z,postMessageToSubContext:()=>H,postMessageToSubContextSync:()=>K,publishToRenderContext:()=>w.uk,publishToSclContext:()=>x.Ab,removeMagicBrushFrameContext:()=>A.kT,waitAppRenderContextInit:()=>B,waitAppSclContextInit:()=>N});var _=y(284),b=y.n(_),S=(y(251),y(872)),w=y(576),C=y(357),x=y(650),k=y(629),I=y(473),P=y(848),A=y(11),E=y(240),T=y(702),R=(y(287),y(48),y(57)),M=Object.keys,L=new i.EventEmitter,O=function(e){(0,E.tU)();for(var t=M(e),r=0;r<t.length;r++){var n=t[r];E.jj[n]=e[n]}(0,E.tU)()&&(0,E.Zk)((()=>{u.hijack(!0,null),(0,T.$)((0,S.x)());var e=(0,S.n)();1===a.envPreloadType&&(e instanceof Promise?e.then((e=>{h.loadPreloadSdkSubPackage(),g.info("load subpackage finish")})):(h.loadPreloadSdkSubPackage(),g.info("load subpackage finish")))}),"initAppIsolatedContext"),a.onReady((()=>{!(0,E.tU)()&&a.plugins&&(u.overwriteSetPrototypeOf(),u.deepFreezeGlobalObjs([],!1))}))},D=function(){var e;(0,E.tU)(),(0,E.Zk)((()=>{e=(0,w.V4)(),(0,T.$)(e),e.onMessage((e=>{L.emit("subContextMessage",e)})),(0,E.z9)()}),"createAppRenderContext")},B=function(){var e=b()((function*(){var e,t=(0,T.d)().find((e=>e.__name__===R.Q.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),j=function(){var e;(0,E.tU)(),(0,E.Zk)((()=>{e=(0,x.x$)(),(0,T.$)(e),e.onMessage((e=>{L.emit("subContextMessage",e)})),(0,E.z9)()}),"createAppSclContext")},N=function(){var e=b()((function*(){var e,t=(0,T.d)().find((e=>e.__name__===R.Q.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),F=function(e){(0,E.Zk)((()=>{var t=(0,C.K)(e);(0,T.$)(t),t.onMessage((e=>{L.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},W=()=>{var e,t;if(1===a.envPreloadType){var r=h.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=h.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=a.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))U(e);else if((0,E.xJ)(r.scene)){var n=(0,E.Cb)(r.path,a.subPackages);if(n){var o;if("playable"===(null==n||null===(o=n.meta)||void 0===o?void 0:o.type)&&(h.runPlayableGameJS(n.root,n.meta),(0,E.m0)()||(0,E.un)()))return;var i=(0,k.on)(),s=n.root;s.endsWith(".js")||(s.endsWith("/")||(s=`${s}/`),s=`${s}game.js`),i.setEntry([s]),console.log("exportEnvs ==",e),q(e,(e=>{e&&(console.error("run game independent subpackage fail",e),g.error("run game independent subpackage fail",e),i.evaluateScriptFile("game.js"),p.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else q(e)}else q(e)}1===a.envPreloadType&&(h.loadPreloadSdkSubPackage(),g.info("load subpackage finish")),(0,k.bZ)(e,t),a.onReady((()=>{((0,E.hX)()||c.isAsync())&&(0,E.tU)()?(0,P.yN)().then((()=>(n(),null))):n()}))};function U(e){(e=e||h.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function $(e){e=e||h.getGameRelatedContextsExports(),(0,T.d)().length>0||q(e)}function q(e,t){e=e||h.getGameRelatedContextsExports(),(0,E.tU)()&&(0,E.Zk)((()=>{k.Lz.onCondomBridgeFinshed(E.z9),(0,T.$)((0,k.on)());var r=(0,k.e2)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function V(e){e=e||h.getGameRelatedContextsExports(),(0,E.Zk)((()=>{(0,T.$)((0,I.s)());var t=(0,I.k)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var G=()=>{},H=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,C.O)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,x.cs)().postMessageAsync(e):(0,w.i1)().postMessageAsync(e)},K=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,C.O)().postMessage(e):4294967298===t?(0,x.cs)().postMessage(e):(0,w.i1)().postMessage(e)},z=e=>{L.on("subContextMessage",e)};v=m})()}(this);var __WAMagicBrushMainContextEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;